/*! For license information please see main.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.DocEditor=t(require("react"),require("react-dom")):e.DocEditor=t(e.react,e["react-dom"])}(self,((e,t)=>(()=>{var n={20:(e,t,n)=>{"use strict";n(228);var r=n(155),o=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,r)&&!a.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.jsx=c,t.jsxs=c},113:()=>{!function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism)},155:t=>{"use strict";t.exports=e},228:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,s,l=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var c in i=Object(arguments[a]))n.call(i,c)&&(l[c]=i[c]);if(t){s=t(i);for(var u=0;u<s.length;u++)r.call(i,s[u])&&(l[s[u]]=i[s[u]])}}return l}},271:()=>{Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean},312:()=>{Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},342:()=>{Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},415:()=>{!function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism)},467:(e,t,n)=>{var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var s in r={},n[i]=r,t)t.hasOwnProperty(s)&&(r[s]=e(t[s],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if(document.currentScript&&"SCRIPT"===document.currentScript.tagName)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||o.languages)[e],s={};for(var l in i)if(i.hasOwnProperty(l)){if(l==t)for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);n.hasOwnProperty(l)||(s[l]=i[l])}var c=r[e];return r[e]=s,o.languages.DFS(o.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,r,i){i=i||{};var s=o.util.objId;for(var l in t)if(t.hasOwnProperty(l)){n.call(t,l,t[l],r||l);var a=t[l],c=o.util.type(a);"Object"!==c||i[s(a)]?"Array"!==c||i[s(a)]||(i[s(a)]=!0,e(a,n,l,i)):(i[s(a)]=!0,e(a,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,s=0;i=r.elements[s++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){var i=o.util.getLanguage(t),s=o.languages[i];o.util.setLanguage(t,i);var l=t.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&o.util.setLanguage(l,i);var a={element:t,language:i,grammar:s,code:t.textContent};function c(e){a.highlightedCode=e,o.hooks.run("before-insert",a),a.element.innerHTML=a.highlightedCode,o.hooks.run("after-highlight",a),o.hooks.run("complete",a),r&&r.call(a.element)}if(o.hooks.run("before-sanity-check",a),(l=a.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!a.code)return o.hooks.run("complete",a),void(r&&r.call(a.element));if(o.hooks.run("before-highlight",a),a.grammar)if(n&&e.Worker){var u=new Worker(o.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:a.language,code:a.code,immediateClose:!0}))}else c(o.highlight(a.code,a.grammar,a.language));else c(o.util.encode(a.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new a;return c(o,o.head,e),l(e,o,t,o.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function s(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function l(e,t,n,r,a,d){for(var f in n)if(n.hasOwnProperty(f)&&n[f]){var g=n[f];g=Array.isArray(g)?g:[g];for(var h=0;h<g.length;++h){if(d&&d.cause==f+","+h)return;var p=g[h],m=p.inside,y=!!p.lookbehind,_=!!p.greedy,b=p.alias;if(_&&!p.pattern.global){var v=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,v+"g")}for(var x=p.pattern||p,C=r.next,w=a;C!==t.tail&&!(d&&w>=d.reach);w+=C.value.length,C=C.next){var S=C.value;if(t.length>e.length)return;if(!(S instanceof i)){var E,k=1;if(_){if(!(E=s(x,w,e,y))||E.index>=e.length)break;var N=E.index,T=E.index+E[0].length,O=w;for(O+=C.value.length;N>=O;)O+=(C=C.next).value.length;if(w=O-=C.value.length,C.value instanceof i)continue;for(var F=C;F!==t.tail&&(O<T||"string"==typeof F.value);F=F.next)k++,O+=F.value.length;k--,S=e.slice(w,O),E.index-=w}else if(!(E=s(x,0,S,y)))continue;N=E.index;var A=E[0],L=S.slice(0,N),P=S.slice(N+A.length),R=w+S.length;d&&R>d.reach&&(d.reach=R);var M=C.prev;if(L&&(M=c(t,M,L),w+=L.length),u(t,M,k),C=c(t,M,new i(f,m?o.tokenize(A,m):A,b,A)),P&&c(t,C,P),k>1){var I={cause:f+","+h,reach:R};l(e,t,n,C.prev,w,I),d&&I.reach>d.reach&&(d.reach=I.reach)}}}}}}function a(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function u(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(i.classes,s):i.classes.push(s)),o.hooks.run("wrap",i);var l="";for(var a in i.attributes)l+=" "+a+'="'+(i.attributes[a]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+l+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,s=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),s&&e.close()}),!1),o):o;var d=o.util.currentScript();function f(){o.manual||o.highlightAll()}if(d&&(o.filename=d.src,d.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var g=document.readyState;"loading"===g||"interactive"===g&&d&&d.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=r),void 0!==n.g&&(n.g.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};o["language-"+t]={pattern:/[\s\S]+/,inside:r.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},r.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(e,t){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:r.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(void 0!==r&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},t="data-src-status",n="loading",o="loaded",i="pre[data-src]:not(["+t+'="'+o+'"]):not(['+t+'="'+n+'"])';r.hooks.add("before-highlightall",(function(e){e.selector+=", "+i})),r.hooks.add("before-sanity-check",(function(s){var l=s.element;if(l.matches(i)){s.code="",l.setAttribute(t,n);var a=l.appendChild(document.createElement("CODE"));a.textContent="Loading…";var c=l.getAttribute("data-src"),u=s.language;if("none"===u){var d=(/\.(\w+)$/.exec(c)||[,"none"])[1];u=e[d]||d}r.util.setLanguage(a,u),r.util.setLanguage(l,u);var f=r.plugins.autoloader;f&&f.loadLanguages(u),function(e,n,i){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onreadystatechange=function(){4==s.readyState&&(s.status<400&&s.responseText?function(e){l.setAttribute(t,o);var n=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),r=t[2],o=t[3];return r?o?[n,Number(o)]:[n,void 0]:[n,n]}}(l.getAttribute("data-range"));if(n){var i=e.split(/\r\n?|\n/g),s=n[0],c=null==n[1]?i.length:n[1];s<0&&(s+=i.length),s=Math.max(0,Math.min(s-1,i.length)),c<0&&(c+=i.length),c=Math.max(0,Math.min(c,i.length)),e=i.slice(s,c).join("\n"),l.hasAttribute("data-start")||l.setAttribute("data-start",String(s+1))}a.textContent=e,r.highlightElement(a)}(s.responseText):s.status>=400?i("✖ Error "+s.status+" while fetching file: "+s.statusText):i("✖ Error: File does not exist or is empty"))},s.send(null)}(c,0,(function(e){l.setAttribute(t,"failed"),a.textContent=e}))}})),r.plugins.fileHighlight={highlight:function(e){for(var t,n=(e||document).querySelectorAll(i),o=0;t=n[o++];)r.highlightElement(t)}};var s=!1;r.fileHighlight=function(){s||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),s=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},514:e=>{"use strict";e.exports=t},545:()=>{!function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var o=t[n];if("code"===o.type){var i=o.content[1],s=o.content[3];if(i&&s&&"code-language"===i.type&&"code-block"===s.type&&"string"==typeof i.content){var l=i.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),a="language-"+(l=(/[a-z][\w-]*/i.exec(l)||[""])[0].toLowerCase());s.alias?"string"==typeof s.alias?s.alias=[s.alias,a]:s.alias.push(a):s.alias=[a]}}else e(o.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,o=t.classes.length;r<o;r++){var i=t.classes[r],c=/language-(.+)/.exec(i);if(c){n=c[1];break}}var u=e.languages[n];if(u)t.content=e.highlight(t.content.replace(s,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var n;return"#"===(t=t.toLowerCase())[0]?(n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),a(n)):l[t]||e})),u,n);else if(n&&"none"!==n&&e.plugins.autoloader){var d="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=d,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(d);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}}));var s=RegExp(e.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism)},587:()=>{!function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism)},596:()=>{Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec},624:()=>{Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},723:()=>{Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript},793:()=>{Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach((function(e){e.inside.interpolation.inside=Prism.languages.swift}))},848:(e,t,n)=>{"use strict";e.exports=n(20)},905:()=>{!function(e){var t=e.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};t.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}}(Prism)},961:()=>{!function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,(function(){return t}));t=t.replace(/<self>/g,(function(){return/[^\s\S]/.source})),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism)},966:()=>{Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}},976:()=>{!function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";o.r(i),o.d(i,{RichTextEditor:()=>zh});var e=o(155),t=o.n(e);const n=(0,e.createContext)(null);function r(){const t=(0,e.useContext)(n);return null==t&&function(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),t}function s(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,a=l&&"documentMode"in document?document.documentMode:null,c=l&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),u=l&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),d=!(!l||!("InputEvent"in window)||a)&&"getTargetRanges"in new window.InputEvent("input"),f=l&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),g=l&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,h=l&&/Android/.test(navigator.userAgent),p=l&&/^(?=.*Chrome).*/i.test(navigator.userAgent),m=l&&h&&p,y=l&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!p;function _(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}const b=1,v=11,x=1,C=2,w=0,S=1,E=2,k=1,N=2,T=3,O=4,F=5,A=6,L=f||g||y?" ":"​",P="\n\n",R=u?" ":L,M="֑-߿יִ-﷽ﹰ-ﻼ",I="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",z=new RegExp("^[^"+I+"]*["+M+"]"),D=new RegExp("^[^"+M+"]*["+I+"]"),B={bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},$={directionless:1,unmergeable:2},j={center:2,end:6,justify:4,left:1,right:3,start:5},K={[N]:"center",[A]:"end",[O]:"justify",[k]:"left",[T]:"right",[F]:"start"},H={normal:0,segmented:2,token:1},W={[w]:"normal",[E]:"segmented",[S]:"token"},U="$";function J(e,t,n,r,o,i){let s=e.getFirstChild();for(;null!==s;){const e=s.__key;s.__parent===t&&(Kr(s)&&J(s,e,n,r,o,i),n.has(e)||i.delete(e),o.push(e)),s=s.getNextSibling()}}let V=!1,q=0;function Z(e){q=e.timeStamp}function Y(e,t,n){const r="BR"===e.nodeName,o=t.__lexicalLineBreak;return o&&(e===o||r&&e.previousSibling===o)||r&&void 0!==Fo(e,n)}function G(e,t,n){const r=_i(ui(n));let o=null,i=null;null!==r&&r.anchorNode===e&&(o=r.anchorOffset,i=r.focusOffset);const s=e.nodeValue;null!==s&&Wo(t,s,o,i,!1)}function X(e,t,n){if(Kn(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return bo(t)&&n.isAttached()}function Q(e,t,n,r){for(let o=e;o&&!Pi(o);o=si(o)){const e=Fo(o,t);if(void 0!==e){const t=To(e,n);if(t)return Ur(t)||!vi(o)?void 0:[o,t]}else if(o===r)return[r,Mo(n)]}}function ee(e,t,n){V=!0;const r=performance.now()-q>100;try{Dr(e,(()=>{const o=ir()||function(e){return e.getEditorState().read((()=>{const e=ir();return null!==e?e.clone():null}))}(e),i=new Map,s=e.getRootElement(),l=e._editorState,a=e._blockCursorElement;let c=!1,d="";for(let n=0;n<t.length;n++){const f=t[n],g=f.type,h=f.target,p=Q(h,e,l,s);if(!p)continue;const[m,y]=p;if("characterData"===g)r&&Ln(y)&&bo(h)&&X(o,h,y)&&G(h,y,e);else if("childList"===g){c=!0;const t=f.addedNodes;for(let n=0;n<t.length;n++){const r=t[n],o=Oo(r),i=r.parentNode;if(null!=i&&r!==a&&null===o&&!Y(r,i,e)){if(u){const e=(vi(r)?r.innerText:null)||r.nodeValue;e&&(d+=e)}i.removeChild(r)}}const n=f.removedNodes,r=n.length;if(r>0){let t=0;for(let o=0;o<r;o++){const r=n[o];(Y(r,h,e)||a===r)&&(h.appendChild(r),t++)}r!==t&&i.set(m,y)}}}if(i.size>0)for(const[t,n]of i)n.reconcileObservedMutation(t,e);const f=n.takeRecords();if(f.length>0){for(let t=0;t<f.length;t++){const n=f[t],r=n.addedNodes,o=n.target;for(let t=0;t<r.length;t++){const n=r[t],i=n.parentNode;null==i||"BR"!==n.nodeName||Y(n,o,e)||i.removeChild(n)}}n.takeRecords()}null!==o&&(c&&Io(o),u&&ni(e)&&o.insertRawText(d))}))}finally{V=!1}}function te(e){const t=e._observer;null!==t&&ee(e,t.takeRecords(),t)}function ne(e){!function(e){0===q&&ui(e).addEventListener("textInput",Z,!0)}(e),e._observer=new MutationObserver(((t,n)=>{ee(e,t,n)}))}class re{constructor(e,t=new Map,n=void 0,r=new Map,o=void 0){this.node=e,this.sharedConfigMap=t,this.unknownState=n,this.knownState=r;const i=void 0!==o?o:function(e,t,n){let r=n.size;if(t)for(const o in t){const t=e.get(o);t&&n.has(t)||r++}return r}(t,n,r);this.size=i}getValue(e){const t=this.knownState.get(e);if(void 0!==t)return t;this.sharedConfigMap.set(e.key,e);let n=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const t=this.unknownState[e.key];void 0!==t&&(n=e.parse(t)),this.updateFromKnown(e,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState};for(const[t,n]of this.knownState)t.isEqual(n,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(n);return oe(e)?{[U]:e}:{}}getWritable(e){if(this.node===e)return this;const t=new Map(this.knownState),n=oe(r=this.unknownState)&&{...r};var r;if(n)for(const e of t.keys())delete n[e.key];return new re(e,this.sharedConfigMap,oe(n),t,this.size)}updateFromKnown(e,t){const n=e.key;this.sharedConfigMap.set(n,e);const{knownState:r,unknownState:o}=this;r.has(e)||o&&n in o||this.size++,r.set(e,t)}updateFromUnknown(e,t){const n=this.sharedConfigMap.get(e);n?this.updateFromKnown(n,n.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const e of t.keys())t.set(e,e.defaultValue);if(this.size=t.size,this.unknownState={},e)for(const[t,n]of Object.entries(e))this.updateFromUnknown(t,n);this.unknownState=oe(this.unknownState)}}function oe(e){if(e)for(const t in e)return e}function ie(e,t){const n=e.__mode,r=e.__format,o=e.__style,i=t.__mode,s=t.__format,l=t.__style,a=e.__state,c=t.__state;return(null===n||n===i)&&(null===r||r===s)&&(null===o||o===l)&&(null===e.__state||a===c||function(e,t){if(e===t)return!0;if(e&&t&&e.size!==t.size)return!1;const n=new Set,r=(e,t)=>{for(const[r,o]of e.knownState){if(n.has(r.key))continue;n.add(r.key);const e=t?t.getValue(r):r.defaultValue;if(e!==o&&!r.isEqual(e,o))return!0}return!1},o=(e,t)=>{const{unknownState:r}=e,o=t?t.unknownState:void 0;if(r)for(const[e,t]of Object.entries(r))if(!n.has(e)&&(n.add(e),t!==(o?o[e]:void 0)))return!0;return!1};return!(e&&r(e,t)||t&&r(t,e)||e&&o(e,t)||t&&o(t,e))}(a,c))}function se(e,t){const n=e.mergeWithSibling(t),r=Er()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function le(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&Ln(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(ie(t,r)){r=se(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&Ln(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(ie(r,n)){r=se(r,n);break}break}n.remove()}}else r.remove()}function ae(e){return ce(e.anchor),ce(e.focus),e}function ce(e){for(;"element"===e.type;){const t=e.getNode(),n=e.offset;let r,o;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),o=!0):(r=t.getChildAtIndex(n),o=!1),Ln(r)){e.set(r.__key,o?r.getTextContentSize():0,"text",!0);break}if(!Kr(r))break;e.set(r.__key,o?r.getChildrenSize():0,"element",!0)}}let ue,de,fe,ge,he,pe,me,ye,_e,be,ve="",xe="",Ce=null,we="",Se="",Ee=!1,ke=!1,Ne=null;function Te(e,t){const n=me.get(e);if(null!==t){const n=He(e);n.parentNode===t&&t.removeChild(n)}if(ye.has(e)||de._keyToDOMMap.delete(e),Kr(n)){const e=Be(n,me);Oe(e,0,e.length-1,null)}void 0!==n&&Qo(be,fe,ge,n,"destroyed")}function Oe(e,t,n,r){let o=t;for(;o<=n;++o){const t=e[o];void 0!==t&&Te(t,r)}}function Fe(e,t){e.setProperty("text-align",t)}const Ae="40px";function Le(e,t){const n=ue.theme.indent;if("string"==typeof n){const r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||Ae;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function Pe(e,t){const n=e.style;0===t?Fe(n,""):1===t?Fe(n,"left"):2===t?Fe(n,"center"):3===t?Fe(n,"right"):4===t?Fe(n,"justify"):5===t?Fe(n,"start"):6===t&&Fe(n,"end")}function Re(e,t){const n=ye.get(e);void 0===n&&s(60);const r=n.createDOM(ue,de);if(function(e,t,n){const r=n._keyToDOMMap;(function(e,t,n){e[`__lexicalKey_${t._key}`]=n})(t,n,e),r.set(e,t)}(e,r,de),Ln(n)?r.setAttribute("data-lexical-text","true"):Ur(n)&&r.setAttribute("data-lexical-decorator","true"),Kr(n)){const e=n.__indent,t=n.__size;if(0!==e&&Le(r,e),0!==t){const e=t-1;!function(e,t,n,r){const o=xe;xe="",Me(e,n,0,t,n.getDOMSlot(r)),De(n,r),xe=o}(Be(n,ye),e,n,r)}const o=n.__format;0!==o&&Pe(r,o),n.isInline()||ze(null,n,r),oi(n)&&(ve+=P,Se+=P)}else{const t=n.getTextContent();if(Ur(n)){const t=n.decorate(de,ue);null!==t&&je(e,t),r.contentEditable="false"}else Ln(n)&&(n.isDirectionless()||(xe+=t));ve+=t,Se+=t}return null!==t&&t.insertChild(r),Qo(be,fe,ge,n,"created"),r}function Me(e,t,n,r,o){const i=ve;ve="";let s=n;for(;s<=r;++s){Re(e[s],o);const t=ye.get(e[s]);null!==t&&Ln(t)&&(null===Ce&&(Ce=t.getFormat()),""===we&&(we=t.getStyle()))}oi(t)&&(ve+=P),o.element.__lexicalTextContent=ve,ve=i+ve}function Ie(e,t){if(e){const n=e.__last;if(n){const e=t.get(n);if(e)return hn(e)?"line-break":Ur(e)&&e.isInline()?"decorator":null}return"empty"}return null}function ze(e,t,n){const r=Ie(e,me),o=Ie(t,ye);r!==o&&t.getDOMSlot(n).setManagedLineBreak(o)}function De(e,t){const n=t.__lexicalDirTextContent||"",r=t.__lexicalDir||"";if(n!==xe||r!==Ne){const n=""===xe,o=n?Ne:function(e){return z.test(e)?"rtl":D.test(e)?"ltr":null}(xe);if(o!==r){const i=t.classList,s=ue.theme;let l=null!==r?s[r]:void 0,a=null!==o?s[o]:void 0;if(void 0!==l){if("string"==typeof l){const e=_(l);l=s[r]=e}i.remove(...l)}if(null===o||n&&"ltr"===o)t.removeAttribute("dir");else{if(void 0!==a){if("string"==typeof a){const e=_(a);a=s[o]=e}void 0!==a&&i.add(...a)}t.dir=o}ke||(e.getWritable().__dir=o)}Ne=o,t.__lexicalDirTextContent=xe,t.__lexicalDir=o}}function Be(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=t.get(r);void 0===e&&s(101),n.push(r),r=e.__next}return n}function $e(e,t){const n=me.get(e);let r=ye.get(e);void 0!==n&&void 0!==r||s(61);const o=Ee||pe.has(e)||he.has(e),i=ii(de,e);if(n===r&&!o){if(Kr(n)){const e=i.__lexicalTextContent;void 0!==e&&(ve+=e,Se+=e);const t=i.__lexicalDirTextContent;void 0!==t&&(xe+=t)}else{const e=n.getTextContent();Ln(n)&&!n.isDirectionless()&&(xe+=e),Se+=e,ve+=e}return i}if(n!==r&&o&&Qo(be,fe,ge,r,"updated"),r.updateDOM(n,i,ue)){const n=Re(e,null);return null===t&&s(62),t.replaceChild(n,i),Te(e,null),n}if(Kr(n)&&Kr(r)){const e=r.__indent;e!==n.__indent&&Le(i,e);const t=r.__format;t!==n.__format&&Pe(i,t),o&&(function(e,t,n){const r=xe;var o;xe="",Ce=null,we="",function(e,t,n){const r=ve,o=e.__size,i=t.__size;ve="";const l=n.element;if(1===o&&1===i){const n=e.__first,o=t.__first;if(n===o)$e(n,l);else{const e=He(n),t=Re(o,null);try{l.replaceChild(t,e)}catch(r){if("object"==typeof r&&null!=r){const i=`${r.toString()} Parent: ${l.tagName}, new child: {tag: ${t.tagName} key: ${o}}, old child: {tag: ${e.tagName}, key: ${n}}.`;throw new Error(i)}throw r}Te(n,null)}const i=ye.get(o);Ln(i)&&(null===Ce&&(Ce=i.getFormat()),""===we&&(we=i.getStyle()))}else{const r=Be(e,me),a=Be(t,ye);if(r.length!==o&&s(227),a.length!==i&&s(228),0===o)0!==i&&Me(a,t,0,i-1,n);else if(0===i){if(0!==o){const e=null==n.after&&null==n.before&&null==n.element.__lexicalLineBreak;Oe(r,0,o-1,e?null:l),e&&(l.textContent="")}}else!function(e,t,n,r,o,i){const s=r-1,l=o-1;let a,c,u=i.getFirstChild(),d=0,f=0;for(;d<=s&&f<=l;){const e=t[d],r=n[f];if(e===r)u=Ke($e(r,i.element)),d++,f++;else{void 0===a&&(a=new Set(t)),void 0===c&&(c=new Set(n));const o=c.has(e),s=a.has(r);if(o)if(s){const e=ii(de,r);e===u?u=Ke($e(r,i.element)):(i.withBefore(u).insertChild(e),$e(r,i.element)),d++,f++}else Re(r,i.withBefore(u)),f++;else u=Ke(He(e)),Te(e,i.element),d++}const o=ye.get(r);null!==o&&Ln(o)&&(null===Ce&&(Ce=o.getFormat()),""===we&&(we=o.getStyle()))}const g=d>s,h=f>l;if(g&&!h){const t=n[l+1],r=void 0===t?null:de.getElementByKey(t);Me(n,e,f,l,i.withBefore(r))}else h&&!g&&Oe(t,d,s,i.element)}(t,r,a,o,i,n)}oi(t)&&(ve+=P),l.__lexicalTextContent=ve,ve=r+ve}(e,t,t.getDOMSlot(n)),De(t,n),o=t,null==Ce||Ce===o.__textFormat||ke||o.setTextFormat(Ce),function(e){""===we||we===e.__textStyle||ke||e.setTextStyle(we)}(t),xe=r}(n,r,i),Vr(r)||r.isInline()||ze(n,r,i)),oi(r)&&(ve+=P,Se+=P)}else{const t=r.getTextContent();if(Ur(r)){const t=r.decorate(de,ue);null!==t&&je(e,t)}else Ln(r)&&!r.isDirectionless()&&(xe+=t);ve+=t,Se+=t}if(!ke&&Vr(r)&&r.__cachedText!==Se){const e=r.getWritable();e.__cachedText=Se,r=e}return i}function je(e,t){let n=de._pendingDecorators;const r=de._decorators;if(null===n){if(r[e]===t)return;n=Lo(de)}n[e]=t}function Ke(e){let t=e.nextSibling;return null!==t&&t===de._blockCursorElement&&(t=t.nextSibling),t}function He(e){const t=_e.get(e);return void 0===t&&s(75,e),t}const We={},Ue={},Je={},Ve={},qe={},Ze={},Ye={},Ge={},Xe={},Qe={},et={},tt={},nt={},rt={},ot={},it={},st={},lt={},at={},ct={},ut={},dt={},ft={},gt={},ht={},pt={},mt={},yt={},_t={},bt={},vt={},xt={},Ct={},wt={},St={},Et={},kt={},Nt={},Tt={},Ot={},Ft={},At={},Lt={},Pt={},Rt={},Mt=Object.freeze({}),It=[["keydown",function(e,t){if(zt=e.timeStamp,Dt=e.key,t.isComposing())return;const{key:n,shiftKey:r,ctrlKey:o,metaKey:i,altKey:s}=e;if(!ri(t,ot,e)&&null!=n){if(Jt&&Zo(Dt))return Dr(t,(()=>{nn(t,Vt)})),Jt=!1,void(Vt="");if(function(e,t,n,r){return Jo(e)&&!t&&!r&&!n}(n,o,s,i))ri(t,it,e);else if(function(e,t,n,r,o){return Jo(e)&&!r&&!n&&(t||o)}(n,o,r,s,i))ri(t,st,e);else if(function(e,t,n,r){return Uo(e)&&!t&&!r&&!n}(n,o,s,i))ri(t,lt,e);else if(function(e,t,n,r,o){return Uo(e)&&!r&&!n&&(t||o)}(n,o,r,s,i))ri(t,at,e);else if(function(e,t,n){return function(e){return"ArrowUp"===e}(e)&&!t&&!n}(n,o,i))ri(t,ct,e);else if(function(e,t,n){return function(e){return"ArrowDown"===e}(e)&&!t&&!n}(n,o,i))ri(t,ut,e);else if(function(e,t){return qo(e)&&t}(n,r))Wt=!0,ri(t,dt,e);else if(function(e){return" "===e}(n))ri(t,ft,e);else if(function(e,t){return c&&t&&"o"===e.toLowerCase()}(n,o))e.preventDefault(),Wt=!0,ri(t,qe,!0);else if(function(e,t){return qo(e)&&!t}(n,r))Wt=!1,ri(t,dt,e);else if(function(e,t,n,r){return c?!t&&!n&&(Zo(e)||"h"===e.toLowerCase()&&r):!(r||t||n)&&Zo(e)}(n,s,i,o))Zo(n)?ri(t,gt,e):(e.preventDefault(),ri(t,Ve,!0));else if(function(e){return"Escape"===e}(n))ri(t,ht,e);else if(function(e,t,n,r,o){return c?!(n||r||o)&&(Yo(e)||"d"===e.toLowerCase()&&t):!(t||r||o)&&Yo(e)}(n,o,r,s,i))Yo(n)?ri(t,pt,e):(e.preventDefault(),ri(t,Ve,!1));else if(function(e,t,n){return Zo(e)&&(c?t:n)}(n,s,o))e.preventDefault(),ri(t,Qe,!0);else if(function(e,t,n){return Yo(e)&&(c?t:n)}(n,s,o))e.preventDefault(),ri(t,Qe,!1);else if(function(e,t){return c&&t&&Zo(e)}(n,i))e.preventDefault(),ri(t,et,!0);else if(function(e,t){return c&&t&&Yo(e)}(n,i))e.preventDefault(),ri(t,et,!1);else if(function(e,t,n,r){return"b"===e.toLowerCase()&&!t&&Vo(n,r)}(n,s,i,o))e.preventDefault(),ri(t,tt,"bold");else if(function(e,t,n,r){return"u"===e.toLowerCase()&&!t&&Vo(n,r)}(n,s,i,o))e.preventDefault(),ri(t,tt,"underline");else if(function(e,t,n,r){return"i"===e.toLowerCase()&&!t&&Vo(n,r)}(n,s,i,o))e.preventDefault(),ri(t,tt,"italic");else if(function(e,t,n,r){return"Tab"===e&&!t&&!n&&!r}(n,s,o,i))ri(t,mt,e);else if(function(e,t,n,r){return"z"===e.toLowerCase()&&!t&&Vo(n,r)}(n,r,i,o))e.preventDefault(),ri(t,nt,void 0);else if(function(e,t,n,r){return c?"z"===e.toLowerCase()&&n&&t:"y"===e.toLowerCase()&&r||"z"===e.toLowerCase()&&r&&t}(n,r,i,o))e.preventDefault(),ri(t,rt,void 0);else{const s=t._editorState._selection;null===s||Kn(s)?!u&&Go(n,i,o)&&(e.preventDefault(),ri(t,Nt,e)):function(e,t,n,r){return!t&&"c"===e.toLowerCase()&&(c?n:r)}(n,r,i,o)?(e.preventDefault(),ri(t,Et,e)):function(e,t,n,r){return!t&&"x"===e.toLowerCase()&&(c?n:r)}(n,r,i,o)?(e.preventDefault(),ri(t,kt,e)):Go(n,i,o)&&(e.preventDefault(),ri(t,Nt,e))}(function(e,t,n,r){return e||t||n||r})(o,r,s,i)&&ri(t,Rt,e)}}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;xi(n)&&"touch"!==r&&0===e.button&&Dr(t,(()=>{fo(n)||(Ht=!0)}))}],["compositionstart",function(e,t){Dr(t,(()=>{const n=ir();if(Kn(n)&&!t.isComposing()){const r=n.anchor,o=n.anchor.getNode();ko(r.key),(e.timeStamp<zt+30||"element"===r.type||!n.isCollapsed()||o.getFormat()!==n.format||Ln(o)&&o.getStyle()!==n.style)&&ri(t,Ye,R)}}))}],["compositionend",function(e,t){u?Ut=!0:g||!f&&!y?Dr(t,(()=>{nn(t,e.data)})):(Jt=!0,Vt=e.data)}],["input",function(e,t){e.stopPropagation(),Dr(t,(()=>{if(vi(e.target)&&fo(e.target))return;const n=ir(),r=e.data,o=tn(e);if(null!=r&&Kn(n)&&Yt(n,o,r,e.timeStamp,!1)){Ut&&(nn(t,r),Ut=!1);const o=n.anchor.getNode(),i=_i(ui(t));if(null===i)return;const s=n.isBackward(),l=s?n.anchor.offset:n.focus.offset,a=s?n.focus.offset:n.anchor.offset;d&&!n.isCollapsed()&&Ln(o)&&null!==i.anchorNode&&o.getTextContent().slice(0,l)+r+o.getTextContent().slice(l+a)===Ko(i.anchorNode)||ri(t,Ye,r);const c=r.length;u&&c>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=c),f||g||y||!t.isComposing()||(zt=0,ko(null))}else Ho(!1,t,null!==r?r:void 0),Ut&&(nn(t,r||void 0),Ut=!1);Cr(),te(Er())}),{event:e}),$t=null}],["click",function(e,t){Dr(t,(()=>{const n=ir(),r=_i(ui(t)),o=sr();if(r)if(Kn(n)){const t=n.anchor,i=t.getNode();if("element"===t.type&&0===t.offset&&n.isCollapsed()&&!Vr(i)&&1===Ro().getChildrenSize()&&i.getTopLevelElementOrThrow().isEmpty()&&null!==o&&n.is(o))r.removeAllRanges(),n.dirty=!0;else if(3===e.detail&&!n.isCollapsed()&&i!==n.focus.getNode()){const e=function(e,t){let n=e;for(;n!==Ro()&&null!=n;){if(t(n))return n;n=n.getParent()}return null}(i,(e=>Kr(e)&&!e.isInline()));Kr(e)&&e.select(0)}}else if("touch"===e.pointerType){const n=r.anchorNode;(vi(n)||bo(n))&&Io(or(o,r,t,e))}ri(t,Je,e)}))}],["cut",Mt],["copy",Mt],["dragstart",Mt],["dragover",Mt],["dragend",Mt],["paste",Mt],["focus",Mt],["blur",Mt],["drop",Mt]];d&&It.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType,r=tn(e);"deleteCompositionText"===n||u&&ni(t)||"insertCompositionText"!==n&&Dr(t,(()=>{const o=ir();if("deleteContentBackward"===n){if(null===o){const e=sr();if(!Kn(e))return;Io(e.clone())}if(Kn(o)){const n=o.anchor.key===o.focus.key;if(i=e.timeStamp,"MediaLast"===Dt&&i<zt+30&&t.isComposing()&&n){if(ko(null),zt=0,setTimeout((()=>{Dr(t,(()=>{ko(null)}))}),30),Kn(o)){const e=o.anchor.getNode();e.markDirty(),Ln(e)||s(142),en(o,e)}}else{ko(null),e.preventDefault();const r=o.anchor.getNode(),i=r.getTextContent(),s=r.canInsertTextAfter(),l=0===o.anchor.offset&&o.focus.offset===i.length;let a=m&&n&&!l&&s;if(a&&o.isCollapsed()&&(a=!Ur(ti(o.anchor,!0))),!a){ri(t,Ve,!0);const e=ir();m&&Kn(e)&&e.isCollapsed()&&(qt=e,setTimeout((()=>qt=null)))}}return}}var i;if(!Kn(o))return;const l=e.data;null!==$t&&Ho(!1,t,$t),o.dirty&&null===$t||!o.isCollapsed()||Vr(o.anchor.getNode())||null===r||o.applyDOMRange(r),$t=null;const a=o.anchor,c=o.focus,u=a.getNode(),d=c.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":ri(t,Ye,e);break;case"insertFromComposition":ko(null),ri(t,Ye,e);break;case"insertLineBreak":ko(null),ri(t,qe,!1);break;case"insertParagraph":ko(null),Wt&&!g?(Wt=!1,ri(t,qe,!1)):ri(t,Ze,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":ri(t,Ge,e);break;case"deleteByComposition":(function(e,t){return e!==t||Kr(e)||Kr(t)||!e.isToken()||!t.isToken()})(u,d)&&ri(t,Xe,e);break;case"deleteByDrag":case"deleteByCut":ri(t,Xe,e);break;case"deleteContent":ri(t,Ve,!1);break;case"deleteWordBackward":ri(t,Qe,!0);break;case"deleteWordForward":ri(t,Qe,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":ri(t,et,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":ri(t,et,!1);break;case"formatStrikeThrough":ri(t,tt,"strikethrough");break;case"formatBold":ri(t,tt,"bold");break;case"formatItalic":ri(t,tt,"italic");break;case"formatUnderline":ri(t,tt,"underline");break;case"historyUndo":ri(t,nt,void 0);break;case"historyRedo":ri(t,rt,void 0)}else{if("\n"===l)e.preventDefault(),ri(t,qe,!1);else if(l===P)e.preventDefault(),ri(t,Ze,void 0);else if(null==l&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),o.insertRawText(t)}else null!=l&&Yt(o,r,l,e.timeStamp,!0)?(e.preventDefault(),ri(t,Ye,l)):$t=l;Bt=e.timeStamp}}))}(e,t)]);let zt=0,Dt=null,Bt=0,$t=null;const jt=new WeakMap;let Kt=!1,Ht=!1,Wt=!1,Ut=!1,Jt=!1,Vt="",qt=null,Zt=[0,"",0,"root",0];function Yt(e,t,n,r,o){const i=e.anchor,s=e.focus,l=i.getNode(),a=Er(),c=_i(ui(a)),u=null!==c?c.anchorNode:null,f=i.key,g=a.getElementByKey(f),h=n.length;return f!==s.key||!Ln(l)||(!o&&(!d||Bt<r+50)||l.isDirty()&&h<2||Bo(n))&&i.offset!==s.offset&&!l.isComposing()||_o(l)||l.isDirty()&&h>1||(o||!d)&&null!==g&&!l.isComposing()&&u!==vo(g)||null!==c&&null!==t&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||l.getFormat()!==e.format||l.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),o=t.isToken();return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||o||function(e){const t=e.getPreviousSibling();return(Ln(t)||Kr(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||o)}(e,l)}function Gt(e,t){return bo(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function Xt(e,t,n){const{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:l}=e;Kt&&(Kt=!1,Gt(r,o)&&Gt(i,l)&&!qt)||Dr(t,(()=>{if(!n)return void Io(null);if(!ho(t,r,i))return;let a=ir();if(qt&&Kn(a)&&a.isCollapsed()){const e=a.anchor,t=qt.anchor;(e.key===t.key&&e.offset===t.offset+1||1===e.offset&&t.getNode().is(e.getNode().getPreviousSibling()))&&(a=qt.clone(),Io(a))}if(qt=null,Kn(a)){const n=a.anchor,r=n.getNode();if(a.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(a.dirty=!0);const o=ui(t).event,i=o?o.timeStamp:performance.now(),[l,c,u,d,f]=Zt,g=Ro(),h=!1===t.isComposing()&&""===g.getTextContent();if(i<f+200&&n.offset===u&&n.key===d)Qt(a,l,c);else if("text"===n.type)Ln(r)||s(141),en(a,r);else if("element"===n.type&&!h){Kr(r)||s(259);const e=n.getNode();e.isEmpty()?function(e,t){Qt(e,t.getTextFormat(),t.getTextStyle())}(a,e):Qt(a,0,"")}}else{const e=n.key,t=a.focus.key,r=a.getNodes(),i=r.length,s=a.isBackward(),c=s?l:o,u=s?o:l,d=s?t:e,f=s?e:t;let g=2047,h=!1;for(let e=0;e<i;e++){const t=r[e],n=t.getTextContentSize();if(Ln(t)&&0!==n&&!(0===e&&t.__key===d&&c===n||e===i-1&&t.__key===f&&0===u)&&(h=!0,g&=t.getFormat(),0===g))break}a.format=h?g:0}}ri(t,We,void 0)}))}function Qt(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function en(e,t){Qt(e,t.getFormat(),t.getStyle())}function tn(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return 0===t.length?null:t[0]}function nn(e,t){const n=e._compositionKey;if(ko(null),null!==n&&null!=t){if(""===t){const t=To(n),r=vo(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&Ln(t)&&Wo(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=ir();if(Kn(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void ri(e,dt,null)}}}Ho(!0,e,t)}function rn(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}const on=new Map;function sn(e){const t=function(e){const t=ci(e);return t?t.getSelection():null}(e.target);if(null===t)return;const n=mo(t.anchorNode);if(null===n)return;Ht&&(Ht=!1,Dr(n,(()=>{const r=sr(),o=t.anchorNode;(vi(o)||bo(o))&&Io(or(r,t,n,e))})));const r=$o(n),o=r[r.length-1],i=o._key,s=on.get(i),l=s||o;l!==n&&Xt(t,l,!1),Xt(t,n,!0),n!==o?on.set(i,n):s&&on.delete(i)}function ln(e){e._lexicalHandled=!0}function an(e){return!0===e._lexicalHandled}function cn(e,t,n){Cr();const r=e.__key,o=e.getParent();if(null===o)return;const i=function(e){const t=ir();if(!Kn(t)||!Kr(e))return t;const{anchor:n,focus:r}=t,o=n.getNode(),i=r.getNode();return ai(o,e)&&n.set(e.__key,0,"element"),ai(i,e)&&r.set(e.__key,0,"element"),t}(e);let s=!1;if(Kn(i)&&t){const t=i.anchor,n=i.focus;t.key===r&&(cr(t,e,o,e.getPreviousSibling(),e.getNextSibling()),s=!0),n.key===r&&(cr(n,e,o,e.getPreviousSibling(),e.getNextSibling()),s=!0)}else Wn(i)&&t&&e.isSelected()&&e.selectPrevious();if(Kn(i)&&t&&!s){const t=e.getIndexWithinParent();So(e),lr(i,o,t,-1)}else So(e);n||fi(o)||o.canBeEmpty()||!o.isEmpty()||cn(o,t),t&&i&&Vr(o)&&o.isEmpty()&&o.selectEnd()}class un{static getType(){s(64,this.name)}static clone(e){s(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),wo(this,e)}getType(){return this.__type}isInline(){s(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=To(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||ir();if(null==t)return!1;const n=t.getNodes().some((e=>e.__key===this.__key));if(Ln(this))return n;if(Kn(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;const e=this.getParent();if(Ur(this)&&this.isInline()&&e){const n=t.isBackward()?t.focus:t.anchor;if(e.is(n.getNode())&&n.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:To(e)}getParentOrThrow(){const e=this.getParent();return null===e&&s(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(fi(t))return Kr(e)||e===this&&Ur(e)||s(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return null===e&&s(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:To(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:To(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=Kr(this)?this:this.getParent(),n=Kr(e)?e:e.getParent(),r=t&&n?us(t,n):null;return r?r.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){const t=us(this,e);return null!==t&&("descendant"===t.type||("branch"===t.type?-1===ls(t):("same"!==t.type&&"ancestor"!==t.type&&s(279),!1)))}isParentOf(e){const t=us(this,e);return null!==t&&"ancestor"===t.type}getNodesBetween(e){const t=this.isBefore(e),n=[],r=new Set;let o=this;for(;null!==o;){const i=o.__key;if(r.has(i)||(r.add(i),n.push(o)),o===e)break;const l=Kr(o)?t?o.getFirstChild():o.getLastChild():null;if(null!==l){o=l;continue}const a=t?o.getNextSibling():o.getPreviousSibling();if(null!==a){o=a;continue}const c=o.getParentOrThrow();if(r.has(c.__key)||n.push(c),c===e)break;let u=null,d=c;do{if(null===d&&s(68),u=t?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),null===d)break;null!==u||r.has(d.__key)||n.push(d)}while(null===u);o=u}return t||n.reverse(),n}isDirty(){const e=Er()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){const e=To(this.__key);return null===e&&s(113),e}getWritable(){Cr();const e=Sr(),t=Er(),n=e._nodeMap,r=this.__key,o=this.getLatest(),i=t._cloneNotNeeded,s=ir();if(null!==s&&s.setCachedNodes(null),i.has(r))return Eo(o),o;const l=Ai(o);return i.add(r),Eo(l),n.set(r,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){s(70)}updateDOM(e,t,n){s(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){s(18,this.name)}updateFromJSON(e){return function(e,t){const n=e.getWritable();return(t||n.__state)&&function(e){const t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new re(t);return t.__state=n,n}(e).updateFromJSON(t),n}(this,e.$)}static transform(){return null}remove(e){cn(this,!0,e)}replace(e,t){Cr();let n=ir();null!==n&&(n=n.clone()),pi(this,e);const r=this.getLatest(),o=this.__key,i=e.__key,l=e.getWritable(),a=this.getParentOrThrow().getWritable(),c=a.__size;So(l);const u=r.getPreviousSibling(),d=r.getNextSibling(),f=r.__prev,g=r.__next,h=r.__parent;if(cn(r,!1,!0),null===u?a.__first=i:u.getWritable().__next=i,l.__prev=f,null===d?a.__last=i:d.getWritable().__prev=i,l.__next=g,l.__parent=h,a.__size=c,t&&(Kr(this)&&Kr(l)||s(139),this.getChildren().forEach((e=>{l.append(e)}))),Kn(n)){Io(n);const e=n.anchor,t=n.focus;e.key===o&&$n(e,l),t.key===o&&$n(t,l)}return No()===o&&ko(i),l}insertAfter(e,t=!0){Cr(),pi(this,e);const n=this.getWritable(),r=e.getWritable(),o=r.getParent(),i=ir();let s=!1,l=!1;if(null!==o){const t=e.getIndexWithinParent();if(So(r),Kn(i)){const e=o.__key,n=i.anchor,r=i.focus;s="element"===n.type&&n.key===e&&n.offset===t+1,l="element"===r.type&&r.key===e&&r.offset===t+1}}const a=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),u=r.__key,d=n.__next;if(null===a?c.__last=u:a.getWritable().__prev=u,c.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&Kn(i)){const e=this.getIndexWithinParent();lr(i,c,e+1);const t=c.__key;s&&i.anchor.set(t,e+2,"element"),l&&i.focus.set(t,e+2,"element")}return e}insertBefore(e,t=!0){Cr(),pi(this,e);const n=this.getWritable(),r=e.getWritable(),o=r.__key;So(r);const i=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,a=this.getIndexWithinParent();null===i?s.__first=o:i.getWritable().__next=o,s.__size++,n.__prev=o,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;const c=ir();return t&&Kn(c)&&lr(c,this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return to()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){Cr();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(Kr(n))return n.select();if(!Ln(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){Cr();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(Kr(n))return n.select(0,0);if(!Ln(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class dn extends un{static getType(){return"linebreak"}static clone(e){return new dn(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(e){const t=e.parentElement;if(null!==t&&Si(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&pn(n)){const n=t.lastChild;if(n===e||n.previousSibling===e&&pn(n))return!0}}return!1}(e)||function(e){const t=e.parentElement;if(null!==t&&Si(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&pn(n))return!1;const r=t.lastChild;if(r===e||r.previousSibling===e&&pn(r))return!0}return!1}(e)?null:{conversion:fn,priority:0}}}static importJSON(e){return gn().updateFromJSON(e)}}function fn(e){return{node:gn()}}function gn(){return hi(new dn)}function hn(e){return e instanceof dn}function pn(e){return bo(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function mn(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function yn(e,t){return 1&t?"strong":2&t?"em":"span"}function _n(e,t,n,r,o){const i=r.classList;let s=Xo(o,"base");void 0!==s&&i.add(...s),s=Xo(o,"underlineStrikethrough");let l=!1;const a=8&t&&4&t;void 0!==s&&(8&n&&4&n?(l=!0,a||i.add(...s)):a&&i.remove(...s));for(const e in B){const r=B[e];if(s=Xo(o,e),void 0!==s)if(n&r){if(l&&("underline"===e||"strikethrough"===e)){t&r&&i.remove(...s);continue}t&r&&(!a||"underline"!==e)&&"strikethrough"!==e||i.add(...s)}else t&r&&i.remove(...s)}}function bn(e,t,n){const r=t.firstChild,o=n.isComposing(),i=e+(o?L:"");if(null==r)t.textContent=i;else{const e=r.nodeValue;if(e!==i)if(o||u){const[t,n,o]=function(e,t){const n=e.length,r=t.length;let o=0,i=0;for(;o<n&&o<r&&e[o]===t[o];)o++;for(;i+o<n&&i+o<r&&e[n-i-1]===t[r-i-1];)i++;return[o,n-o-i,t.slice(o,r-i)]}(e,i);0!==n&&r.deleteData(t,n),r.insertData(t,o)}else r.nodeValue=i}}function vn(e,t,n,r,o,i){bn(o,e,t);const s=i.theme.text;void 0!==s&&_n(0,0,r,e,s)}function xn(e,t){const n=document.createElement(t);return n.appendChild(e),n}class Cn extends un{static getType(){return"text"}static clone(e){return new Cn(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return W[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===No()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=B[e];return!!(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return xo(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const n=this.__format,r=mn(0,n),o=yn(0,n),i=null===r?o:r,s=document.createElement(i);let l=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(o),s.appendChild(l)),vn(l,this,0,n,this.__text,e);const a=this.__style;return""!==a&&(s.style.cssText=a),s}updateDOM(e,t,n){const r=this.__text,o=e.__format,i=this.__format,l=mn(0,o),a=mn(0,i),c=yn(0,o),u=yn(0,i);if((null===l?c:l)!==(null===a?u:a))return!0;if(l===a&&c!==u){const e=t.firstChild;null==e&&s(48);const o=document.createElement(u);return vn(o,this,0,i,r,n),t.replaceChild(o,e),!1}let d=t;null!==a&&null!==l&&(d=t.firstChild,null==d&&s(49)),bn(r,d,this);const f=n.theme.text;void 0!==f&&o!==i&&_n(0,o,i,d,f);const g=e.__style,h=this.__style;return g!==h&&(t.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:Nn,priority:0}),b:()=>({conversion:Sn,priority:0}),code:()=>({conversion:Fn,priority:0}),em:()=>({conversion:Fn,priority:0}),i:()=>({conversion:Fn,priority:0}),mark:()=>({conversion:Fn,priority:0}),s:()=>({conversion:Fn,priority:0}),span:()=>({conversion:wn,priority:0}),strong:()=>({conversion:Fn,priority:0}),sub:()=>({conversion:Fn,priority:0}),sup:()=>({conversion:Fn,priority:0}),u:()=>({conversion:Fn,priority:0})}}static importJSON(e){return An().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return vi(t)||s(132),t.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(t=xn(t,"b")),this.hasFormat("italic")&&(t=xn(t,"i")),this.hasFormat("strikethrough")&&(t=xn(t,"s")),this.hasFormat("underline")&&(t=xn(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?B[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?$[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=xo(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=H[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){Cr();let n=e,r=t;const o=ir(),i=this.getTextContent(),s=this.__key;if("string"==typeof i){const e=i.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!Kn(o))return tr(s,n,s,r,"text","text");{const e=No();e!==o.anchor.key&&e!==o.focus.key||ko(s),o.setTextNodeRange(this,n,this,r)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){const o=this.getWritable(),i=o.__text,s=n.length;let l=e;l<0&&(l=s+l,l<0&&(l=0));const a=ir();if(r&&Kn(a)){const t=e+s;a.setTextNodeRange(o,t,o,t)}const c=i.slice(0,l)+n+i.slice(l+t);return o.__text=c,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Cr();const t=this.getLatest(),n=t.getTextContent();if(""===n)return[];const r=t.__key,o=No(),i=n.length;e.sort(((e,t)=>e-t)),e.push(i);const s=[],l=e.length;for(let t=0,r=0;t<i&&r<=l;r++){const o=e[r];o>t&&(s.push(n.slice(t,o)),t=o)}const a=s.length;if(1===a)return[t];const c=s[0],u=t.getParent();let d;const f=t.getFormat(),g=t.getStyle(),h=t.__detail;let p=!1,m=null,y=null;const _=ir();if(Kn(_)){const[e,t]=_.isBackward()?[_.focus,_.anchor]:[_.anchor,_.focus];"text"===e.type&&e.key===r&&(m=e),"text"===t.type&&t.key===r&&(y=t)}t.isSegmented()?(d=An(c),d.__format=f,d.__style=g,d.__detail=h,p=!0):(d=t.getWritable(),d.__text=c);const b=[d];for(let e=1;e<a;e++){const t=An(s[e]);t.__format=f,t.__style=g,t.__detail=h;const n=t.__key;o===r&&ko(n),b.push(t)}const v=m?m.offset:null,x=y?y.offset:null;let C=0;for(const e of b){if(!m&&!y)break;const t=C+e.getTextContentSize();if(null!==m&&null!==v&&v<=t&&v>=C&&(m.set(e.getKey(),v-C,"text"),v<t&&(m=null)),null!==y&&null!==x&&x<=t&&x>=C){y.set(e.getKey(),x-C,"text");break}C=t}if(null!==u){!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&Eo(t),null!==n&&Eo(n)}(this);const e=u.getWritable(),t=this.getIndexWithinParent();p?(e.splice(t,0,b),this.remove()):e.splice(t,1,b),Kn(_)&&lr(_,u,t,a-1)}return b}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||s(50);const n=this.__key,r=e.__key,o=this.__text,i=o.length;No()===r&&ko(n);const l=ir();if(Kn(l)){const o=l.anchor,s=l.focus;null!==o&&o.key===r&&ur(o,t,n,e,i),null!==s&&s.key===r&&ur(s,t,n,e,i)}const a=e.__text,c=t?a+o:o+a;this.setTextContent(c);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function wn(e){return{forChild:Pn(e.style),node:null}}function Sn(e){const t=e,n="normal"===t.style.fontWeight;return{forChild:Pn(t.style,n?void 0:"bold"),node:null}}const En=new WeakMap;function kn(e){if(!vi(e))return!1;if("PRE"===e.nodeName)return!0;const t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}function Nn(e){const t=e;null===e.parentElement&&s(129);let n=t.textContent||"";if(null!==function(e){let t,n=e.parentNode;const r=[e];for(;null!==n&&void 0===(t=En.get(n))&&!kn(n);)r.push(n),n=n.parentNode;const o=void 0===t?n:t;for(let e=0;e<r.length;e++)En.set(r[e],o);return o}(t)){const e=n.split(/(\r?\n|\t)/),t=[],r=e.length;for(let n=0;n<r;n++){const r=e[n];"\n"===r||"\r\n"===r?t.push(gn()):"\t"===r?t.push(Mn()):""!==r&&t.push(An(r))}return{node:t}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let e=t,r=!0;for(;null!==e&&null!==(e=Tn(e,!1));){const t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let e=t,r=!0;for(;null!==e&&null!==(e=Tn(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:An(n)}}function Tn(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){const e=n.parentElement;if(null===e)return null;n=e}if(n=e,vi(n)){const e=n.style.display;if(""===e&&!wi(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(bo(n))return n;if("BR"===n.nodeName)return null}}const On={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Fn(e){const t=On[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:Pn(e.style,t),node:null}}function An(e=""){return hi(new Cn(e))}function Ln(e){return e instanceof Cn}function Pn(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),o="700"===n||"bold"===n,i=r.includes("line-through"),s="italic"===e.fontStyle,l=r.includes("underline"),a=e.verticalAlign;return e=>Ln(e)?(o&&!e.hasFormat("bold")&&e.toggleFormat("bold"),i&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),s&&!e.hasFormat("italic")&&e.toggleFormat("italic"),l&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==a||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==a||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t),e):e}class Rn extends Cn{static getType(){return"tab"}static clone(e){return new Rn(e.__key)}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),n=Xo(e.theme,"tab");return void 0!==n&&t.classList.add(...n),t}static importJSON(e){return Mn().updateFromJSON(e)}setTextContent(e){return"\t"!==e&&""!==e&&s(126),super.setTextContent(e)}setDetail(e){return 2!==e&&s(127),this}setMode(e){return"normal"!==e&&s(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Mn(){return hi(new Rn)}function In(e){return e instanceof Rn}class zn{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:ss(bs(ds(this,"next")),bs(ds(e,"next")))<0}getNode(){const e=To(this.key);return null===e&&s(20),e}set(e,t,n,r){const o=this._selection,i=this.key;r&&this.key===e&&this.offset===t&&this.type===n||(this.key=e,this.offset=t,this.type=n,xr()||(No()===i&&ko(e),null!==o&&(o.setCachedNodes(null),o.dirty=!0)))}}function Dn(e,t,n){return new zn(e,t,n)}function Bn(e,t){let n=t.__key,r=e.offset,o="element";if(Ln(t)){o="text";const e=t.getTextContentSize();r>e&&(r=e)}else if(!Kr(t)){const e=t.getNextSibling();if(Ln(e))n=e.__key,r=0,o="text";else{const e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,o)}function $n(e,t){if(Kr(t)){const n=t.getLastDescendant();Kr(n)||Ln(n)?Bn(e,n):Bn(e,t)}else Bn(e,t)}class jn{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!Wn(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new jn(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),n=t.length,r=t[n-1];let o;if(Ln(r))o=r.select();else{const e=r.getIndexWithinParent()+1;o=r.getParentOrThrow().select(e,e)}o.insertNodes(e);for(let e=0;e<n;e++)t[e].remove()}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const e of t){const t=To(e);null!==t&&n.push(t)}return xr()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((ir()||sr())===this&&e[0]){const t=qi(e[0],"next");gs(os(t,t))}for(const t of e)t.remove()}}function Kn(e){return e instanceof Hn}class Hn{constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Kn(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=function(e){const t=[],[n,r]=e.getTextSlices();n&&t.push(n.caret.origin);const o=new Set,i=new Set;for(const n of e)if(Wi(n)){const{origin:e}=n;0===t.length?o.add(e):(i.add(e),t.push(e))}else{const{origin:e}=n;Kr(e)&&i.has(e)||t.push(e)}if(r&&t.push(r.caret.origin),Hi(e.focus)&&Kr(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let n=Xi(e.focus.origin,"previous");Wi(n)&&o.has(n.origin)&&!n.origin.isEmpty()&&n.origin.is(t[t.length-1]);n=Qi(n))o.delete(n.origin),t.pop();for(;t.length>1;){const e=t[t.length-1];if(!Kr(e)||i.has(e)||e.isEmpty()||o.has(e))break;t.pop()}if(0===t.length&&e.isCollapsed()){const n=bs(e.anchor),r=bs(e.anchor.getFlipped()),o=e=>Ki(e)?e.origin:e.getNodeAtCaret(),i=o(n)||o(r)||(e.anchor.getNodeAtCaret()?n.origin:r.origin);t.push(i)}return t}(Cs(ps(this),"next"));return xr()||(this._cachedNodes=t),t}setTextNodeRange(e,t,n,r){this.anchor.set(e.__key,t,"text"),this.focus.set(n.__key,r,"text")}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,o=this.focus,i=r.isBefore(o),[s,l]=Jn(this);let a="",c=!0;for(let u=0;u<e.length;u++){const d=e[u];if(Kr(d)&&!d.isInline())c||(a+="\n"),c=!d.isEmpty();else if(c=!1,Ln(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===o.type&&o.offset!==r.offset||(e=s<l?e.slice(s,l):e.slice(l,s)):e=i?e.slice(s):e.slice(l):d===n&&(e=i?e.slice(0,l):e.slice(0,s)),a+=e}else!Ur(d)&&!hn(d)||d===n&&this.isCollapsed()||(a+=d.getTextContent())}return a}applyDOMRange(e){const t=Er(),n=t.getEditorState()._selection,r=Qn(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[o,i]=r;this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(i.key,i.offset,i.type,!0),ae(this)}clone(){const e=this.anchor,t=this.focus;return new Hn(Dn(e.key,e.offset,e.type),Dn(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=xo(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=B[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let e=0;e<r;e++){const r=t[e];"\n"===r||"\r\n"===r?n.push(gn()):"\t"===r?n.push(Mn()):n.push(An(r))}this.insertNodes(n)}insertText(e){const t=this.anchor,n=this.focus,r=this.format,o=this.style;let i=t,l=n;!this.isCollapsed()&&n.isBefore(t)&&(i=n,l=t),"element"===i.type&&function(e,t,n,r){const o=e.getNode(),i=o.getChildAtIndex(e.offset),s=An(),l=Vr(o)?to().append(s):s;s.setFormat(n),s.setStyle(r),null===i?o.append(l):i.insertBefore(l),e.is(t)&&t.set(s.__key,0,"text"),e.set(s.__key,0,"text")}(i,l,r,o),"element"===l.type&&fs(l,bs(ds(l,"next")));const a=i.offset;let c=l.offset;const u=this.getNodes(),d=u.length;let f=u[0];Ln(f)||s(26);const g=f.getTextContent().length,h=f.getParentOrThrow();let p=u[d-1];if(1===d&&"element"===l.type&&(c=g,l.set(i.key,c,"text")),this.isCollapsed()&&a===g&&(f.isSegmented()||f.isToken()||!f.canInsertTextAfter()||!h.canInsertTextAfter()&&null===f.getNextSibling())){let t=f.getNextSibling();if(Ln(t)&&t.canInsertTextBefore()&&!_o(t)||(t=An(),t.setFormat(r),t.setStyle(o),h.canInsertTextAfter()?f.insertAfter(t):h.insertAfter(t)),t.select(0,0),f=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===a&&(f.isSegmented()||f.isToken()||!f.canInsertTextBefore()||!h.canInsertTextBefore()&&null===f.getPreviousSibling())){let t=f.getPreviousSibling();if(Ln(t)&&!_o(t)||(t=An(),t.setFormat(r),h.canInsertTextBefore()?f.insertBefore(t):h.insertBefore(t)),t.select(),f=t,""!==e)return void this.insertText(e)}else if(f.isSegmented()&&a!==g){const e=An(f.getTextContent());e.setFormat(r),f.replace(e),f=e}else if(!this.isCollapsed()&&""!==e){const t=p.getParent();if(!h.canInsertTextBefore()||!h.canInsertTextAfter()||Kr(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),Xn(this.anchor,this.focus,null),void this.insertText(e)}if(1===d){if(f.isToken()){const t=An(e);return t.select(),void f.replace(t)}const t=f.getFormat(),n=f.getStyle();if(a!==c||t===r&&n===o){if(In(f)){const t=An(e);return t.setFormat(r),t.setStyle(o),t.select(),void f.replace(t)}}else{if(""!==f.getTextContent()){const t=An(e);if(t.setFormat(r),t.setStyle(o),t.select(),0===a)f.insertBefore(t,!1);else{const[e]=f.splitText(a);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}f.setFormat(r),f.setStyle(o)}const i=c-a;f=f.spliceText(a,i,e,!0),""===f.getTextContent()?f.remove():"text"===this.anchor.type&&(f.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...f.getParentKeys(),...p.getParentKeys()]),n=Kr(f)?f:f.getParentOrThrow();let r=Kr(p)?p:p.getParentOrThrow(),o=p;if(!n.is(r)&&r.isInline())do{o=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===l.type&&(0!==c||""===p.getTextContent())||"element"===l.type&&p.getIndexWithinParent()<c)if(Ln(p)&&!p.isToken()&&c!==p.getTextContentSize()){if(p.isSegmented()){const e=An(p.getTextContent());p.replace(e),p=e}Vr(l.getNode())||"text"!==l.type||(p=p.spliceText(0,c,"")),t.add(p.__key)}else{const e=p.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?p.remove():e.remove()}else t.add(p.__key);const i=r.getChildren(),s=new Set(u),h=n.is(r),m=n.isInline()&&null===f.getNextSibling()?n:f;for(let e=i.length-1;e>=0;e--){const t=i[e];if(t.is(f)||Kr(t)&&t.isParentOf(f))break;t.isAttached()&&(!s.has(t)||t.is(o)?h||m.insertAfter(t,!1):t.remove())}if(!h){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),o=r.length;(0===o||r[o-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(f.isToken())if(a===g)f.select();else{const t=An(e);t.select(),f.replace(t)}else f=f.spliceText(a,g-a,e,!0),""===f.getTextContent()?f.remove():f.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<d;e++){const n=u[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){const e=ir()===this;hs(this,function(e,t="removeEmptySlices"){if(e.isCollapsed())return e;const n="root",r="next";let o=t;const i=Cs(e,r),l=ys(i.anchor,n),a=ys(i.focus.getFlipped(),n),c=new Set,u=[];for(const e of i.iterNodeCarets(n))if(Wi(e))c.add(e.origin.getKey());else if(Hi(e)){const{origin:t}=e;Kr(t)&&!c.has(t.getKey())||u.push(t)}for(const e of u)e.remove();for(const e of i.getTextSlices()){if(!e)continue;const{origin:t}=e.caret,n=t.getTextContentSize(),i=ms(qi(t,r)),s=t.getMode();if(Math.abs(e.distance)===n&&"removeEmptySlices"===o||"token"===s&&0!==e.distance)i.remove();else if(0!==e.distance){o="removeEmptySlices";let t=e.removeTextSlice();const n=e.caret.origin;if("segmented"===s){const e=t.origin,n=An(e.getTextContent()).setStyle(e.getStyle()).setFormat(e.getFormat());i.replaceOrInsert(n),t=Zi(n,r,t.offset)}n.is(l[0].origin)&&(l[0]=t),n.is(a[0].origin)&&(a[0]=t.getFlipped())}}let d,f;for(const e of l)if(_s(e)){d=bs(e);break}for(const e of a)if(_s(e)){f=bs(e);break}const g=function(e,t,n){if(!e||!t)return null;const r=e.getParentAtCaret(),o=t.getParentAtCaret();if(!r||!o)return null;const i=r.getParents().reverse();i.push(r);const s=o.getParents().reverse();s.push(o);const l=Math.min(i.length,s.length);let a;for(a=0;a<l&&i[a]===s[a];a++);const c=(e,t)=>{let n;for(let r=a;r<e.length;r++){const o=e[r];if(fi(o))return;!n&&t(o)&&(n=o)}return n},u=c(i,Ei),d=u&&c(s,(e=>n.has(e.getKey())&&Ei(e)));return u&&d?[u,d]:null}(d,f,c);if(g){const[e,t]=g;Xi(e,"previous").splice(0,t.getChildren()),t.remove()}const h=[d,f,...l,...a].find(_s);if(h)return rs(xs(bs(h),e.direction));s(269,JSON.stringify(l.map((e=>e.origin.__key))))}(ps(this))),e&&ir()!==this&&Io(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void ko(null);const n=this.getNodes(),r=[];for(const e of n)Ln(e)&&r.push(e);const o=t=>{n.forEach((n=>{if(Kr(n)){const r=n.getFormatFlags(e,t);n.setTextFormat(r)}}))},i=r.length;if(0===i)return this.toggleFormat(e),ko(null),void o(t);const s=this.anchor,l=this.focus,a=this.isBackward(),c=a?l:s,u=a?s:l;let d=0,f=r[0],g="element"===c.type?0:c.offset;if("text"===c.type&&g===f.getTextContentSize()&&(d=1,f=r[1],g=0),null==f)return;const h=f.getFormatFlags(e,t);o(h);const p=i-1;let m=r[p];const y="text"===u.type?u.offset:m.getTextContentSize();if(f.is(m)){if(g===y)return;if(_o(f)||0===g&&y===f.getTextContentSize())f.setFormat(h);else{const e=f.splitText(g,y),t=0===g?e[0]:e[1];t.setFormat(h),"text"===c.type&&c.set(t.__key,0,"text"),"text"===u.type&&u.set(t.__key,y-g,"text")}return void(this.format=h)}0===g||_o(f)||([,f]=f.splitText(g),g=0),f.setFormat(h);const _=m.getFormatFlags(e,h);y>0&&(y===m.getTextContentSize()||_o(m)||([m]=m.splitText(y)),m.setFormat(_));for(let t=d+1;t<p;t++){const n=r[t],o=n.getFormatFlags(e,_);n.setFormat(o)}"text"===c.type&&c.set(f.__key,g,"text"),"text"===u.type&&u.set(m.__key,y,"text"),this.format=h|_}insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();const t=ir();return Kn(t)||s(134),t.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),n=ki(t,Ei),r=e[e.length-1];if(Kr(n)&&"__language"in n){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const t=fr(this);n.splice(t,0,e),r.selectEnd()}return}if(!e.some((e=>(Kr(e)||Ur(e))&&!e.isInline()))){Kr(n)||s(211,t.constructor.name,t.getType());const o=fr(this);return n.splice(o,0,e),void r.selectEnd()}const o=function(e){const t=to();let n=null;for(let r=0;r<e.length;r++){const o=e[r],i=hn(o);if(i||Ur(o)&&o.isInline()||Kr(o)&&o.isInline()||Ln(o)||o.isParentRequired()){if(null===n&&(n=o.createParentElementNode(),t.append(n),i))continue;null!==n&&n.append(o)}else t.append(o),n=null}return t}(e),i=o.getLastDescendant(),l=o.getChildren(),a=Kr(n)&&n.isEmpty()?null:this.insertParagraph(),c=l[l.length-1];let u=l[0];var d;Kr(d=u)&&Ei(d)&&!d.isEmpty()&&Kr(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(Kr(n)||s(211,t.constructor.name,t.getType()),n.append(...u.getChildren()),u=l[1]),u&&(null===n&&s(212,t.constructor.name,t.getType()),function(e,t){const n=t.getParentOrThrow().getLastChild();let r=t;const o=[t];for(;r!==n;)r.getNextSibling()||s(140),r=r.getNextSibling(),o.push(r);let i=e;for(const e of o)i=i.insertAfter(e)}(n,u));const f=ki(i,Ei);a&&Kr(f)&&(a.canMergeWhenEmpty()||Ei(c))&&(f.append(...a.getChildren()),a.remove()),Kr(n)&&n.isEmpty()&&n.remove(),i.selectEnd();const g=Kr(n)?n.getLastChild():null;hn(g)&&f!==n&&g.remove()}insertParagraph(){if("root"===this.anchor.key){const e=to();return Ro().splice(this.anchor.offset,0,[e]),e.select(),e}const e=fr(this),t=ki(this.anchor.getNode(),Ei);Kr(t)||s(213);const n=t.getChildAtIndex(e),r=n?[n,...n.getNextSiblings()]:[],o=t.insertNewAfter(this,!1);return o?(o.append(...r),o.selectStart(),o):null}insertLineBreak(e){const t=gn();if(this.insertNodes([t]),e){const e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){const e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,o=this.focus;let i=e[0],s=e[n];const[l,a]=Jn(this);if(0===t)return[];if(1===t){if(Ln(i)&&!this.isCollapsed()){const e=l>a?a:l,t=l>a?l:a,n=i.splitText(e,t),r=0===e?n[0]:n[1];return null!=r?[r]:[]}return[i]}const c=r.isBefore(o);if(Ln(i)){const t=c?l:a;t===i.getTextContentSize()?e.shift():0!==t&&([,i]=i.splitText(t),e[0]=i)}if(Ln(s)){const t=s.getTextContent().length,r=c?a:l;0===r?e.pop():r!==t&&([s]=s.splitText(r),e[n]=s)}return e}modify(e,t,n){if(hr(this,e,t,n))return;const r="move"===e,o=Er(),i=_i(ui(o));if(!i)return;const s=o._blockCursorElement,l=o._rootElement,a=this.focus.getNode();if(null===l||null===s||!Kr(a)||a.isInline()||a.canBeEmpty()||yi(s,o,l),this.dirty){let e=ii(o,this.anchor.key),t=ii(o,this.focus.key);"text"===this.anchor.type&&(e=vo(e)),"text"===this.focus.type&&(t=vo(t)),e&&t&&dr(i,e,this.anchor.offset,t,this.focus.offset)}if(function(e,t,n,r){e.modify(t,n,r)}(i,e,t?"backward":"forward",n),i.rangeCount>0){const e=i.getRangeAt(0),n=this.anchor.getNode(),o=Vr(n)?n:function(e){let t=e.getParentOrThrow();for(;null!==t;){if(fi(t))return t;t=t.getParentOrThrow()}return t}(n);if(this.applyDOMRange(e),this.dirty=!0,!r){const n=this.getNodes(),r=[];let s=!1;for(let e=0;e<n.length;e++){const t=n[e];ai(t,o)?r.push(t):s=!0}if(s&&r.length>0)if(t){const e=r[0];Kr(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=r[r.length-1];Kr(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}i.anchorNode===e.startContainer&&i.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,o=n.offset,i=n.type;n.set(t.key,t.offset,t.type,!0),t.set(r,o,i,!0)}(this)}}"lineboundary"===n&&hr(this,e,t,n,"decorators")}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&Kr(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){const e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if(Kr(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const t=this.anchor;let n=t.getNode();if(this.forwardDeletion(t,n,e))return;const r=ns(ds(t,e?"previous":"next"));if(r.getTextSlices().every((e=>null===e||0===e.distance))){let e={type:"initial"};for(const t of r.iterNodeCarets("shadowRoot"))if(Wi(t))if(t.origin.isInline());else{if(t.origin.isShadowRoot()){if("merge-block"===e.type)break;if(Kr(r.anchor.origin)&&r.anchor.origin.isEmpty()){const e=bs(t);hs(this,os(e,e)),r.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:t,type:"merge-block"})}else{if("merge-block"===e.type)break;if(Hi(t)){if(Kr(t.origin)){if(t.origin.isInline()){if(!t.origin.isParentOf(r.anchor.origin))break}else e={block:t.origin,type:"merge-next-block"};continue}if(Ur(t.origin)){if(t.origin.isIsolated());else if("merge-next-block"===e.type&&(t.origin.isKeyboardSelectable()||!t.origin.isInline())&&Kr(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();const e=rr();e.add(t.origin.getKey()),Io(e)}else t.origin.remove();return}break}}if("merge-block"===e.type){const{caret:t,block:n}=e;return hs(this,os(!t.origin.isEmpty()&&n.isEmpty()?ms(qi(n,t.direction)):r.anchor,t)),this.removeText()}}const o=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&Vn(this,t.getNode()))return}else{const r="text"===o.type?o.getNode():null;if(n="text"===t.type?t.getNode():null,null!==r&&r.isSegmented()){const t=o.offset,i=r.getTextContentSize();if(r.is(n)||e&&t!==i||!e&&0!==t)return void Zn(r,e,t)}else if(null!==n&&n.isSegmented()){const o=t.offset,i=n.getTextContentSize();if(n.is(r)||e&&0!==o||!e&&o!==i)return void Zn(n,e,o)}!function(e,t){const n=e.anchor,r=e.focus,o=n.getNode();if(o===r.getNode()&&"text"===n.type&&"text"===r.type){const e=n.offset,i=r.offset,s=e<i,l=s?e:i,a=s?i:e,c=a-1;l!==c&&function(e){return!(Bo(e)||qn(e))}(o.getTextContent().slice(l,a))&&(t?r.set(r.key,c,r.type):n.set(n.key,c,n.type))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&Vr(e.getParent())&&null===e.getPreviousSibling()&&Vn(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Wn(e){return e instanceof jn}function Un(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function Jn(e){const t=e.getStartEndPoints();if(null===t)return[0,0];const[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[Un(n),Un(r)]}function Vn(e,t){for(let n=t;n;n=n.getParent()){if(Kr(n)){if(n.collapseAtStart(e))return!0;if(fi(n))break}if(n.getPreviousSibling())break}return!1}const qn=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("❤️")&&t("#️⃣")&&t("👍"))return t}catch(e){}return()=>!1})();function Zn(e,t,n){const r=e,o=r.getTextContent().split(/(?=\s)/g),i=o.length;let s=0,l=0;for(let e=0;e<i;e++){const r=e===i-1;if(l=s,s+=o[e].length,t&&s===n||s>n||r){o.splice(e,1),r&&(l=void 0);break}}const a=o.join("").trim();""===a?r.remove():(r.setTextContent(a),r.select(l,l))}function Yn(e,t,n,r){let o,i=t;if(vi(e)){let l=!1;const a=e.childNodes,c=a.length,u=r._blockCursorElement;i===c&&(l=!0,i=c-1);let d=a[i],f=!1;if(d===u)d=a[i+1],f=!0;else if(null!==u){const n=u.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,u)&&i--}if(o=zo(d),Ln(o))i=Do(o,l);else{let a=zo(e);if(null===a)return null;if(Kr(a)){const c=r.getElementByKey(a.getKey());null===c&&s(214);const u=a.getDOMSlot(c);[a,i]=u.resolveChildIndex(a,c,e,t),Kr(a)||s(215),l&&i>=a.getChildrenSize()&&(i=Math.max(0,a.getChildrenSize()-1));let d=a.getChildAtIndex(i);if(Kr(d)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(d,0,n)){const e=l?d.getLastDescendant():d.getFirstDescendant();null===e?a=d:(d=e,a=Kr(d)?d:d.getParentOrThrow()),i=0}Ln(d)?(o=d,a=null,i=Do(d,l)):d!==a&&l&&!f&&(Kr(a)||s(216),i=Math.min(a.getChildrenSize(),i+1))}else{const n=a.getIndexWithinParent();i=0===t&&Ur(a)&&zo(e)===a?n:n+1,a=a.getParentOrThrow()}if(Kr(a))return Dn(a.__key,i,"element")}}else o=zo(e);return Ln(o)?Dn(o.__key,i,"text"):null}function Gn(e,t,n){const r=e.offset,o=e.getNode();if(0===r){const r=o.getPreviousSibling(),i=o.getParent();if(t){if((n||!t)&&null===r&&Kr(i)&&i.isInline()){const t=i.getPreviousSibling();Ln(t)&&e.set(t.__key,t.getTextContent().length,"text")}}else Kr(r)&&!n&&r.isInline()?e.set(r.__key,r.getChildrenSize(),"element"):Ln(r)&&e.set(r.__key,r.getTextContent().length,"text")}else if(r===o.getTextContent().length){const r=o.getNextSibling(),i=o.getParent();if(t&&Kr(r)&&r.isInline())e.set(r.__key,0,"element");else if((n||t)&&null===r&&Kr(i)&&i.isInline()&&!i.canInsertTextAfter()){const t=i.getNextSibling();Ln(t)&&e.set(t.__key,0,"text")}}}function Xn(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),o=e.is(t);Gn(e,r,o),Gn(t,!r,o),o&&t.set(e.key,e.offset,e.type);const i=Er();if(i.isComposing()&&i._compositionKey!==e.key&&Kn(n)){const r=n.anchor,o=n.focus;e.set(r.key,r.offset,r.type,!0),t.set(o.key,o.offset,o.type,!0)}}}function Qn(e,t,n,r,o,i){if(null===e||null===n||!ho(o,e,n))return null;const s=Yn(e,t,Kn(i)?i.anchor:null,o);if(null===s)return null;const l=Yn(n,r,Kn(i)?i.focus:null,o);if(null===l)return null;if("element"===s.type&&"element"===l.type){const t=zo(e),r=zo(n);if(Ur(t)&&Ur(r))return null}return Xn(s,l,i),[s,l]}function er(e){return Kr(e)&&!e.isInline()}function tr(e,t,n,r,o,i){const s=Sr(),l=new Hn(Dn(e,t,o),Dn(n,r,i),0,"");return l.dirty=!0,s._selection=l,l}function nr(){const e=Dn("root",0,"element"),t=Dn("root",0,"element");return new Hn(e,t,0,"")}function rr(){return new jn(new Set)}function or(e,t,n,r){const o=n._window;if(null===o)return null;const i=r||o.event,s=i?i.type:void 0,l="selectionchange"===s,a=!V&&(l||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&i&&3===i.detail||"drop"===s||void 0===s);let c,u,d,f;if(Kn(e)&&!a)return e.clone();if(null===t)return null;if(c=t.anchorNode,u=t.focusNode,d=t.anchorOffset,f=t.focusOffset,l&&Kn(e)&&!ho(n,c,u))return e.clone();const g=Qn(c,d,u,f,n,e);if(null===g)return null;const[h,p]=g;return new Hn(h,p,Kn(e)?e.format:0,Kn(e)?e.style:"")}function ir(){return Sr()._selection}function sr(){return Er()._editorState._selection}function lr(e,t,n,r=1){const o=e.anchor,i=e.focus,s=o.getNode(),l=i.getNode();if(!t.is(s)&&!t.is(l))return;const a=t.__key;if(e.isCollapsed()){const t=o.offset;if(n<=t&&r>0||n<t&&r<0){const n=Math.max(0,t+r);o.set(a,n,"element"),i.set(a,n,"element"),ar(e)}}else{const s=e.isBackward(),l=s?i:o,c=l.getNode(),u=s?o:i,d=u.getNode();if(t.is(c)){const e=l.offset;(n<=e&&r>0||n<e&&r<0)&&l.set(a,Math.max(0,e+r),"element")}if(t.is(d)){const e=u.offset;(n<=e&&r>0||n<e&&r<0)&&u.set(a,Math.max(0,e+r),"element")}}ar(e)}function ar(e){const t=e.anchor,n=t.offset,r=e.focus,o=r.offset,i=t.getNode(),s=r.getNode();if(e.isCollapsed()){if(!Kr(i))return;const e=i.getChildrenSize(),o=n>=e,s=o?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(Ln(s)){let e=0;o&&(e=s.getTextContentSize()),t.set(s.__key,e,"text"),r.set(s.__key,e,"text")}}else{if(Kr(i)){const e=i.getChildrenSize(),r=n>=e,o=r?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(Ln(o)){let e=0;r&&(e=o.getTextContentSize()),t.set(o.__key,e,"text")}}if(Kr(s)){const e=s.getChildrenSize(),t=o>=e,n=t?s.getChildAtIndex(e-1):s.getChildAtIndex(o);if(Ln(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}}function cr(e,t,n,r,o){let i=null,s=0,l=null;null!==r?(i=r.__key,Ln(r)?(s=r.getTextContentSize(),l="text"):Kr(r)&&(s=r.getChildrenSize(),l="element")):null!==o&&(i=o.__key,Ln(o)?l="text":Kr(o)&&(l="element")),null!==i&&null!==l?e.set(i,s,l):(s=t.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),e.set(n.__key,s,"element"))}function ur(e,t,n,r,o){"text"===e.type?e.set(n,e.offset+(t?0:o),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function dr(e,t,n,r,o){try{e.setBaseAndExtent(t,n,r,o)}catch(e){}}function fr(e){let t=e;e.isCollapsed()||t.removeText();const n=ir();Kn(n)&&(t=n),Kn(t)||s(161);const r=t.anchor;let o=r.getNode(),i=r.offset;for(;!Ei(o);){const e=o;if([o,i]=gr(o,i),e.is(o))break}return i}function gr(e,t){const n=e.getParent();if(!n){const e=to();return Ro().append(e),e.select(),[Ro(),0]}if(Ln(e)){const r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];const o=0===t?0:1;return[n,r[0].getIndexWithinParent()+o]}if(!Kr(e)||0===t)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const n=new Hn(Dn(e.__key,t,"element"),Dn(e.__key,t,"element"),0,""),o=e.insertNewAfter(n);o&&o.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}function hr(e,t,n,r,o="decorators-and-blocks"){if("move"===t&&"character"===r&&!e.isCollapsed()){const[t,r]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return r.set(t.key,t.offset,t.type),!0}const i=ds(e.focus,n?"previous":"next"),s="lineboundary"===r,l="move"===t;let a=i,c="decorators-and-blocks"===o;if(!vs(a)){for(const e of a){c=!1;const{origin:t}=e;if(!Ur(t)||t.isIsolated()||(a=e,!s||!t.isInline()))break}if(c)for(const e of ns(i).iterNodeCarets("extend"===t?"shadowRoot":"root")){if(Wi(e))e.origin.isInline()||(a=e);else{if(Kr(e.origin))continue;Ur(e.origin)&&!e.origin.isInline()&&(a=e)}break}}if(a===i)return!1;if(l&&!s&&Ur(a.origin)&&a.origin.isKeyboardSelectable()){const e=rr();return e.add(a.origin.getKey()),Io(e),!0}return a=bs(a),l&&fs(e.anchor,a),fs(e.focus,a),c||!s}let pr=null,mr=null,yr=!1,_r=!1,br=0;const vr={characterData:!0,childList:!0,subtree:!0};function xr(){return yr||null!==pr&&pr._readOnly}function Cr(){yr&&s(13)}function wr(){br>99&&s(14)}function Sr(){return null===pr&&s(195,kr()),pr}function Er(){return null===mr&&s(196,kr()),mr}function kr(){let e=0;const t=new Set,n=ao.version;if("undefined"!=typeof window)for(const r of document.querySelectorAll("[contenteditable]")){const o=yo(r);if(po(o))e++;else if(o){let e=String(o.constructor.version||"<0.17.1");e===n&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function Nr(e,t,n){const r=t.__type,o=function(e,t){const n=e._nodes.get(t);return void 0===n&&s(30,t),n}(e,r);let i=n.get(r);void 0===i&&(i=Array.from(o.transforms),n.set(r,i));const l=i.length;for(let e=0;e<l&&(i[e](t),t.isAttached());e++);}function Tr(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function Or(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const e of r)n.add(e)}function Fr(e){return Ar(e,Er()._nodes)}function Ar(e,t){const n=e.type,r=t.get(n);void 0===r&&s(17,n);const o=r.klass;e.type!==o.getType()&&s(18,o.name);const i=o.importJSON(e),l=e.children;if(Kr(i)&&Array.isArray(l))for(let e=0;e<l.length;e++){const n=Ar(l[e],t);i.append(n)}return i}function Lr(e,t,n){const r=pr,o=yr,i=mr;pr=t,yr=!0,mr=e;try{return n()}finally{pr=r,yr=o,mr=i}}function Pr(e,t){const n=e._pendingEditorState,r=e._rootElement,o=e._headless||null===r;if(null===n)return;const i=e._editorState,s=i._selection,l=n._selection,a=0!==e._dirtyType,c=pr,u=yr,d=mr,f=e._updating,g=e._observer;let h=null;if(e._pendingEditorState=null,e._editorState=n,!o&&a&&null!==g){mr=e,pr=n,yr=!1,e._updating=!0;try{const t=e._dirtyType,r=e._dirtyElements,o=e._dirtyLeaves;g.disconnect(),h=function(e,t,n,r,o,i){ve="",Se="",xe="",Ee=r===C,Ne=null,de=n,ue=n._config,fe=n._nodes,ge=de._listeners.mutation,he=o,pe=i,me=e._nodeMap,ye=t._nodeMap,ke=t._readOnly,_e=new Map(n._keyToDOMMap);const s=new Map;return be=s,$e("root",null),de=void 0,fe=void 0,he=void 0,pe=void 0,me=void 0,ye=void 0,ue=void 0,_e=void 0,be=void 0,s}(i,n,e,t,r,o)}catch(t){if(t instanceof Error&&e._onError(t),_r)throw t;return lo(e,null,r,n),ne(e),e._dirtyType=C,_r=!0,Pr(e,i),void(_r=!1)}finally{g.observe(r,vr),e._updating=f,pr=c,yr=u,mr=d}}n._readOnly||(n._readOnly=!0);const p=e._dirtyLeaves,m=e._dirtyElements,y=e._normalizedNodes,b=e._updateTags,v=e._deferred;a&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const o=t._nodeMap;let i;for(i in r)o.has(i)||(r===n&&(r=Lo(e)),delete r[i])}(e,n);const x=o?null:_i(ui(e));if(e._editable&&null!==x&&(a||null===l||l.dirty)&&null!==r&&!b.has("skip-dom-selection")){mr=e,pr=n;try{if(null!==g&&g.disconnect(),a||null===l||l.dirty){const t=e._blockCursorElement;null!==t&&yi(t,e,r),function(e,t,n,r,o,i){const s=r.anchorNode,l=r.focusNode,a=r.anchorOffset,c=r.focusOffset,u=document.activeElement;if(o.has("collaboration")&&u!==i||null!==u&&go(u))return;if(!Kn(t))return void(null!==e&&ho(n,s,l)&&r.removeAllRanges());const d=t.anchor,f=t.focus,g=d.key,h=f.key,p=ii(n,g),m=ii(n,h),y=d.offset,_=f.offset,b=t.format,v=t.style,x=t.isCollapsed();let C=p,w=m,S=!1;if("text"===d.type){C=vo(p);const e=d.getNode();S=e.getFormat()!==b||e.getStyle()!==v}else Kn(e)&&"text"===e.anchor.type&&(S=!0);var E,k,N,T,O;if("text"===f.type&&(w=vo(m)),null!==C&&null!==w&&(x&&(null===e||S||Kn(e)&&(e.format!==b||e.style!==v))&&(E=b,k=v,N=y,T=g,O=performance.now(),Zt=[E,k,N,T,O]),a!==y||c!==_||s!==C||l!==w||"Range"===r.type&&x||(null!==u&&i.contains(u)||i.focus({preventScroll:!0}),"element"===d.type))){if(dr(r,C,y,w,_),!o.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==i&&i===document.activeElement){const e=Kn(t)&&"element"===t.anchor.type?C.childNodes[y]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){const n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){const r=li(n),o=ci(r);if(null===r||null===o)return;let{top:i,bottom:s}=t,l=0,a=0,c=n;for(;null!==c;){const t=c===r.body;if(t)l=0,a=ui(e).innerHeight;else{const e=c.getBoundingClientRect();l=e.top,a=e.bottom}let n=0;if(i<l?n=-(l-i):s>a&&(n=s-a),0!==n)if(t)o.scrollBy(0,n);else{const e=c.scrollTop;c.scrollTop+=n;const t=c.scrollTop-e;i-=t,s-=t}if(t)break;c=si(c)}}(n,t,i)}}Kt=!0}}(s,l,e,x,b,r)}!function(e,t,n){let r=e._blockCursorElement;if(Kn(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const o=n.anchor,i=o.getNode(),s=o.offset;let l=!1,a=null;if(s===i.getChildrenSize())mi(i.getChildAtIndex(s-1))&&(l=!0);else{const t=i.getChildAtIndex(s);if(null!==t&&mi(t)){const n=t.getPreviousSibling();(null===n||mi(n))&&(l=!0,a=e.getElementByKey(t.__key))}}if(l){const n=e.getElementByKey(i.__key);return null===r&&(e._blockCursorElement=r=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){const e=_(r);r=t.blockCursor=e}void 0!==r&&n.classList.add(...r)}return n}(e._config)),t.style.caretColor="transparent",void(null===a?n.appendChild(r):n.insertBefore(r,a))}}null!==r&&yi(r,e,t)}(e,r,l)}finally{null!==g&&g.observe(r,vr),mr=d,pr=c}}null!==h&&function(e,t,n,r,o){const i=Array.from(e._listeners.mutation),s=i.length;for(let e=0;e<s;e++){const[s,l]=i[e],a=t.get(l);void 0!==a&&s(a,{dirtyLeaves:r,prevEditorState:o,updateTags:n})}}(e,h,b,p,i),Kn(l)||null===l||null!==s&&s.is(l)||e.dispatchCommand(We,void 0);const w=e._pendingDecorators;null!==w&&(e._decorators=w,e._pendingDecorators=null,Rr("decorator",e,!0,w)),function(e,t,n){const r=Po(t),o=Po(n);r!==o&&Rr("textcontent",e,!0,o)}(e,t||i,n),Rr("update",e,!0,{dirtyElements:m,dirtyLeaves:p,editorState:n,mutatedNodes:h,normalizedNodes:y,prevEditorState:t||i,tags:b}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,v),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,r]=n;zr(e,t,r)}}}(e)}function Rr(e,t,n,...r){const o=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(let e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=o}}function Mr(e,t,n){if(!1===e._updating||mr!==e){let r=!1;return e.update((()=>{r=Mr(e,t,n)})),r}const r=$o(e);for(let o=4;o>=0;o--)for(let i=0;i<r.length;i++){const s=r[i]._commands.get(t);if(void 0!==s){const t=s[o];if(void 0!==t){const r=Array.from(t),o=r.length;for(let t=0;t<o;t++)if(!0===r[t](n,e))return!0}}}return!1}function Ir(e,t){const n=e._updates;let r=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,o]=t;let i;if(void 0!==o){if(i=o.onUpdate,o.skipTransforms&&(r=!0),o.discrete){const t=e._pendingEditorState;null===t&&s(191),t._flushSync=!0}i&&e._deferred.push(i),Or(e,o.tag)}n()}}return r}function zr(e,t,n){const r=e._updateTags;let o,i=!1,l=!1;void 0!==n&&(o=n.onUpdate,Or(e,n.tag),i=n.skipTransforms||!1,l=n.discrete||!1),o&&e._deferred.push(o);const a=e._editorState;let c=e._pendingEditorState,u=!1;(null===c||c._readOnly)&&(c=e._pendingEditorState=qr(c||a),u=!0),c._flushSync=l;const d=pr,f=yr,g=mr,h=e._updating;pr=c,yr=!1,e._updating=!0,mr=e;const p=e._headless||null===e.getRootElement();try{u&&(p?null!==a._selection&&(c._selection=a._selection.clone()):c._selection=function(e,t){const n=e.getEditorState()._selection,r=_i(ui(e));return Kn(n)||null==n?or(n,r,e,t):n.clone()}(e,n&&n.event||null));const r=e._compositionKey;t(),i=Ir(e,i),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(Kn(r)){const e=r.anchor,t=r.focus;let o;if("text"===e.type&&(o=e.getNode(),o.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();o!==e&&e.selectionTransform(n,r)}}}(c,e),0!==e._dirtyType&&(i?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const e of n){const t=r.get(e);Ln(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&le(t)}}(c,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,o=e._nodeMap,i=No(),s=new Map;let l=n,a=l.size,c=r,u=c.size;for(;a>0||u>0;){if(a>0){t._dirtyLeaves=new Set;for(const e of l){const r=o.get(e);Ln(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&le(r),void 0!==r&&Tr(r,i)&&Nr(t,r,s),n.add(e)}if(l=t._dirtyLeaves,a=l.size,a>0){br++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map,c.delete("root")&&c.set("root",!0);for(const e of c){const n=e[0],l=e[1];if(r.set(n,l),!l)continue;const a=o.get(n);void 0!==a&&Tr(a,i)&&Nr(t,a,s)}l=t._dirtyLeaves,a=l.size,c=t._dirtyElements,u=c.size,br++}t._dirtyLeaves=n,t._dirtyElements=r}(c,e),Ir(e),function(e,t,n,r){const o=e._nodeMap,i=t._nodeMap,s=[];for(const[e]of r){const t=i.get(e);void 0!==t&&(t.isAttached()||(Kr(t)&&J(t,e,o,i,s,r),o.has(e)||r.delete(e),s.push(e)))}for(const e of s)i.delete(e);for(const e of n){const t=i.get(e);void 0===t||t.isAttached()||(o.has(e)||n.delete(e),i.delete(e))}}(a,c,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(c._flushSync=!0);const o=c._selection;if(Kn(o)){const e=c._nodeMap,t=o.anchor.key,n=o.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||s(19)}else Wn(o)&&0===o._nodes.size&&(c._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=a,e._dirtyType=C,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Pr(e)}finally{pr=d,yr=f,mr=g,e._updating=h,br=0}const m=0!==e._dirtyType||e._deferred.length>0||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(c,e);m?c._flushSync?(c._flushSync=!1,Pr(e)):u&&uo((()=>{Pr(e)})):(c._flushSync=!1,u&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function Dr(e,t,n){e._updating?mr===e?t():e._updates.push([t,n]):zr(e,t,n)}class Br{constructor(e,t,n){this.element=e,this.before=t||null,this.after=n||null}withBefore(e){return new Br(this.element,e,this.after)}withAfter(e){return new Br(this.element,this.before,e)}withElement(e){return this.element===e?this:new Br(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&s(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&s(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&s(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(null===e)this.removeManagedLineBreak();else{const t="decorator"===e&&(g||f);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,n="IMG"===e.nodeName?e.nextSibling:null;n&&t.removeChild(n),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}const n=this.element,r=this.before,o=document.createElement("br");if(n.insertBefore(o,r),e){const e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",n.insertBefore(e,o),n.__lexicalLineBreak=e}else n.__lexicalLineBreak=o}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,n,r){if(n===this.element){const t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}const o=$r(t,n);o.push(r);const i=$r(t,this.element);let s=e.getIndexWithinParent();for(let e=0;e<i.length;e++){const t=o[e],n=i[e];if(void 0===t||t<n)break;if(t>n){s+=1;break}}return[e.getParentOrThrow(),s]}}function $r(e,t){const n=[];let r=t;for(;r!==e&&null!==r;r=t.parentNode){let e=0;for(let t=r.previousSibling;null!==t;t=t.previousSibling)e++;n.push(e)}return r!==e&&s(225),n.reverse()}class jr extends un{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return K[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=Er()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(Ln(t)&&e.push(t),Kr(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;Kr(e);){const t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;Kr(e);){const t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return Kr(e)&&e.getLastDescendant()||e||null}const r=t[e];return Kr(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:To(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return null===e&&s(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return null===e?null:To(e)}getLastChildOrThrow(){const e=this.getLastChild();return null===e&&s(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let n,r;if(e<t/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=e;){if(r===e)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=t-1;null!==n&&r>=e;){if(r===e)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=o.getTextContent(),Kr(o)&&r!==n-1&&!o.isInline()&&(e+=P)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=o.getTextContentSize(),Kr(o)&&r!==n-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){const t=j[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=B[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return xo(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){Cr();const n=ir();let r=e,o=t;const i=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(Ln(e)||Kr(e))return e.select(0,0)}else if(!(void 0!==e&&e!==i||void 0!==t&&t!==i)){const e=this.getLastChild();if(Ln(e)||Kr(e))return e.select()}void 0===r&&(r=i),void 0===o&&(o=i);const s=this.__key;return Kn(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,o,"element"),n.dirty=!0,n):tr(s,r,s,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?j[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){const r=n.length,o=this.getChildrenSize(),i=this.getWritable();e+t<=o||s(226,String(e),String(t),String(o));const l=i.__key,a=[],c=[],u=this.getChildAtIndex(e+t);let d=null,f=o-t+r;if(0!==e)if(e===o)d=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(d=t.getPreviousSibling())}if(t>0){let e=null===d?this.getFirstChild():d.getNextSibling();for(let n=0;n<t;n++){null===e&&s(100);const t=e.getNextSibling(),n=e.__key;So(e.getWritable()),c.push(n),e=t}}let g=d;for(let e=0;e<r;e++){const t=n[e];null!==g&&t.is(g)&&(d=g=g.getPreviousSibling());const r=t.getWritable();r.__parent===l&&f--,So(r);const o=t.__key;if(null===g)i.__first=o,r.__prev=null;else{const e=g.getWritable();e.__next=o,r.__prev=e.__key}t.__key===l&&s(76),r.__parent=l,a.push(o),g=t}if(e+t===o)null!==g&&(g.getWritable().__next=null,i.__last=g.__key);else if(null!==u){const e=u.getWritable();if(null!==g){const t=g.getWritable();e.__prev=g.__key,t.__next=u.__key}else e.__prev=null}if(i.__size=f,c.length){const e=ir();if(Kn(e)){const t=new Set(c),n=new Set(a),{anchor:r,focus:o}=e;Hr(r,t,n)&&cr(r,r.getNode(),this,d,u),Hr(o,t,n)&&cr(o,o.getNode(),this,d,u),0!==f||this.canBeEmpty()||fi(this)||this.remove()}}return i}getDOMSlot(e){return new Br(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(vi(t)){const e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px");const n=this.getDirection();n&&(t.dir=n)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),n=this.getTextStyle();return 0!==t&&(e.textFormat=t),""!==n&&(e.textStyle=n),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const n=this.getDOMSlot(e);let r=n.getFirstChild();for(let e=this.getFirstChild();e;e=e.getNextSibling()){const o=t.getElementByKey(e.getKey());null!==o&&(null==r?(n.insertChild(o),r=o):r!==o&&n.replaceChild(o,r),r=r.nextSibling)}}}function Kr(e){return e instanceof jr}function Hr(e,t,n){let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}class Wr extends un{decorate(e,t){s(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Ur(e){return e instanceof Wr}class Jr extends jr{static getType(){return"root"}static clone(){return new Jr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){s(51)}getTextContent(){const e=this.__cachedText;return!xr()&&0!==Er()._dirtyType||null===e?super.getTextContent():e}remove(){s(52)}replace(e){s(53)}insertBefore(e){s(54)}insertAfter(e){s(55)}updateDOM(e,t){return!1}splice(e,t,n){for(const e of n)Kr(e)||Ur(e)||s(282);return super.splice(e,t,n)}static importJSON(e){return Ro().updateFromJSON(e)}collapseAtStart(){return!0}}function Vr(e){return e instanceof Jr}function qr(e){return new Gr(new Map(e._nodeMap))}function Zr(){return new Gr(new Map([["root",new Jr]]))}function Yr(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&s(130,n.name),Kr(e)){const r=t.children;Array.isArray(r)||s(59,n.name);const o=e.getChildren();for(let e=0;e<o.length;e++){const t=Yr(o[e]);r.push(t)}}return t}class Gr{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return Lr(t&&t.editor||null,this,e)}clone(e){const t=new Gr(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return Lr(null,this,(()=>({root:Yr(Ro())})))}}class Xr extends jr{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class Qr extends jr{static getType(){return"paragraph"}static clone(e){return new Qr(e.__key)}createDOM(e){const t=document.createElement("p"),n=Xo(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>({conversion:eo,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(vi(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e}return{element:t}}static importJSON(e){return to().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const n=to();n.setTextFormat(e.format),n.setTextStyle(e.style);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||Ln(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function eo(e){const t=to();return e.style&&(t.setFormat(e.style.textAlign),Li(e,t)),{node:t}}function to(){return hi(new Qr)}function no(e){return e instanceof Qr}const ro=0,oo=1,io=3,so=4;function lo(e,t,n,r){const o=e._keyToDOMMap;o.clear(),e._editorState=Zr(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const i=e._observer;null!==i&&(i.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",o.set("root",n))}class ao{constructor(e,t,n,r,o,i,s,l){this._createEditorArgs=l,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=jo(),this._onError=o,this._htmlConversions=i,this._editable=s,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&s(35);const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=r.get(e);void 0===o&&s(36,String(e));const i=o[n];return i.add(t),()=>{i.delete(t),o.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t,n){const r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;o.set(t,r);const i=n&&n.skipInitialization;return void 0!==i&&i||this.initializeMutationListener(t,r),()=>{o.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return void 0===t&&s(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const n=this._editorState,r=Fi(n).get(t.getType());if(!r)return;const o=new Map;for(const e of r.keys())o.set(e,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const n=this.getRegisteredNode(e);return n.transforms.add(t),n}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),r=[n],o=n.replaceWithKlass;if(null!=o){const e=this.registerNodeTransformToKlass(o,t);r.push(e)}return function(e,t){const n=Fi(e.getEditorState()),r=[];for(const e of t){const t=n.get(e);t&&r.push(t)}0!==r.length&&e.update((()=>{for(const e of r)for(const t of e.keys()){const e=To(t);e&&e.markDirty()}}),null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,r.map((e=>e.klass.getType()))),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return ri(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=Xo(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,lo(this,t,e,r),null!==t&&(this._config.disableEvents||function(e){const t=e.ownerDocument,n=jt.get(t);if(void 0===n)return;const r=n-1;r>=0||s(164),jt.set(t,r),0===r&&t.removeEventListener("selectionchange",sn);const o=yo(e);po(o)?(function(e){if(null!==e._parentEditor){const t=$o(e),n=t[t.length-1]._key;on.get(n)===e&&on.delete(n)}else on.delete(e._key)}(o),e.__lexicalEditor=null):o&&s(198);const i=rn(e);for(let e=0;e<i.length;e++)i[e]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){const t=ci(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=C,ne(this),this._updateTags.add("history-merge"),Pr(this),this._config.disableEvents||function(e,t){const n=e.ownerDocument,r=jt.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",sn),jt.set(n,(r||0)+1),e.__lexicalEditor=t;const o=rn(e);for(let n=0;n<It.length;n++){const[r,i]=It[n],s="function"==typeof i?e=>{an(e)||(ln(e),(t.isEditable()||"click"===r)&&i(e,t))}:e=>{if(an(e))return;ln(e);const n=t.isEditable();switch(r){case"cut":return n&&ri(t,kt,e);case"copy":return ri(t,Et,e);case"paste":return n&&ri(t,Ge,e);case"dragstart":return n&&ri(t,Ct,e);case"dragover":return n&&ri(t,wt,e);case"dragend":return n&&ri(t,St,e);case"focus":return n&&ri(t,Lt,e);case"blur":return n&&ri(t,Pt,e);case"drop":return n&&ri(t,vt,e)}};e.addEventListener(r,s),o.push((()=>{e.removeEventListener(r,s)}))}}(e,this),null!=n&&e.classList.add(...n)}else this._window=null,this._updateTags.add("history-merge"),Pr(this);Rr("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&s(38);let n=e;n._readOnly&&(n=qr(e),n._selection=e._selection?e._selection.clone():null),te(this);const r=this._pendingEditorState,o=this._updateTags,i=void 0!==t?t.tag:null;null===r||r.isEmpty()||(null!=i&&o.add(i),Pr(this)),this._pendingEditorState=n,this._dirtyType=C,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=i&&o.add(i),this._updating||Pr(this)}parseEditorState(e,t){return function(e,t,n){const r=Zr(),o=pr,i=yr,s=mr,l=t._dirtyElements,a=t._dirtyLeaves,c=t._cloneNotNeeded,u=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,pr=r,yr=!1,mr=t;try{const o=t._nodes;Ar(e.root,o),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=l,t._dirtyLeaves=a,t._cloneNotNeeded=c,t._dirtyType=u,pr=o,yr=i,mr=s}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return Pr(this),this.getEditorState().read(e,{editor:this})}update(e,t){!function(e,t,n){e._updating?e._updates.push([t,n]):zr(e,t,n)}(this,e,t)}focus(e,t={}){const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Dr(this,(()=>{const r=ir(),o=Ro();null!==r?r.dirty=!0:0!==o.getChildrenSize()&&("rootStart"===t.defaultSelection?o.selectStart():o.selectEnd()),Cr(),Er()._updateTags.add("focus"),function(e){Cr(),Er()._deferred.push(e)}((()=>{n.removeAttribute("autocapitalize"),e&&e()}))})),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=_i(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Rr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}ao.version="0.29.0+prod.esm";let co=1;const uo="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function fo(e){return Ur(Ao(e))}function go(e){const t=document.activeElement;if(!vi(t))return!1;const n=t.nodeName;return Ur(Ao(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==yo(t))}function ho(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!go(t)&&mo(t)===e}catch(e){return!1}}function po(e){return e instanceof ao}function mo(e){let t=e;for(;null!=t;){const e=yo(t);if(po(e))return e;t=si(t)}return null}function yo(e){return e?e.__lexicalEditor:null}function _o(e){return e.isToken()||e.isSegmented()}function bo(e){return xi(e)&&3===e.nodeType}function vo(e){let t=e;for(;null!=t;){if(bo(t))return t;t=t.firstChild}return null}function xo(e,t,n){const r=B[t];if(null!==n&&(e&r)==(n&r))return e;let o=e^r;return"subscript"===t?o&=~B.superscript:"superscript"===t?o&=~B.subscript:"lowercase"===t?(o&=~B.uppercase,o&=~B.capitalize):"uppercase"===t?(o&=~B.lowercase,o&=~B.capitalize):"capitalize"===t&&(o&=~B.lowercase,o&=~B.uppercase),o}function Co(e){return Ln(e)||hn(e)||Ur(e)}function wo(e,t){if(null!=t)return void(e.__key=t);Cr(),wr();const n=Er(),r=Sr(),o=""+co++;r._nodeMap.set(o,e),Kr(e)?n._dirtyElements.set(o,!0):n._dirtyLeaves.add(o),n._cloneNotNeeded.add(o),n._dirtyType=x,e.__key=o}function So(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),o=e.getPreviousSibling(),i=e.getNextSibling();if(null===o)if(null!==i){const e=i.getWritable();r.__first=i.__key,e.__prev=null}else r.__first=null;else{const e=o.getWritable();if(null!==i){const t=i.getWritable();t.__prev=e.__key,e.__next=t.__key}else e.__next=null;n.__prev=null}if(null===i)if(null!==o){const e=o.getWritable();r.__last=o.__key,e.__next=null}else r.__last=null;else{const e=i.getWritable();if(null!==o){const t=o.getWritable();t.__next=e.__key,e.__prev=t.__key}else e.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function Eo(e){wr();const t=e.getLatest(),n=t.__parent,r=Sr(),o=Er(),i=r._nodeMap,s=o._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,i,s);const l=t.__key;o._dirtyType=x,Kr(e)?s.set(l,!0):o._dirtyLeaves.add(l)}function ko(e){Cr();const t=Er(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=To(n);null!==e&&e.getWritable()}if(null!==e){const t=To(e);null!==t&&t.getWritable()}}}function No(){return xr()?null:Er()._compositionKey}function To(e,t){const n=(t||Sr())._nodeMap.get(e);return void 0===n?null:n}function Oo(e,t){const n=Fo(e,Er());return void 0!==n?To(n,t):null}function Fo(e,t){return e[`__lexicalKey_${t._key}`]}function Ao(e,t){let n=e;for(;null!=n;){const e=Oo(n,t);if(null!==e)return e;n=si(n)}return null}function Lo(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function Po(e){return e.read((()=>Ro().getTextContent()))}function Ro(){return Mo(Sr())}function Mo(e){return e._nodeMap.get("root")}function Io(e){Cr();const t=Sr();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function zo(e){const t=Er(),n=function(e,t){let n=e;for(;null!=n;){const e=Fo(n,t);if(void 0!==e)return e;n=si(n)}return null}(e,t);return null===n?e===t.getRootElement()?To("root"):null:To(n)}function Do(e,t){return t?e.getTextContentSize():0}function Bo(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function $o(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function jo(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function Ko(e){return bo(e)?e.nodeValue:null}function Ho(e,t,n){const r=_i(ui(t));if(null===r)return;const o=r.anchorNode;let{anchorOffset:i,focusOffset:s}=r;if(null!==o){let t=Ko(o);const r=Ao(o);if(null!==t&&Ln(r)){if(t===L&&n){const e=n.length;t=n,i=e,s=e}null!==t&&Wo(r,t,i,s,e)}}}function Wo(e,t,n,r,o){let i=e;if(i.isAttached()&&(o||!i.isDirty())){const s=i.isComposing();let l=t;(s||o)&&t[t.length-1]===L&&(l=t.slice(0,-1));const a=i.getTextContent();if(o||l!==a){if(""===l){if(ko(null),f||g||y)i.remove();else{const e=Er();setTimeout((()=>{e.update((()=>{i.isAttached()&&i.remove()}))}),20)}return}const t=i.getParent(),o=sr(),a=i.getTextContentSize(),c=No(),u=i.getKey();if(i.isToken()||null!==c&&u===c&&!s||Kn(o)&&(null!==t&&!t.canInsertTextBefore()&&0===o.anchor.offset||o.anchor.key===e.__key&&0===o.anchor.offset&&!i.canInsertTextBefore()&&!s||o.focus.key===e.__key&&o.focus.offset===a&&!i.canInsertTextAfter()&&!s))return void i.markDirty();const d=ir();if(!Kn(d)||null===n||null===r)return void i.setTextContent(l);if(d.setTextNodeRange(i,n,i,r),i.isSegmented()){const e=An(i.getTextContent());i.replace(e),i=e}i.setTextContent(l)}}}function Uo(e){return"ArrowLeft"===e}function Jo(e){return"ArrowRight"===e}function Vo(e,t){return c?e:t}function qo(e){return"Enter"===e}function Zo(e){return"Backspace"===e}function Yo(e){return"Delete"===e}function Go(e,t,n){return"a"===e.toLowerCase()&&Vo(t,n)}function Xo(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;const o=e[t];if("string"==typeof o){const e=_(o);return n[t]=e,e}return o}function Qo(e,t,n,r,o){if(0===n.size)return;const i=r.__type,l=r.__key,a=t.get(i);void 0===a&&s(33,i);const c=a.klass;let u=e.get(c);void 0===u&&(u=new Map,e.set(c,u));const d=u.get(l),f="destroyed"===d&&"created"===o;(void 0===d||f)&&u.set(l,f?"updated":o)}function ei(e,t,n){const r=e.getParent();let o=n,i=e;return null!==r&&(t&&0===n?(o=i.getIndexWithinParent(),i=r):t||n!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(t?o-1:o)}function ti(e,t){const n=e.offset;if("element"===e.type)return ei(e.getNode(),t,n);{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?ei(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function ni(e){const t=ui(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function ri(e,t,n){return Mr(e,t,n)}function oi(e){return!Vr(e)&&!e.isLastChild()&&!e.isInline()}function ii(e,t){const n=e._keyToDOMMap.get(t);return void 0===n&&s(75,t),n}function si(e){const t=e.assignedSlot||e.parentElement;return Ci(t)?t.host:t}function li(e){return function(e){return xi(e)&&9===e.nodeType}(e)?e:vi(e)?e.ownerDocument:null}function ai(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function ci(e){const t=li(e);return t?t.defaultView:null}function ui(e){const t=e._window;return null===t&&s(78),t}function di(e){return Kr(e)&&e.isInline()||Ur(e)&&e.isInline()}function fi(e){return Vr(e)||Kr(e)&&e.isShadowRoot()}function gi(e){const t=e.constructor.clone(e);return wo(t,null),t}function hi(e){const t=Er(),n=e.constructor.getType(),r=t._nodes.get(n);void 0===r&&s(200,e.constructor.name,n);const{replace:o,replaceWithKlass:i}=r;if(null!==o){const t=o(e),r=t.constructor;return null!==i?t instanceof i||s(201,i.name,i.getType(),r.name,r.getType(),e.constructor.name,n):t instanceof e.constructor&&r!==e.constructor||s(202,r.name,r.getType(),e.constructor.name,n),t.__key===e.__key&&s(203,e.constructor.name,n,r.name,r.getType()),t}return e}function pi(e,t){!Vr(e.getParent())||Kr(t)||Ur(t)||s(99)}function mi(e){return(Ur(e)||Kr(e)&&!e.canBeEmpty())&&!e.isInline()}function yi(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;null!==r&&r.removeChild(e)}function _i(e){return l?(e||window).getSelection():null}function bi(e){return vi(e)&&"A"===e.tagName}function vi(e){return xi(e)&&e.nodeType===b}function xi(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function Ci(e){return xi(e)&&e.nodeType===v}function wi(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function Si(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function Ei(e){if(Ur(e)&&!e.isInline())return!0;if(!Kr(e)||fi(e))return!1;const t=e.getFirstChild(),n=null===t||hn(t)||Ln(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function ki(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function Ni(){return Er()}const Ti=new WeakMap,Oi=new Map;function Fi(e){if(!e._readOnly&&e.isEmpty())return Oi;e._readOnly||s(192);let t=Ti.get(e);return t||(t=function(e){const t=new Map;for(const[n,r]of e._nodeMap){const e=r.__type;let o=t.get(e);o||(o=new Map,t.set(e,o)),o.set(n,r)}return t}(e),Ti.set(e,t)),t}function Ai(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function Li(e,t){const n=(parseInt(e.style.paddingInlineStart,10)||0)/40;t.setIndent(n)}function Pi(e){return!0===e.__lexicalUnmanaged}const Ri={next:"previous",previous:"next"};class Mi{constructor(e){this.origin=e}[Symbol.iterator](){return is({hasNext:Hi,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return qi(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return qi(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const n=this.getNodeAtCaret();return e.is(this.origin)||e.is(n)||(null===n?this.insert(e):n.replace(e,t)),this}splice(e,t,n="next"){const r=n===this.direction?t:Array.from(t).reverse();let o=this;const i=this.getParentAtCaret(),l=new Map;for(let t=o.getAdjacentCaret();null!==t&&l.size<e;t=t.getAdjacentCaret()){const e=t.origin.getWritable();l.set(e.getKey(),e)}for(const e of r){if(l.size>0){const t=o.getNodeAtCaret();if(t)if(l.delete(t.getKey()),l.delete(e.getKey()),t.is(e)||o.origin.is(e));else{const n=e.getParent();n&&n.is(i)&&e.remove(),t.replace(e)}else null===t&&s(263,Array.from(l).join(" "))}else o.insert(e);o=qi(e,this.direction)}for(const e of l.values())e.remove();return this}}class Ii extends Mi{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Xi(e,this.direction)}getParentCaret(e="root"){return qi(Bi(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Di(this.direction);return qi(this.getNodeAtCaret(),e)||Xi(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof Ii&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const zi={root:Vr,shadowRoot:fi};function Di(e){return Ri[e]}function Bi(e,t="root"){return zi[t](e)?null:e}class $i extends Mi{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:qi(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return Kr(this.origin)?Xi(this.origin,this.direction):null}getParentCaret(e="root"){return qi(Bi(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Di(this.direction);return qi(this.getNodeAtCaret(),e)||Xi(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof $i&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof $i||e instanceof ji)&&this.direction===e.direction&&this.origin.is(e.origin)}}class ji extends Mi{type="text";constructor(e,t){super(e),this.offset=t}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Zi(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return qi(Bi(this.getParentAtCaret(),e),this.direction)}getFlipped(){return Zi(this.origin,Di(this.direction),this.offset)}isSamePointCaret(e){return e instanceof ji&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof $i||e instanceof ji)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return qi(this.origin,this.direction)}}function Ki(e){return e instanceof ji}function Hi(e){return e instanceof $i}function Wi(e){return e instanceof Ii}const Ui={next:class extends ji{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends ji{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Ji={next:class extends $i{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends $i{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Vi={next:class extends Ii{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends Ii{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function qi(e,t){return e?new Ji[t](e):null}function Zi(e,t,n){return e?new Ui[t](e,Yi(e,n)):null}function Yi(e,t){const n=e.getTextContentSize(),r="next"===t?n:"previous"===t?0:t;return r>=0&&r<=n||s(274,String(t),String(n)),r}function Gi(e,t){return new ts(e,t)}function Xi(e,t){return Kr(e)?new Vi[t](e):null}function Qi(e){return e&&function(e){return e&&e.getChildCaret()||e}(e.getAdjacentCaret())}class es{type="node-caret-range";constructor(e,t,n){this.anchor=e,this.focus=t,this.direction=n}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new es(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=e=>{const t=this[e].getLatest();return Ki(t)?function(e,t){const{direction:n,origin:r}=e;return Gi(e,Yi(r,"focus"===t?Di(n):n)-e.offset)}(t,e):null},t=e("anchor"),n=e("focus");if(t&&n){const{caret:e}=t,{caret:r}=n;if(e.isSameNodeCaret(r))return[Gi(e,r.offset-e.offset),null]}return[t,n]}iterNodeCarets(e="root"){const t=Ki(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=Ki(n),o=t=>t.isSameNodeCaret(n)?null:Qi(t)||t.getParentCaret(e);return is({hasNext:e=>null!==e&&!(r&&n.isSameNodeCaret(e)),initial:t.isSameNodeCaret(n)?null:o(t),map:e=>e,step:o})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class ts{type="slice";constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,n=t+e;return n<t?[n,t]:[t,n]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[n,r]=this.getSliceIndices(),o=e.getTextContent();return Zi(e.setTextContent(o.slice(0,n)+o.slice(r)),t,n)}}function ns(e){return os(e,qi(Ro(),e.direction))}function rs(e){return os(e,e)}function os(e,t){return e.direction!==t.direction&&s(265),new es(e,t,e.direction)}function is(e){const{initial:t,hasNext:n,step:r,map:o}=e;let i=t;return{[Symbol.iterator](){return this},next(){if(!n(i))return{done:!0,value:void 0};const e={done:!1,value:o(i)};return i=r(i),e}}}function ss(e,t){const n=us(e.origin,t.origin);switch(null===n&&s(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{const n="text"===e.type,r="text"===t.type;return n&&r?function(e,t){return Math.sign(e-t)}(e.offset,t.offset):e.type===t.type?0:n?-1:r?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===t.type?1:-1;case"branch":return ls(n)}}function ls(e){const{a:t,b:n}=e,r=t.__key,o=n.__key;let i=t,s=n;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1}return null===i?1:-1}function as(e,t){return t.is(e)}function cs(e){return Kr(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function us(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};const n=new Map;for(let[t,r]=cs(e);t;r=t,t=t.getParent())n.set(t,r);for(let[r,o]=cs(t);r;o=r,r=r.getParent()){const i=n.get(r);if(void 0!==i)return null===i?(as(e,r)||s(276),{commonAncestor:r,type:"ancestor"}):null===o?(as(t,r)||s(277),{commonAncestor:r,type:"descendant"}):((Kr(i)||as(e,i))&&(Kr(o)||as(t,o))&&r.is(i.getParent())&&r.is(o.getParent())||s(278),{a:i,b:o,commonAncestor:r,type:"branch"})}return null}function ds(e,t){const{type:n,key:r,offset:o}=e,i=function(e){const t=To(e);return null===t&&s(63,e),t}(e.key);return"text"===n?(Ln(i)||s(266,i.getType(),r),Zi(i,t,o)):(Kr(i)||s(267,i.getType(),r),function(e,t,n){let r=Xi(e,"next");for(let e=0;e<t;e++){const e=r.getAdjacentCaret();if(null===e)break;r=e}return xs(r,n)}(i,e.offset,t))}function fs(e,t){const{origin:n,direction:r}=t,o="next"===r;Ki(t)?e.set(n.getKey(),t.offset,"text"):Hi(t)?Ln(n)?e.set(n.getKey(),Yi(n,r),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(o?1:0),"element"):(Wi(t)&&Kr(n)||s(268),e.set(n.getKey(),o?0:n.getChildrenSize(),"element"))}function gs(e){const t=ir(),n=Kn(t)?t:nr();return hs(n,e),Io(n),n}function hs(e,t){fs(e.anchor,t.anchor),fs(e.focus,t.focus)}function ps(e){const{anchor:t,focus:n}=e,r=ds(t,"next"),o=ds(n,"next"),i=ss(r,o)<=0?"next":"previous";return os(xs(r,i),xs(o,i))}function ms(e){const{direction:t,origin:n}=e,r=qi(n,Di(t)).getNodeAtCaret();return r?qi(r,t):Xi(n.getParentOrThrow(),t)}function ys(e,t="root"){const n=[e];for(let r=Wi(e)?e.getParentCaret(t):e.getSiblingCaret();null!==r;r=r.getParentCaret(t))n.push(ms(r));return n}function _s(e){return!!e&&e.origin.isAttached()}function bs(e){const t=function(e){let t=e;for(;Wi(t);){const e=Qi(t);if(!Wi(e))break;t=e}return t}(e.getLatest()),{direction:n}=t;if(Ln(t.origin))return Ki(t)?t:Zi(t.origin,n,n);const r=t.getAdjacentCaret();return Hi(r)&&Ln(r.origin)?Zi(r.origin,n,Di(n)):t}function vs(e){return Ki(e)&&e.offset!==Yi(e.origin,e.direction)}function xs(e,t){return e.direction===t?e:e.getFlipped()}function Cs(e,t){return e.direction===t?e:os(xs(e.focus,t),xs(e.anchor,t))}function ws(e){const{origin:t,offset:n,direction:r}=e;if(n===Yi(t,r))return e.getSiblingCaret();if(n===Yi(t,Di(r)))return ms(e.getSiblingCaret());const[o]=t.splitText(n);return Ln(o)||s(281),xs(qi(o,"next"),r)}function Ss(e,t){return!0}function Es(e,{$copyElementNode:t=gi,$splitTextPointCaretNext:n=ws,rootMode:r="shadowRoot",$shouldSplit:o=Ss}={}){if(Ki(e))return n(e);const i=e.getParentCaret(r);if(i){const{origin:n}=i;if(Wi(e)&&(!n.canBeEmpty()||!o(n,"first")))return ms(i);const r=function(e){const t=[];for(let n=e.getAdjacentCaret();n;n=n.getAdjacentCaret())t.push(n.origin);return t}(e);(r.length>0||n.canBeEmpty()&&o(n,"last"))&&i.insert(t(n).splice(0,0,r))}return i}var ks=o(848);const Ns="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ts=Ns?e.useLayoutEffect:e.useEffect,Os={tag:"history-merge"};function Fs({initialConfig:t,children:r}){const o=(0,e.useMemo)((()=>{const{theme:e,namespace:n,nodes:r,onError:o,editorState:i,html:s}=t,l=function(e,t){let n=null;return{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}}(0,e),a=function(e){const t=e||{},n=mr,r=t.theme||{},o=void 0===e?n:t.parentEditor||null,i=t.disableEvents||!1,s=Zr(),l=t.namespace||(null!==o?o._config.namespace:jo()),a=t.editorState,c=[Jr,Cn,dn,Rn,Qr,Xr,...t.nodes||[]],{onError:u,html:d}=t,f=void 0===t.editable||t.editable;let g;if(void 0===e&&null!==n)g=n._nodes;else{g=new Map;for(let e=0;e<c.length;e++){let t=c[e],n=null,r=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,r=e.withKlass||null}const o=t.getType(),i=t.transform(),s=new Set;null!==i&&s.add(i),g.set(o,{exportDOM:d&&d.export?d.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:r,transforms:s})}}const h=new ao(s,o,g,{disableEvents:i,namespace:l,theme:r},u||console.error,function(e,t){const n=new Map,r=new Set,o=e=>{Object.keys(e).forEach((t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])}))};return e.forEach((e=>{const t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);const n=t.call(e.klass);null!==n&&o(n)})),t&&o(t),n}(g,d?d.import:void 0),f,e);return void 0!==a&&(h._pendingEditorState=a,h._dirtyType=C),h}({editable:t.editable,html:s,namespace:n,nodes:r,onError:e=>o(e,a),theme:e});return function(e,t){if(null!==t)if(void 0===t)e.update((()=>{const t=Ro();if(t.isEmpty()){const n=to();t.append(n);const r=Ns?document.activeElement:null;(null!==ir()||null!==r&&r===e.getRootElement())&&n.select()}}),Os);else if(null!==t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,Os);break}case"object":e.setEditorState(t,Os);break;case"function":e.update((()=>{Ro().isEmpty()&&t(e)}),Os)}}(a,i),[a,l]}),[]);return Ts((()=>{const e=t.editable,[n]=o;n.setEditable(void 0===e||e)}),[]),(0,ks.jsx)(n.Provider,{value:o,children:r})}const As="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;function Ls(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function Ps(e){return()=>function(e){if(!function(e,t=!0){if(e)return!1;let n=Ro().getTextContent();return t&&(n=n.trim()),""===n}(e,!1))return!1;const t=Ro().getChildren(),n=t.length;if(n>1)return!1;for(let e=0;e<n;e++){const n=t[e];if(Ur(n))return!1;if(Kr(n)){if(!no(n))return!1;if(0!==n.__indent)return!1;const t=n.getChildren(),r=t.length;for(let n=0;n<r;n++)if(!Ln(t[e]))return!1}}return!0}(e)}function Rs(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Ms="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Is=Ms&&"documentMode"in document?document.documentMode:null,zs=(Ms&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ms&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent));!(!Ms||!("InputEvent"in window)||Is)&&new window.InputEvent("input"),Ms&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Ms&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,Ms&&/Android/.test(navigator.userAgent),Ms&&/^(?=.*Chrome).*/i.test(navigator.userAgent);function Ds(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}function Bs(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}function $s(e,...t){const n=Ds(...t);n.length>0&&e.classList.add(...n)}function js(e,...t){const n=Ds(...t);n.length>0&&e.classList.remove(...n)}function Ks(e){return e?e.getAdjacentCaret():null}function Hs(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null}function Ws(e){const t=Us(e,(e=>Kr(e)&&!e.isInline()));return Kr(t)||Rs(4,e.__key),t}Ms&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);const Us=(e,t)=>{let n=e;for(;n!==Ro()&&null!=n;){if(t(n))return n;n=n.getParent()}return null};function Js(e){const t=ir()||sr();let n;if(Kn(t))n=ds(t.focus,"next");else{if(null!=t){const e=t.getNodes(),r=e[e.length-1];r&&(n=qi(r,"next"))}n=n||Xi(Ro(),"previous").getFlipped().insert(to())}const r=function(e,t){let n=xs(t,"next");for(let e=n;e;e=Es(e,undefined))n=e;return Ki(n)&&Rs(283),n.insert(e.isInline()?to().append(e):e),xs(qi(e.getLatest(),"next"),t.direction)}(e,n),o=Qi(r);return gs(rs(Wi(o)?bs(o):r)),e.getLatest()}function Vs(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name}function qs(e,t){Xi(e,"next").insert(t)}let Zs=!(zs||!Ms)&&void 0;function Ys(e,t){return Gs(e,t,null)}function Gs(e,t,n){let r=!1;for(const o of Qs(e))t(o)?null!==n&&n(o):(r=!0,Kr(o)&&Gs(o,t,n||(e=>o.insertAfter(e))),o.remove());return r}function Xs(e,t){const n=[],r=Array.from(e).reverse();for(let e=r.pop();void 0!==e;e=r.pop())if(t(e))n.push(e);else if(Kr(e))for(const t of Qs(e))r.push(t);return n}function Qs(e){return function(e){return is({hasNext:Hi,initial:e.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}(Xi(e,"previous"))}var el=o(514);function tl(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const nl=new Map;function rl(e){const t={};if(!e)return t;const n=e.split(";");for(const e of n)if(""!==e){const[n,r]=e.split(/:([^]+)/);n&&r&&(t[n.trim()]=r.trim())}return t}function ol(e){let t=nl.get(e);return void 0===t&&(t=rl(e),nl.set(e,t)),t}function il(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&null!==n){const[r,o]=n,i=e.isBackward(),s=r.getNode(),l=o.getNode(),a=t.is(s),c=t.is(l);if(a||c){const[n,r]=Jn(e),o=s.is(l),a=t.is(i?l:s),c=t.is(i?s:l);let u,d=0;return o?(d=n>r?r:n,u=n>r?n:r):a?(d=i?r:n,u=void 0):c&&(d=0,u=i?n:r),t.__text=t.__text.slice(d,u),t}}return t}function sl(e){if("text"===e.type)return e.offset===e.getNode().getTextContentSize();const t=e.getNode();return Kr(t)||tl(177),e.offset===t.getChildrenSize()}function ll(e){const t=e.getStyle(),n=rl(t);nl.set(t,n)}function al(e,t){(Kn(e)?e.isCollapsed():Ln(e)||Kr(e))||tl(280);const n=ol(Kn(e)?e.style:Ln(e)?e.getStyle():e.getTextStyle()),r=Object.entries(t).reduce(((t,[r,o])=>("function"==typeof o?t[r]=o(n[r],e):null===o?delete t[r]:t[r]=o,t)),{...n}),o=function(e){let t="";for(const n in e)n&&(t+=`${n}: ${e[n]};`);return t}(r);Kn(e)||Ln(e)?e.setStyle(o):e.setTextStyle(o),nl.set(o,r)}function cl(e,t){if(Kn(e)&&e.isCollapsed()){al(e,t);const n=e.anchor.getNode();Kr(n)&&n.isEmpty()&&al(n,t)}!function(e){const t=ir();if(!t)return;const n=new Map;if(Kn(t))for(const e of ps(t).getTextSlices())e&&n.set(e.caret.origin.getKey(),e.getSliceIndices());const r=t.getNodes();for(const t of r){if(!Ln(t)||!t.canHaveFormat())continue;const[r,i]=(o=t,n.get(o.getKey())||[0,o.getTextContentSize()]);i!==r&&(_o(t)||0===r&&i===t.getTextContentSize()?e(t):e(t.splitText(r,i)[0===r?0:1]))}var o;Kn(t)&&"text"===t.anchor.type&&"text"===t.focus.type&&t.anchor.key===t.focus.key&&function(e){if(e.isBackward()){const{anchor:t,focus:n}=e,{key:r,offset:o,type:i}=t;t.set(n.key,n.offset,n.type),n.set(r,o,i)}}(t)}((e=>{al(e,t)}))}function ul(e,t){const n=e.getFormatType(),r=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),r!==t.getIndent()&&t.setIndent(r)}function dl(e,t,n=ul){if(null===e)return;const r=e.getStartEndPoints(),o=new Map;let i=null;if(r){const[e,t]=r;i=nr(),i.anchor.set(e.key,e.offset,e.type),i.focus.set(t.key,t.offset,t.type);const n=pl(e.getNode(),Ei),s=pl(t.getNode(),Ei);Kr(n)&&o.set(n.getKey(),n),Kr(s)&&o.set(s.getKey(),s)}for(const t of e.getNodes())Kr(t)&&Ei(t)&&o.set(t.getKey(),t);for(const[e,r]of o){const o=t();n(r,o),r.replace(o,!0),i&&(e===i.anchor.key&&i.anchor.set(o.getKey(),i.anchor.offset,i.anchor.type),e===i.focus.key&&i.focus.set(o.getKey(),i.focus.offset,i.focus.type))}i&&e.is(ir())&&Io(i)}function fl(e,t){const n=ds(e.focus,t?"previous":"next");if(vs(n))return!1;for(const e of ns(n)){if(Wi(e))return!e.origin.isInline();if(!Kr(e.origin)){if(Ur(e.origin))return!0;break}}return!1}function gl(e,t,n){const r=function(e){const t=e.anchor.getNode();return"rtl"===(Vr(t)?t:t.getParentOrThrow()).getDirection()}(e);!function(e,t,n){e.modify(t?"extend":"move",n,"character")}(e,t,n?!r:r)}function hl(e,t,n){const r=ol(e.getStyle());return null!==r&&r[t]||n}function pl(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function ml(e,t,n,r=null){let o=null===r||t.isSelected(r);const i=Kr(t)&&t.excludeFromCopy("html");let s=t;if(null!==r){let e=Ai(t);e=Ln(e)&&null!==r?il(r,e):e,s=e}const l=Kr(s)?s.getChildren():[],a=e._nodes.get(s.getType());let c;c=a&&void 0!==a.exportDOM?a.exportDOM(e,s):s.exportDOM(e);const{element:u,after:d}=c;if(!u)return!1;const f=document.createDocumentFragment();for(let n=0;n<l.length;n++){const i=l[n],s=ml(e,i,f,r);!o&&Kr(t)&&s&&t.extractWithChild(i,r,"html")&&(o=!0)}if(o&&!i){if((vi(u)||Ci(u))&&u.append(f),n.append(u),d){const e=d.call(s,u);e&&(Ci(u)?u.replaceChildren(e):u.replaceWith(e))}}else n.append(f);return o}const yl=new Set(["STYLE","SCRIPT"]);function _l(e,t,n,r,o=new Map,i){let s=[];if(yl.has(e.nodeName))return s;let l=null;const a=function(e,t){const{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase());let o=null;if(void 0!==r)for(const t of r){const n=t(e);null!==n&&(null===o||(o.priority||0)<=(n.priority||0))&&(o=n)}return null!==o?o.conversion:null}(e,t),c=a?a(e):null;let u=null;if(null!==c){u=c.after;const t=c.node;if(l=Array.isArray(t)?t[t.length-1]:t,null!==l){for(const[,e]of o)if(l=e(l,i),!l)break;l&&s.push(...Array.isArray(t)?t:[l])}null!=c.forChild&&o.set(e.nodeName,c.forChild)}const d=e.childNodes;let f=[];const g=(null==l||!fi(l))&&(null!=l&&er(l)||r);for(let e=0;e<d.length;e++)f.push(..._l(d[e],t,n,g,new Map(o),l));return null!=u&&(f=u(f)),Si(e)&&(f=function(e,t,n){const r=e.style.textAlign,o=[];let i=[];for(let e=0;e<t.length;e++){const s=t[e];if(er(s))r&&!s.getFormat()&&s.setFormat(r),o.push(s);else if(i.push(s),e===t.length-1||e<t.length-1&&er(t[e+1])){const e=n();e.setFormat(r),e.append(...i),o.push(e),i=[]}}return o}(e,f,g?()=>{const e=new Xr;return n.push(e),e}:to)),null==l?f.length>0?s=s.concat(f):Si(e)&&function(e){return null!=e.nextSibling&&null!=e.previousSibling&&wi(e.nextSibling)&&wi(e.previousSibling)}(e)&&(s=s.concat(gn())):Kr(l)&&l.append(...f),s}function bl(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function vl(e,t,n){const r=e.getData("application/x-lexical-editor");if(r)try{const e=JSON.parse(r);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return xl(n,function(e){const t=[];for(let n=0;n<e.length;n++){const r=Fr(e[n]);Ln(r)&&ll(r),t.push(r)}return t}(e.nodes),t)}catch(e){}const o=e.getData("text/html"),i=e.getData("text/plain");if(o&&i!==o)try{return xl(n,function(e,t){const n=t.body?t.body.childNodes:[];let r=[];const o=[];for(let t=0;t<n.length;t++){const i=n[t];if(!yl.has(i.nodeName)){const t=_l(i,e,o,!1);null!==t&&(r=r.concat(t))}}return function(e){for(const t of e)t.getNextSibling()instanceof Xr&&t.insertAfter(gn());for(const t of e){const e=t.getChildren();for(const n of e)t.insertBefore(n);t.remove()}}(o),r}(n,(new DOMParser).parseFromString(function(e){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:e=>e}).createHTML(e):e}(o),"text/html")),t)}catch(e){}const s=i||e.getData("text/uri-list");if(null!=s)if(Kn(t)){const e=s.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){const n=ir();if(Kn(n)){const r=e[t];"\n"===r||"\r\n"===r?n.insertParagraph():"\t"===r?n.insertNodes([Mn()]):n.insertText(r)}}}else t.insertRawText(s)}function xl(e,t,n){e.dispatchCommand(Ue,{nodes:t,selection:n})||n.insertNodes(t)}function Cl(e,t,n,r=[]){let o=null===t||n.isSelected(t);const i=Kr(n)&&n.excludeFromCopy("html");let s=n;if(null!==t){let e=Ai(n);e=Ln(e)&&null!==t?il(t,e):e,s=e}const l=Kr(s)?s.getChildren():[],a=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&bl(58,n.name),Kr(e)){const e=t.children;Array.isArray(e)||bl(59,n.name)}return t}(s);if(Ln(s)){const e=s.__text;e.length>0?a.text=e:o=!1}for(let r=0;r<l.length;r++){const i=l[r],s=Cl(e,t,i,a.children);!o&&Kr(n)&&s&&n.extractWithChild(i,t,"clone")&&(o=!0)}if(o&&!i)r.push(a);else if(Array.isArray(a.children))for(let e=0;e<a.children.length;e++){const t=a.children[e];r.push(t)}return o}let wl=null;async function Sl(e,t,n){if(null!==wl)return!1;if(null!==t)return new Promise(((r,o)=>{e.update((()=>{r(El(e,t,n))}))}));const r=e.getRootElement(),o=e._window||window,i=window.document,s=_i(o);if(null===r||null===s)return!1;const l=i.createElement("span");l.style.cssText="position: fixed; top: -1000px;",l.append(i.createTextNode("#")),r.append(l);const a=new Range;return a.setStart(l,0),a.setEnd(l,1),s.removeAllRanges(),s.addRange(a),new Promise(((t,r)=>{const o=e.registerCommand(Et,(r=>(Vs(r,ClipboardEvent)&&(o(),null!==wl&&(window.clearTimeout(wl),wl=null),t(El(e,r,n))),!0)),so);wl=window.setTimeout((()=>{o(),wl=null,t(!1)}),50),i.execCommand("copy"),l.remove()}))}function El(e,t,n){if(void 0===n){const t=_i(e._window);if(!t)return!1;const r=t.anchorNode,o=t.focusNode;if(null!==r&&null!==o&&!ho(e,r,o))return!1;const i=ir();if(null===i)return!1;n=Nl(i)}t.preventDefault();const r=t.clipboardData;return null!==r&&(function(e,t){for(const n in t){const r=t[n];void 0!==r&&e.setData(n,r)}}(r,n),!0)}const kl=[["text/html",function(e,t=ir()){return null==t&&bl(166),Kn(t)&&t.isCollapsed()||0===t.getNodes().length?"":function(e,t){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=Ro().getChildren();for(let o=0;o<r.length;o++)ml(e,r[o],n,t);return n.innerHTML}(e,t)}],["application/x-lexical-editor",function(e,t=ir()){return null==t&&bl(166),Kn(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(function(e,t){const n=[],r=Ro().getChildren();for(let o=0;o<r.length;o++)Cl(e,t,r[o],n);return{namespace:e._config.namespace,nodes:n}}(e,t))}]];function Nl(e=ir()){const t={"text/plain":e?e.getTextContent():""};if(e){const n=Ni();for(const[r,o]of kl){const i=o(n,e);null!==i&&(t[r]=i)}}return t}function Tl(e,t){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const Ol="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Fl=Ol&&"documentMode"in document?document.documentMode:null,Al=!(!Ol||!("InputEvent"in window)||Fl)&&"getTargetRanges"in new window.InputEvent("input"),Ll=Ol&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Pl=Ol&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Rl=Ol&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Ml=Ol&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Rl,Il={};class zl extends jr{static getType(){return"quote"}static clone(e){return new zl(e.__key)}createDOM(e){const t=document.createElement("blockquote");return $s(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:Hl,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(vi(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return Dl().updateFromJSON(e)}insertNewAfter(e,t){const n=to(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,t),n}collapseAtStart(){const e=to();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function Dl(){return hi(new zl)}function Bl(e){return e instanceof zl}class $l extends jr{static getType(){return"heading"}static clone(e){return new $l(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,n=document.createElement(t),r=e.theme.heading;return void 0!==r&&$s(n,r[t]),n}updateDOM(e,t,n){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:Kl,priority:0}),h2:e=>({conversion:Kl,priority:0}),h3:e=>({conversion:Kl,priority:0}),h4:e=>({conversion:Kl,priority:0}),h5:e=>({conversion:Kl,priority:0}),h6:e=>({conversion:Kl,priority:0}),p:e=>{const t=e.firstChild;return null!==t&&jl(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>jl(e)?{conversion:e=>({node:Wl("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(vi(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return Wl(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){const n=e?e.anchor.offset:0,r=this.getLastDescendant(),o=!r||e&&e.anchor.key===r.getKey()&&n===r.getTextContentSize()||!e?to():Wl(this.getTag()),i=this.getDirection();if(o.setDirection(i),this.insertAfter(o,t),0===n&&!this.isEmpty()&&e){const e=to();e.select(),this.replace(e,!0)}return o}collapseAtStart(){const e=this.isEmpty()?to():Wl(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}}function jl(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function Kl(e){const t=e.nodeName.toLowerCase();let n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=Wl(t),null!==e.style&&(Li(e,n),n.setFormat(e.style.textAlign))),{node:n}}function Hl(e){const t=Dl();return null!==e.style&&(t.setFormat(e.style.textAlign),Li(e,t)),{node:t}}function Wl(e="h1"){return hi(new $l(e))}function Ul(e){return e instanceof $l}function Jl(e){let t=null;if(Vs(e,DragEvent)?t=e.dataTransfer:Vs(e,ClipboardEvent)&&(t=e.clipboardData),null===t)return[!1,[],!1];const n=t.types,r=n.includes("Files"),o=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),o]}function Vl(e){const t=ir();if(!Kn(t))return!1;const n=new Set,r=t.getNodes();for(let t=0;t<r.length;t++){const o=r[t],i=o.getKey();if(n.has(i))continue;const s=Us(o,(e=>Kr(e)&&!e.isInline()));if(null===s)continue;const l=s.getKey();s.canIndent()&&!n.has(l)&&(n.add(l),e(s))}return n.size>0}function ql(e){return Ur(Ao(e))}function Zl(e){for(const t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}const Yl="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;function Gl(e){return e.getEditorState().read(Ps(e.isComposing()))}function Xl({contentEditable:t,placeholder:n=null,ErrorBoundary:o}){const[i]=r(),s=function(t,n){const[r,o]=(0,e.useState)((()=>t.getDecorators()));return Yl((()=>t.registerDecoratorListener((e=>{(0,el.flushSync)((()=>{o(e)}))}))),[t]),(0,e.useEffect)((()=>{o(t.getDecorators())}),[t]),(0,e.useMemo)((()=>{const o=[],i=Object.keys(r);for(let s=0;s<i.length;s++){const l=i[s],a=(0,ks.jsx)(n,{onError:e=>t._onError(e),children:(0,ks.jsx)(e.Suspense,{fallback:null,children:r[l]})}),c=t.getElementByKey(l);null!==c&&o.push((0,el.createPortal)(a,c,l))}return o}),[n,r,t])}(i,o);return Yl((()=>{return Bs(Bs((e=l).registerCommand(Je,(e=>{const t=ir();return!!Wn(t)&&(t.clear(),!0)}),0),e.registerCommand(Ve,(e=>{const t=ir();return Kn(t)?(t.deleteCharacter(e),!0):!!Wn(t)&&(t.deleteNodes(),!0)}),ro),e.registerCommand(Qe,(e=>{const t=ir();return!!Kn(t)&&(t.deleteWord(e),!0)}),ro),e.registerCommand(et,(e=>{const t=ir();return!!Kn(t)&&(t.deleteLine(e),!0)}),ro),e.registerCommand(Ye,(t=>{const n=ir();if("string"==typeof t)null!==n&&n.insertText(t);else{if(null===n)return!1;const r=t.dataTransfer;if(null!=r)vl(r,n,e);else if(Kn(n)){const e=t.data;return e&&n.insertText(e),!0}}return!0}),ro),e.registerCommand(Xe,(()=>{const e=ir();return!!Kn(e)&&(e.removeText(),!0)}),ro),e.registerCommand(tt,(e=>{const t=ir();return!!Kn(t)&&(t.formatText(e),!0)}),ro),e.registerCommand(xt,(e=>{const t=ir();if(!Kn(t)&&!Wn(t))return!1;const n=t.getNodes();for(const t of n){const n=Us(t,(e=>Kr(e)&&!e.isInline()));null!==n&&n.setFormat(e)}return!0}),ro),e.registerCommand(qe,(e=>{const t=ir();return!!Kn(t)&&(t.insertLineBreak(e),!0)}),ro),e.registerCommand(Ze,(()=>{const e=ir();return!!Kn(e)&&(e.insertParagraph(),!0)}),ro),e.registerCommand(yt,(()=>(function(e){let t=ir()||sr();null===t&&(t=Ro().selectEnd()),t.insertNodes(e)}([Mn()]),!0)),ro),e.registerCommand(_t,(()=>Vl((e=>{const t=e.getIndent();e.setIndent(t+1)}))),ro),e.registerCommand(bt,(()=>Vl((e=>{const t=e.getIndent();t>0&&e.setIndent(t-1)}))),ro),e.registerCommand(ct,(e=>{const t=ir();if(Wn(t)&&!ql(e.target)){const e=t.getNodes();if(e.length>0)return e[0].selectPrevious(),!0}else if(Kn(t)){const n=ti(t.focus,!0);if(!e.shiftKey&&Ur(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1}),ro),e.registerCommand(ut,(e=>{const t=ir();if(Wn(t)){const e=t.getNodes();if(e.length>0)return e[0].selectNext(0,0),!0}else if(Kn(t)){if(function(e){const t=e.focus;return"root"===t.key&&t.offset===Ro().getChildrenSize()}(t))return e.preventDefault(),!0;const n=ti(t.focus,!1);if(!e.shiftKey&&Ur(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1}),ro),e.registerCommand(lt,(e=>{const t=ir();if(Wn(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}if(!Kn(t))return!1;if(fl(t,!0)){const n=e.shiftKey;return e.preventDefault(),gl(t,n,!0),!0}return!1}),ro),e.registerCommand(it,(e=>{const t=ir();if(Wn(t)&&!ql(e.target)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}if(!Kn(t))return!1;const n=e.shiftKey;return!!fl(t,!1)&&(e.preventDefault(),gl(t,n,!1),!0)}),ro),e.registerCommand(gt,(t=>{if(ql(t.target))return!1;const n=ir();if(Kn(n)){const{anchor:r}=n,o=r.getNode();if(n.isCollapsed()&&0===r.offset&&!Vr(o)&&Ws(o).getIndent()>0)return t.preventDefault(),e.dispatchCommand(bt,void 0);if(Pl&&"ko-KR"===navigator.language)return!1}else if(!Wn(n))return!1;return t.preventDefault(),e.dispatchCommand(Ve,!0)}),ro),e.registerCommand(pt,(t=>{if(ql(t.target))return!1;const n=ir();return!(!Kn(n)&&!Wn(n))&&(t.preventDefault(),e.dispatchCommand(Ve,!1))}),ro),e.registerCommand(dt,(t=>{const n=ir();if(!Kn(n))return!1;if(Zl(n),null!==t){if((Pl||Ll||Ml)&&Al)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(qe,!1)}return e.dispatchCommand(Ze,void 0)}),ro),e.registerCommand(ht,(()=>!!Kn(ir())&&(e.blur(),!0)),ro),e.registerCommand(vt,(t=>{const[,n]=Jl(t);if(n.length>0){const r=Tl(t.clientX,t.clientY);if(null!==r){const{offset:t,node:o}=r,i=Ao(o);if(null!==i){const e=nr();if(Ln(i))e.anchor.set(i.getKey(),t,"text"),e.focus.set(i.getKey(),t,"text");else{const t=i.getParentOrThrow().getKey(),n=i.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}Io(ae(e))}e.dispatchCommand(Il,n)}return t.preventDefault(),!0}return!!Kn(ir())}),ro),e.registerCommand(Ct,(e=>{const[t]=Jl(e),n=ir();return!(t&&!Kn(n))}),ro),e.registerCommand(wt,(e=>{const[t]=Jl(e),n=ir();if(t&&!Kn(n))return!1;const r=Tl(e.clientX,e.clientY);return null!==r&&Ur(Ao(r.node))&&e.preventDefault(),!0}),ro),e.registerCommand(Nt,(()=>(function(e){const t=Ro();if(Kn(e)){const t=e.anchor,n=e.focus,r=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(r.getKey(),0,"element"),n.set(r.getKey(),r.getChildrenSize(),"element"),ae(e),e}Io(ae(t.select(0,t.getChildrenSize())))}(),!0)),ro),e.registerCommand(Et,(t=>(Sl(e,Vs(t,ClipboardEvent)?t:null),!0)),ro),e.registerCommand(kt,(t=>(async function(e,t){await Sl(t,Vs(e,ClipboardEvent)?e:null),t.update((()=>{const e=ir();Kn(e)?e.removeText():Wn(e)&&e.getNodes().forEach((e=>e.remove()))}))}(t,e),!0)),ro),e.registerCommand(Ge,(t=>{const[,n,r]=Jl(t);return n.length>0&&!r?(e.dispatchCommand(Il,n),!0):!(xi(t.target)&&go(t.target)||null===ir()||(function(e,t){e.preventDefault(),t.update((()=>{const n=ir(),r=Vs(e,InputEvent)||Vs(e,KeyboardEvent)?null:e.clipboardData;null!=r&&null!==n&&vl(r,n,t)}),{tag:"paste"})}(t,e),0))}),ro),e.registerCommand(ft,(e=>{const t=ir();return Kn(t)&&Zl(t),!1}),ro),e.registerCommand(mt,(e=>{const t=ir();return Kn(t)&&Zl(t),!1}),ro)),function(e){const t=window.location.origin,n=n=>{if(n.origin!==t)return;const r=e.getRootElement();if(document.activeElement!==r)return;const o=n.data;if("string"==typeof o){let t;try{t=JSON.parse(o)}catch(e){return}if(t&&"nuanria_messaging"===t.protocol&&"request"===t.type){const r=t.payload;if(r&&"makeChanges"===r.functionId){const t=r.args;if(t){const[r,o,i,s,l,a]=t;e.update((()=>{const e=ir();if(Kn(e)){const t=e.anchor;let a=t.getNode(),c=0,u=0;if(Ln(a)&&r>=0&&o>=0&&(c=r,u=r+o,e.setTextNodeRange(a,c,a,u)),c===u&&""===i||(e.insertRawText(i),a=t.getNode()),Ln(a)){c=s,u=s+l;const t=a.getTextContentSize();c=c>t?t:c,u=u>t?t:u,e.setTextNodeRange(a,c,a,u)}n.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}(l));var e}),[l=i]),(0,ks.jsxs)(ks.Fragment,{children:[t,(0,ks.jsx)(Ql,{content:n}),s]});var l}function Ql({content:t}){const[n]=r(),o=function(t){const[n,r]=(0,e.useState)((()=>Gl(t)));return Yl((()=>{function e(){const e=Gl(t);r(e)}return e(),Bs(t.registerUpdateListener((()=>{e()})),t.registerEditableListener((()=>{e()})))}),[t]),n}(n),i=function(t){const[n]=r(),o=(0,e.useMemo)((()=>t(n)),[n,t]),[i,s]=(0,e.useState)((()=>o.initialValueFn())),l=(0,e.useRef)(i);return As((()=>{const{initialValueFn:e,subscribe:t}=o,n=e();return l.current!==n&&(l.current=n,s(n)),t((e=>{l.current=e,s(e)}))}),[o,t]),i}(Ls);return o?"function"==typeof t?t(i):t:null}const ea="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect,ta=(0,e.forwardRef)((function({editor:t,ariaActiveDescendant:n,ariaAutoComplete:r,ariaControls:o,ariaDescribedBy:i,ariaErrorMessage:s,ariaExpanded:l,ariaInvalid:a,ariaLabel:c,ariaLabelledBy:u,ariaMultiline:d,ariaOwns:f,ariaRequired:g,autoCapitalize:h,className:p,id:m,role:y="textbox",spellCheck:_=!0,style:b,tabIndex:v,"data-testid":x,...C},w){const[S,E]=(0,e.useState)(t.isEditable()),k=(0,e.useCallback)((e=>{e&&e.ownerDocument&&e.ownerDocument.defaultView?t.setRootElement(e):t.setRootElement(null)}),[t]),N=(0,e.useMemo)((()=>function(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}(w,k)),[k,w]);return ea((()=>(E(t.isEditable()),t.registerEditableListener((e=>{E(e)})))),[t]),(0,ks.jsx)("div",{"aria-activedescendant":S?n:void 0,"aria-autocomplete":S?r:"none","aria-controls":S?o:void 0,"aria-describedby":i,...null!=s?{"aria-errormessage":s}:{},"aria-expanded":S&&"combobox"===y?!!l:void 0,...null!=a?{"aria-invalid":a}:{},"aria-label":c,"aria-labelledby":u,"aria-multiline":d,"aria-owns":S?f:void 0,"aria-readonly":!S||void 0,"aria-required":g,autoCapitalize:h,className:p,contentEditable:S,"data-testid":x,id:m,ref:N,role:S?y:void 0,spellCheck:_,style:b,tabIndex:v,...C})}));function na(e){return e.getEditorState().read(Ps(e.isComposing()))}const ra=(0,e.forwardRef)((function(e,t){const{placeholder:n,...o}=e,[i]=r();return(0,ks.jsxs)(ks.Fragment,{children:[(0,ks.jsx)(ta,{editor:i,...o,ref:t}),null!=n&&(0,ks.jsx)(oa,{editor:i,content:n})]})}));function oa({content:t,editor:n}){const r=function(t){const[n,r]=(0,e.useState)((()=>na(t)));return ea((()=>{function e(){const e=na(t);r(e)}return e(),Bs(t.registerUpdateListener((()=>{e()})),t.registerEditableListener((()=>{e()})))}),[t]),n}(n),[o,i]=(0,e.useState)(n.isEditable());if((0,e.useLayoutEffect)((()=>(i(n.isEditable()),n.registerEditableListener((e=>{i(e)})))),[n]),!r)return null;let s=null;return"function"==typeof t?s=t(o):null!==t&&(s=t),null===s?null:(0,ks.jsx)("div",{"aria-hidden":!0,children:s})}const ia=0,sa=1,la=2,aa=0,ca=1,ua=2,da=3,fa=4;function ga(e){e.undoStack=[],e.redoStack=[],e.current=null}function ha({delay:t,externalHistoryState:n}){const[o]=r();return function(t,n,r=1e3){const o=(0,e.useMemo)((()=>n||{current:null,redoStack:[],undoStack:[]}),[n]);(0,e.useEffect)((()=>function(e,t,n){const r=function(e,t){let n=Date.now(),r=aa;return(o,i,s,l,a,c)=>{const u=Date.now();if(c.has("historic"))return r=aa,n=u,la;const d=function(e,t,n,r,o){if(null===e||0===n.size&&0===r.size&&!o)return aa;const i=t._selection,s=e._selection;if(o)return ca;if(!(Kn(i)&&Kn(s)&&s.isCollapsed()&&i.isCollapsed()))return aa;const l=function(e,t,n){const r=e._nodeMap,o=[];for(const e of t){const t=r.get(e);void 0!==t&&o.push(t)}for(const[e,t]of n){if(!t)continue;const n=r.get(e);void 0===n||Vr(n)||o.push(n)}return o}(t,n,r);if(0===l.length)return aa;if(l.length>1){const n=t._nodeMap,r=n.get(i.anchor.key),o=n.get(s.anchor.key);return r&&o&&!e._nodeMap.has(r.__key)&&Ln(r)&&1===r.__text.length&&1===i.anchor.offset?ua:aa}const a=l[0],c=e._nodeMap.get(a.__key);if(!Ln(c)||!Ln(a)||c.__mode!==a.__mode)return aa;const u=c.__text,d=a.__text;if(u===d)return aa;const f=i.anchor,g=s.anchor;if(f.key!==g.key||"text"!==f.type)return aa;const h=f.offset,p=g.offset,m=d.length-u.length;return 1===m&&p===h-1?ua:-1===m&&p===h+1?da:-1===m&&p===h?fa:aa}(o,i,l,a,e.isComposing()),f=(()=>{const f=null===s||s.editor===e,g=c.has("history-push");if(!g&&f&&c.has("history-merge"))return ia;if(null===o)return sa;const h=i._selection;return l.size>0||a.size>0?!1===g&&d!==aa&&d===r&&u<n+t&&f||1===l.size&&function(e,t,n){const r=t._nodeMap.get(e),o=n._nodeMap.get(e),i=t._selection,s=n._selection;return!(Kn(i)&&Kn(s)&&"element"===i.anchor.type&&"element"===i.focus.type&&"text"===s.anchor.type&&"text"===s.focus.type||!Ln(r)||!Ln(o)||r.__parent!==o.__parent)&&JSON.stringify(t.read((()=>r.exportJSON())))===JSON.stringify(n.read((()=>o.exportJSON())))}(Array.from(l)[0],o,i)?ia:sa:null!==h?ia:la})();return n=u,r=d,f}}(e,n),o=Bs(e.registerCommand(nt,(()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==r.length){const o=t.current,i=r.pop();null!==o&&(n.push(o),e.dispatchCommand(Ft,!0)),0===r.length&&e.dispatchCommand(At,!1),t.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:"historic"})}}(e,t),!0)),ro),e.registerCommand(rt,(()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==n.length){const o=t.current;null!==o&&(r.push(o),e.dispatchCommand(At,!0));const i=n.pop();0===n.length&&e.dispatchCommand(Ft,!1),t.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:"historic"})}}(e,t),!0)),ro),e.registerCommand(Tt,(()=>(ga(t),!1)),ro),e.registerCommand(Ot,(()=>(ga(t),e.dispatchCommand(Ft,!1),e.dispatchCommand(At,!1),!0)),ro),e.registerUpdateListener((({editorState:n,prevEditorState:o,dirtyLeaves:i,dirtyElements:s,tags:l})=>{const a=t.current,c=t.redoStack,u=t.undoStack,d=null===a?null:a.editorState;if(null!==a&&n===d)return;const f=r(o,n,a,i,s,l);if(f===sa)0!==c.length&&(t.redoStack=[],e.dispatchCommand(Ft,!1)),null!==a&&(u.push({...a}),e.dispatchCommand(At,!0));else if(f===la)return;t.current={editor:e,editorState:n}})));return o}(t,o,r)),[r,t,o])}(o,n,t),null}function pa({defaultSelection:t}){const[n]=r();return(0,e.useEffect)((()=>{n.focus((()=>{const e=document.activeElement,t=n.getRootElement();null===t||null!==e&&t.contains(e)||t.focus({preventScroll:!0})}),{defaultSelection:t})}),[t,n]),null}function ma(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function ya(e){let t=e.getParent();Ha(t)||ma(40);let n=t;for(;null!==n;)n=n.getParent(),Ha(n)&&(t=n);return t}function _a(e){let t=[];const n=e.getChildren().filter(Ia);for(let e=0;e<n.length;e++){const r=n[e],o=r.getFirstChild();Ha(o)?t=t.concat(_a(o)):t.push(r)}return t}function ba(e){return Ia(e)&&Ha(e.getFirstChild())}function va(e){return Ma().append(e)}function xa(e,t){return Ia(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function Ca(e){const t=ir();if(null!==t){let n=t.getNodes();if(Kn(t)){const r=t.getStartEndPoints();null===r&&ma(143);const[o]=r,i=o.getNode(),s=i.getParent();if(fi(i)){const e=i.getFirstChild();if(e)n=e.selectStart().getNodes();else{const e=to();i.append(e),n=e.select().getNodes()}}else if(xa(i,n)){const t=Ka(e);if(fi(s)){i.replace(t);const e=Ma();Kr(i)&&(e.setFormat(i.getFormatType()),e.setIndent(i.getIndent())),t.append(e)}else if(Ia(i)){const e=i.getParentOrThrow();wa(t,e.getChildren()),e.replace(t)}return}}const r=new Set;for(let t=0;t<n.length;t++){const o=n[t];if(!Kr(o)||!o.isEmpty()||Ia(o)||r.has(o.getKey())){if(Co(o)){let t=o.getParent();for(;null!=t;){const n=t.getKey();if(Ha(t)){if(!r.has(n)){const o=Ka(e);wa(o,t.getChildren()),t.replace(o),r.add(n)}break}{const o=t.getParent();if(fi(o)&&!r.has(n)){r.add(n),Sa(t,e);break}t=o}}}}else Sa(o,e)}}}function wa(e,t){e.splice(e.getChildrenSize(),0,t)}function Sa(e,t){if(Ha(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),o=Ma();let i;if(wa(o,e.getChildren()),Ha(n)&&t===n.getListType())n.append(o),Ha(r)&&t===r.getListType()&&(wa(n,r.getChildren()),r.remove()),i=n;else if(Ha(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(o),i=r;else{const n=Ka(t);n.append(o),e.replace(n),i=n}return o.setFormat(e.getFormatType()),o.setIndent(e.getIndent()),e.remove(),i}function Ea(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&ba(n)&&ba(r)&&(Ea(n.getFirstChild(),r.getFirstChild()),r.remove());const o=t.getChildren();o.length>0&&e.append(...o),t.remove()}function ka(e){const t=new Set;if(ba(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),o=e.getPreviousSibling();if(ba(r)&&ba(o)){const n=o.getFirstChild();if(Ha(n)){n.append(e);const o=r.getFirstChild();Ha(o)&&(wa(n,o.getChildren()),r.remove(),t.add(r.getKey()))}}else if(ba(r)){const t=r.getFirstChild();if(Ha(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e)}}else if(ba(o)){const t=o.getFirstChild();Ha(t)&&t.append(e)}else if(Ha(n)){const t=Ma().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),i=Ka(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());t.append(i),i.append(e),o?o.insertAfter(t):r?r.insertBefore(t):n.append(t)}}function Na(e){if(ba(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(Ha(n?n.getParent():void 0)&&Ia(n)&&Ha(t)){const r=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(o))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),o=Ma(),i=Ka(r);o.append(i),e.getPreviousSiblings().forEach((e=>i.append(e)));const s=Ma(),l=Ka(r);s.append(l),wa(l,e.getNextSiblings()),n.insertBefore(o),n.insertAfter(s),n.replace(e)}}}function Ta(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}function Oa(e,t,n){const r=ol(t.__textStyle);for(const t in r)e.style.setProperty(`--listitem-marker-${t}`,r[t]);if(n)for(const t in ol(n.__textStyle))t in r||e.style.removeProperty(`--listitem-marker-${t}`)}class Fa extends jr{static getType(){return"listitem"}static clone(e){return new Fa(e.__value,e.__checked,e.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){const t=document.createElement("li"),n=this.getParent();Ha(n)&&"check"===n.getListType()&&La(t,this,null),t.value=this.__value,Aa(t,e.theme,this);const r=this.__style;return r&&(t.style.cssText=r),Oa(t,this,null),t}updateDOM(e,t,n){const r=this.getParent();Ha(r)&&"check"===r.getListType()&&La(t,this,e),t.value=this.__value,Aa(t,n.theme,this);const o=e.__style,i=this.__style;return o!==i&&(""===i?t.removeAttribute("style"):t.style.cssText=i),Oa(t,this,e),!1}static transform(){return e=>{if(Ia(e)||ma(144),null==e.__checked)return;const t=e.getParent();Ha(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:Pa,priority:0})}}static importJSON(e){return Ma().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config);t.style.textAlign=this.getFormatType();const n=this.getDirection();return n&&(t.dir=n),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){const n=e[t];if(Kr(n)&&this.canMergeWith(n)){const e=n.getChildren();this.append(...e),n.remove()}else super.append(n)}return this}replace(e,t){if(Ia(e))return super.replace(e);this.setIndent(0);const n=this.getParentOrThrow();if(!Ha(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{const t=Ka(n.getListType());let r=this.getNextSibling();for(;r;){const e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&(Kr(e)||ma(139),this.getChildren().forEach((t=>{e.append(t)}))),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e,t=!0){const n=this.getParentOrThrow();if(Ha(n)||ma(39),Ia(e))return super.insertAfter(e,t);const r=this.getNextSiblings();if(n.insertAfter(e,t),0!==r.length){const o=Ka(n.getListType());r.forEach((e=>o.append(e))),e.insertAfter(o,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&ba(t)&&ba(n)&&(Ea(t.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(e,t=!0){const n=Ma().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=to();this.getChildren().forEach((e=>t.append(e)));const n=this.getParentOrThrow(),r=n.getParentOrThrow(),o=Ia(r);if(1===n.getChildrenSize())if(o)n.remove(),r.select();else{n.insertBefore(t),n.remove();const r=e.anchor,o=e.focus,i=t.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(i,r.offset,"element"),"element"===o.type&&o.getNode().is(this)&&o.set(i,o.offset,"element")}else n.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const n=this.getParent();return Ha(n)&&(t=n.getListType()),"check"===t?Boolean(e.__checked):void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(null===e||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;Ia(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){"number"!=typeof e&&ma(117),(e=Math.floor(e))>=0||ma(199);let t=this.getIndent();for(;t!==e;)t<e?(ka(this),t++):(Na(this),t--);return this}canInsertAfter(e){return Ia(e)}canReplaceWith(e){return Ia(e)}canMergeWith(e){return Ia(e)||no(e)}extractWithChild(e,t){if(!Kn(t))return!1;const n=t.anchor.getNode(),r=t.focus.getNode();return this.isParentOf(n)&&this.isParentOf(r)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Ka("bullet")}canMergeWhenEmpty(){return!0}}function Aa(e,t,n){const r=[],o=[],i=t.list,s=i?i.listitem:void 0;let l;if(i&&i.nested&&(l=i.nested.listitem),void 0!==s&&r.push(...Ta(s)),i){const e=n.getParent(),t=Ha(e)&&"check"===e.getListType(),s=n.getChecked();t&&!s||o.push(i.listitemUnchecked),t&&s||o.push(i.listitemChecked),t&&r.push(s?i.listitemChecked:i.listitemUnchecked)}if(void 0!==l){const e=Ta(l);n.getChildren().some((e=>Ha(e)))?r.push(...e):o.push(...e)}o.length>0&&js(e,...o),r.length>0&&$s(e,...r)}function La(e,t,n,r){Ha(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function Pa(e){if(e.classList.contains("task-list-item"))for(const t of e.children)if("INPUT"===t.tagName)return Ra(t);const t=e.getAttribute("aria-checked");return{node:Ma("true"===t||"false"!==t&&void 0)}}function Ra(e){return"checkbox"!==e.getAttribute("type")?{node:null}:{node:Ma(e.hasAttribute("checked"))}}function Ma(e){return hi(new Fa(void 0,e))}function Ia(e){return e instanceof Fa}class za extends jr{static getType(){return"list"}static clone(e){const t=e.__listType||ja[e.__tag];return new za(t,e.__start,e.__key)}constructor(e="number",t=1,n){super(n);const r=ja[e]||e;this.__listType=r,this.__tag="number"===r?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag="number"===e?"ol":"ul",t}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,Da(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||(Da(t,n.theme,this),!1)}static transform(){return e=>{Ha(e)||ma(163),function(e){const t=e.getNextSibling();Ha(t)&&e.getListType()===t.getListType()&&Ea(e,t)}(e),function(e){const t="check"!==e.getListType();let n=e.getStart();for(const r of e.getChildren())Ia(r)&&(r.getValue()!==n&&r.setValue(n),t&&null!=r.getLatest().__checked&&r.setChecked(void 0),Ha(r.getFirstChild())||n++)}(e)}}static importDOM(){return{ol:()=>({conversion:$a,priority:0}),ul:()=>({conversion:$a,priority:0})}}static importJSON(e){return Ka().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return vi(t)&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,n){let r=n;for(let e=0;e<n.length;e++){const t=n[e];Ia(t)||(r===n&&(r=[...n]),r[e]=Ma().append(!Kr(t)||Ha(t)||t.isInline()?t:An(t.getTextContent())))}return super.splice(e,t,r)}extractWithChild(e){return Ia(e)}}function Da(e,t,n){const r=[],o=[],i=t.list;if(void 0!==i){const e=i[`${n.__tag}Depth`]||[],t=function(e){let t=1,n=e.getParent();for(;null!=n;){if(Ia(n)){const e=n.getParent();if(Ha(e)){t++,n=e.getParent();continue}ma(40)}return t}return t}(n)-1,s=t%e.length,l=e[s],a=i[n.__tag];let c;const u=i.nested,d=i.checklist;if(void 0!==u&&u.list&&(c=u.list),void 0!==a&&r.push(a),void 0!==d&&"check"===n.__listType&&r.push(d),void 0!==l){r.push(...Ta(l));for(let t=0;t<e.length;t++)t!==s&&o.push(n.__tag+t)}if(void 0!==c){const e=Ta(c);t>1?r.push(...e):o.push(...e)}}o.length>0&&js(e,...o),r.length>0&&$s(e,...r)}function Ba(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(Ia(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach((e=>{Ha(e)&&t.push(va(e))}))}else t.push(va(r))}return t}function $a(e){const t=e.nodeName.toLowerCase();let n=null;return"ol"===t?n=Ka("number",e.start):"ul"===t&&(n=function(e){if("check"===e.getAttribute("__lexicallisttype")||e.classList.contains("contains-task-list"))return!0;for(const t of e.childNodes)if(vi(t)&&t.hasAttribute("aria-checked"))return!0;return!1}(e)?Ka("check"):Ka("bullet")),{after:Ba,node:n}}const ja={ol:"number",ul:"bullet"};function Ka(e="number",t=1){return hi(new za(e,t))}function Ha(e){return e instanceof za}const Wa={},Ua={},Ja={},Va={};function qa(e){return Bs(e.registerCommand(Ua,(()=>(Ca("number"),!0)),oo),e.registerCommand(Wa,(()=>(Ca("bullet"),!0)),oo),e.registerCommand(Va,(()=>(function(){const e=ir();if(Kn(e)){const t=new Set,n=e.getNodes(),r=e.anchor.getNode();if(xa(r,n))t.add(ya(r));else for(let e=0;e<n.length;e++){const r=n[e];if(Co(r)){const e=Hs(r,Fa);null!=e&&t.add(ya(e))}}for(const n of t){let t=n;const r=_a(n);for(const n of r){const r=to().setTextStyle(e.style).setTextFormat(e.format);wa(r,n.getChildren()),t.insertAfter(r),t=r,n.__key===e.anchor.key&&fs(e.anchor,bs(Xi(r,"next"))),n.__key===e.focus.key&&fs(e.focus,bs(Xi(r,"next"))),n.remove()}n.remove()}}}(),!0)),oo),e.registerCommand(Ze,(()=>function(){const e=ir();if(!Kn(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!Ia(t)||0!==t.getChildrenSize())return!1;const n=ya(t),r=t.getParent();Ha(r)||ma(40);const o=r.getParent();let i;if(fi(o))i=to(),n.insertAfter(i);else{if(!Ia(o))return!1;i=Ma(),o.insertAfter(i)}i.setTextStyle(e.style).setTextFormat(e.format).select();const s=t.getNextSiblings();if(s.length>0){const e=Ka(r.getListType());if(Ia(i)){const t=Ma();t.append(e),i.insertAfter(t)}else i.insertAfter(e);e.append(...s)}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!Ia(e)&&!Ha(e))break;t=e}t.remove()}(t),!0}()),oo),e.registerNodeTransform(Fa,(e=>{const t=e.getFirstChild();if(t){if(Ln(t)){const n=t.getStyle(),r=t.getFormat();e.getTextStyle()!==n&&e.setTextStyle(n),e.getTextFormat()!==r&&e.setTextFormat(r)}}else{const t=ir();Kn(t)&&(t.style!==e.getTextStyle()||t.format!==e.getTextFormat())&&t.isCollapsed()&&e.is(t.anchor.getNode())&&e.setTextStyle(t.style).setTextFormat(t.format)}})),e.registerNodeTransform(Cn,(e=>{const t=e.getParent();if(Ia(t)&&e.is(t.getFirstChild())){const n=e.getStyle(),r=e.getFormat();n===t.getTextStyle()&&r===t.getTextFormat()||t.setTextStyle(n).setTextFormat(r)}})))}function Za(){const[t]=r();return(0,e.useEffect)((()=>{if(!t.hasNodes([za,Fa]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[t]),n=t,(0,e.useEffect)((()=>qa(n)),[n]),null;var n}const Ya=new Set(["http:","https:","mailto:","sms:","tel:"]);class Ga extends jr{static getType(){return"link"}static clone(e){return new Ga(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",t={},n){super(n);const{target:r=null,rel:o=null,title:i=null}=t;this.__url=e,this.__target=r,this.__rel=o,this.__title=i}createDOM(e){const t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),null!==this.__target&&(t.target=this.__target),null!==this.__rel&&(t.rel=this.__rel),null!==this.__title&&(t.title=this.__title),$s(t,e.theme.link),t}updateDOM(e,t,n){if(bi(t)){const n=this.__url,r=this.__target,o=this.__rel,i=this.__title;n!==e.__url&&(t.href=n),r!==e.__target&&(r?t.target=r:t.removeAttribute("target")),o!==e.__rel&&(o?t.rel=o:t.removeAttribute("rel")),i!==e.__title&&(i?t.title=i:t.removeAttribute("title"))}return!1}static importDOM(){return{a:e=>({conversion:Xa,priority:1})}}static importJSON(e){return Qa().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){try{const t=new URL(e);if(!Ya.has(t.protocol))return"about:blank"}catch(t){return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e,t=!0){const n=Qa(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!Kn(t))return!1;const r=t.anchor.getNode(),o=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(o)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}}function Xa(e){let t=null;if(bi(e)){const n=e.textContent;(null!==n&&""!==n||e.children.length>0)&&(t=Qa(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function Qa(e="",t){return hi(new Ga(e,t))}function ec(e){return e instanceof Ga}class tc extends Ga{constructor(e="",t={},n){super(e,t,n),this.__isUnlinked=void 0!==t.isUnlinked&&null!==t.isUnlinked&&t.isUnlinked}static getType(){return"autolink"}static clone(e){return new tc(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,n){return super.updateDOM(e,t,n)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return nc().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,t=!0){const n=this.getParentOrThrow().insertNewAfter(e,t);if(Kr(n)){const e=nc(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(e),e}return null}}function nc(e="",t){return hi(new tc(e,t))}function rc(e){return e instanceof tc}const oc={};function ic(e,t){if("element"===e.type){const n=e.getNode();return Kr(n)||function(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),n.getChildren()[e.offset+t]||null}return null}function sc(e,t={}){const{target:n,title:r}=t,o=void 0===t.rel?"noreferrer":t.rel,i=ir();if(!Kn(i))return;const s=i.extract();if(null===e)return void s.forEach((e=>{const t=Us(e,(e=>!rc(e)&&ec(e)));if(t){const e=t.getChildren();for(let n=0;n<e.length;n++)t.insertBefore(e[n]);t.remove()}}));const l=new Set,a=t=>{l.has(t.getKey())||(l.add(t.getKey()),t.setURL(e),void 0!==n&&t.setTarget(n),void 0!==o&&t.setRel(o),void 0!==r&&t.setTitle(r))};if(1===s.length){const e=lc(s[0],ec);if(null!==e)return a(e)}!function(e){const t=ir();if(!Kn(t))return e();const n=ae(t),r=n.isBackward(),o=ic(n.anchor,r?-1:0),i=ic(n.focus,r?0:-1);if(e(),o||i){const e=ir();if(Kn(e)){const t=e.clone();if(o){const e=o.getParent();e&&t.anchor.set(e.getKey(),o.getIndexWithinParent()+(r?1:0),"element")}if(i){const e=i.getParent();e&&t.focus.set(e.getKey(),i.getIndexWithinParent()+(r?0:1),"element")}Io(ae(t))}}}((()=>{let t=null;for(const i of s){if(!i.isAttached())continue;const s=lc(i,ec);if(s){a(s);continue}if(Kr(i)){if(!i.isInline())continue;if(ec(i)){if(!(rc(i)||null!==t&&t.getParentOrThrow().isParentOf(i))){a(i),t=i;continue}for(const e of i.getChildren())i.insertBefore(e);i.remove();continue}}const l=i.getPreviousSibling();ec(l)&&l.is(t)?l.append(i):(t=Qa(e,{rel:o,target:n,title:r}),i.insertAfter(t),t.append(i))}}))}function lc(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function ac({validateUrl:t,attributes:n}){const[o]=r();return(0,e.useEffect)((()=>{if(!o.hasNodes([Ga]))throw new Error("LinkPlugin: LinkNode not registered on editor");return Bs(o.registerCommand(oc,(e=>{if(null===e)return sc(e),!0;if("string"==typeof e)return!(void 0!==t&&!t(e)||(sc(e,n),0));{const{url:t,target:r,rel:o,title:i}=e;return sc(t,{...n,rel:o,target:r,title:i}),!0}}),oo),void 0!==t?o.registerCommand(Ge,(e=>{const r=ir();if(!Kn(r)||r.isCollapsed()||!Vs(e,ClipboardEvent))return!1;if(null===e.clipboardData)return!1;const i=e.clipboardData.getData("text");return!!t(i)&&!r.getNodes().some((e=>Kr(e)))&&(o.dispatchCommand(oc,{...n,url:i}),e.preventDefault(),!0)}),oo):()=>{})}),[o,t,n]),null}function cc(){const[t]=r();return(0,e.useEffect)((()=>Bs(t.registerCommand(Ja,(()=>(t.update((()=>Ca("check"))),!0)),oo),t.registerCommand(ut,(e=>hc(e,t,!1)),oo),t.registerCommand(ct,(e=>hc(e,t,!0)),oo),t.registerCommand(ht,(e=>{if(null!=gc()){const e=t.getRootElement();return null!=e&&e.focus(),!0}return!1}),oo),t.registerCommand(ft,(e=>{const n=gc();return!(null==n||!t.isEditable()||(t.update((()=>{const t=Ao(n);Ia(t)&&(e.preventDefault(),t.toggleChecked())})),0))}),oo),t.registerCommand(lt,(e=>t.getEditorState().read((()=>{const n=ir();if(Kn(n)&&n.isCollapsed()){const{anchor:r}=n,o="element"===r.type;if(o||0===r.offset){const n=r.getNode(),i=Us(n,(e=>Kr(e)&&!e.isInline()));if(Ia(i)){const r=i.getParent();if(Ha(r)&&"check"===r.getListType()&&(o||i.getFirstDescendant()===n)){const n=t.getElementByKey(i.__key);if(null!=n&&document.activeElement!==n)return n.focus(),e.preventDefault(),!0}}}}return!1}))),oo),t.registerRootListener(((e,t)=>{null!==e&&(e.addEventListener("click",dc),e.addEventListener("pointerdown",fc)),null!==t&&(t.removeEventListener("click",dc),t.removeEventListener("pointerdown",fc))}))))),null}function uc(e,t){const n=e.target;if(!vi(n))return;const r=n.firstChild;if(vi(r)&&("UL"===r.tagName||"OL"===r.tagName))return;const o=n.parentNode;if(!o||"check"!==o.__lexicalListType)return;const i=n.getBoundingClientRect(),s=e.pageX/function(e){let t=1;if(function(){if(void 0===Zs){const e=document.createElement("div");e.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(e);const t=e.getBoundingClientRect();e.style.setProperty("zoom","2"),Zs=e.getBoundingClientRect().width===t.width,document.body.removeChild(e)}return Zs}())for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t}(n);("rtl"===n.dir?s<i.right&&s>i.right-20:s>i.left&&s<i.left+20)&&t()}function dc(e){uc(e,(()=>{if(vi(e.target)){const t=e.target,n=mo(t);null!=n&&n.isEditable()&&n.update((()=>{const e=Ao(t);Ia(e)&&(t.focus(),e.toggleChecked())}))}}))}function fc(e){uc(e,(()=>{e.preventDefault()}))}function gc(){const e=document.activeElement;return vi(e)&&"LI"===e.tagName&&null!=e.parentNode&&"check"===e.parentNode.__lexicalListType?e:null}function hc(e,t,n){const r=gc();return null!=r&&t.update((()=>{const o=Ao(r);if(!Ia(o))return;const i=function(e,t){let n=t?e.getPreviousSibling():e.getNextSibling(),r=e;for(;null==n&&Ia(r);)r=r.getParentOrThrow().getParent(),null!=r&&(n=t?r.getPreviousSibling():r.getNextSibling());for(;Ia(n);){const e=t?n.getLastChild():n.getFirstChild();if(!Ha(e))return n;n=t?e.getLastChild():e.getFirstChild()}return null}(o,n);if(null!=i){i.selectStart();const n=t.getElementByKey(i.__key);null!=n&&(e.preventDefault(),setTimeout((()=>{n.focus()}),0))}})),!1}function pc({maxIndent:t}){const[n]=r();return(0,e.useEffect)((()=>{return r=t,Bs((e=n).registerCommand(mt,(t=>{const n=ir();if(!Kn(n))return!1;t.preventDefault();const r=function(e){if(function(e,t){const n=[];for(let r=0;r<e.length;r++){const o=t(e[r]);null!==o&&n.push(o)}return n}(e.getNodes(),(e=>er(e)&&e.canIndent()?e:null)).length>0)return!0;const t=e.anchor,n=e.focus,r=n.isBefore(t)?n:t,o=Ws(r.getNode());if(o.canIndent()){const e=o.getKey();let t=nr();if(t.anchor.set(e,0,"element"),t.focus.set(e,0,"element"),t=ae(t),t.anchor.is(r))return!0}return!1}(n)?t.shiftKey?bt:_t:yt;return e.dispatchCommand(r,void 0)}),ro),e.registerCommand(_t,(()=>{if(null==r)return!1;const e=ir();if(!Kn(e))return!1;const t=e.getNodes().map((e=>Ws(e).getIndent()));return Math.max(...t)+1>=r}),so));var e,r}),[n,t]),null}const mc=/^(\d+(?:\.\d+)?)px$/,yc={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class _c extends jr{static getType(){return"tablecell"}static clone(e){return new _c(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:vc,priority:0}),th:e=>({conversion:vc,priority:0})}}static importJSON(e){return xc().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(e=yc.NO_STATUS,t=1,n,r){super(r),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=n,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(t.style.backgroundColor=this.__backgroundColor),bc(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),$s(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(vi(t.element)){const e=t.element;e.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),e.style.border="1px solid black",this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||75}px`,e.style.verticalAlign=this.getVerticalAlign()||"top",e.style.textAlign="start",null===this.__backgroundColor&&this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...bc(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,t=yc.BOTH){const n=this.getWritable();return n.__headerState=e&t|n.__headerState&~t,n}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==yc.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function bc(e){return"middle"===e||"bottom"===e}function vc(e){const t=e,n=e.nodeName.toLowerCase();let r;mc.test(t.style.width)&&(r=parseFloat(t.style.width));const o=xc("th"===n?yc.ROW:yc.NO_STATUS,t.colSpan,r);o.__rowSpan=t.rowSpan;const i=t.style.backgroundColor;""!==i&&(o.__backgroundColor=i);const s=t.style.verticalAlign;bc(s)&&(o.__verticalAlign=s);const l=t.style,a=(l&&l.textDecoration||"").split(" "),c="700"===l.fontWeight||"bold"===l.fontWeight,u=a.includes("line-through"),d="italic"===l.fontStyle,f=a.includes("underline");return{after:e=>{const t=[];let n=null;const r=()=>{if(n){const e=n.getFirstChild();hn(e)&&1===n.getChildrenSize()&&e.remove()}};for(const o of e)di(o)||Ln(o)||hn(o)?(Ln(o)&&(c&&o.toggleFormat("bold"),u&&o.toggleFormat("strikethrough"),d&&o.toggleFormat("italic"),f&&o.toggleFormat("underline")),n?n.append(o):(n=to().append(o),t.push(n))):(t.push(o),r(),n=null);return r(),0===t.length&&t.push(to()),t},node:o}}function xc(e=yc.NO_STATUS,t=1,n){return hi(new _c(e,t,n))}function Cc(e){return e instanceof _c}const wc={};function Sc(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class Ec extends jr{static getType(){return"tablerow"}static clone(e){return new Ec(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:kc,priority:0})}}static importJSON(e){return Nc().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...void 0===e?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),$s(t,e.theme.tableRow),t}extractWithChild(e,t,n){return"html"===n}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function kc(e){const t=e;let n;return mc.test(t.style.height)&&(n=parseFloat(t.style.height)),{after:e=>Xs(e,Cc),node:Nc(n)}}function Nc(e){return hi(new Ec(e))}function Tc(e){return e instanceof Ec}const Oc="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Fc=Oc&&"documentMode"in document?document.documentMode:null,Ac=Oc&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function Lc(e,t,n){const[r,o,i]=Pc(e,t,n);return null===o&&Sc(207),null===i&&Sc(208),[r,o,i]}function Pc(e,t,n){const r=[];let o=null,i=null;function s(e){let t=r[e];return void 0===t&&(r[e]=t=[]),t}const l=e.getChildren();for(let e=0;e<l.length;e++){const r=l[e];Tc(r)||Sc(209);const a=s(e);for(let c=r.getFirstChild(),u=0;null!=c;c=c.getNextSibling()){for(Cc(c)||Sc(147);void 0!==a[u];)u++;const r={cell:c,startColumn:u,startRow:e},{__rowSpan:d,__colSpan:f}=c;for(let t=0;t<d&&!(e+t>=l.length);t++){const n=s(e+t);for(let e=0;e<f;e++)n[u+e]=r}null!==t&&null===o&&t.is(c)&&(o=r),null!==n&&null===i&&n.is(c)&&(i=r)}}return[r,o,i]}function Rc(e){let t;if(e instanceof _c)t=e;else if("__type"in e){const n=Us(e,Cc);Cc(n)||Sc(148),t=n}else{const n=Us(e.getNode(),Cc);Cc(n)||Sc(148),t=n}const n=t.getParent();Tc(n)||Sc(149);const r=n.getParent();return Tu(r)||Sc(210),[t,n,r]}function Mc(e,t,n){let r,o=Math.min(t.startColumn,n.startColumn),i=Math.min(t.startRow,n.startRow),s=Math.max(t.startColumn+t.cell.__colSpan-1,n.startColumn+n.cell.__colSpan-1),l=Math.max(t.startRow+t.cell.__rowSpan-1,n.startRow+n.cell.__rowSpan-1);do{r=!1;for(let t=0;t<e.length;t++)for(let n=0;n<e[0].length;n++){const a=e[t][n];if(!a)continue;const c=a.startColumn+a.cell.__colSpan-1,u=a.startRow+a.cell.__rowSpan-1,d=a.startColumn<=s&&c>=o,f=a.startRow<=l&&u>=i;if(d&&f){const e=Math.min(o,a.startColumn),t=Math.max(s,c),n=Math.min(i,a.startRow),d=Math.max(l,u);e===o&&t===s&&n===i&&d===l||(o=e,s=t,i=n,l=d,r=!0)}}}while(r);return{maxColumn:s,maxRow:l,minColumn:o,minRow:i}}function Ic(e){const[t,,n]=Rc(e),r=n.getChildren(),o=r.length,i=r[0].getChildren().length,s=new Array(o);for(let e=0;e<o;e++)s[e]=new Array(i);for(let e=0;e<o;e++){const n=r[e].getChildren();let o=0;for(let r=0;r<n.length;r++){for(;s[e][o];)o++;const i=n[r],l=i.__rowSpan||1,a=i.__colSpan||1;for(let t=0;t<l;t++)for(let n=0;n<a;n++)s[e+t][o+n]=i;if(t===i)return{colSpan:a,columnIndex:o,rowIndex:e,rowSpan:l};o+=a}}return null}function zc(e){const[[t,n,r,o],[i,s,l,a]]=["anchor","focus"].map((t=>{const n=e[t].getNode(),r=Us(n,Cc);Cc(r)||Sc(238,t,n.getKey(),n.getType());const o=r.getParent();Tc(o)||Sc(239,t);const i=o.getParent();return Tu(i)||Sc(240,t),[n,r,o,i]}));return o.is(a)||Sc(241),{anchorCell:n,anchorNode:t,anchorRow:r,anchorTable:o,focusCell:s,focusNode:i,focusRow:l,focusTable:a}}Oc&&"InputEvent"in window&&!Fc&&new window.InputEvent("input");class Dc{constructor(e,t,n){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return"root"!==this.tableKey&&"root"!==this.anchor.key&&"element"===this.anchor.type&&"root"!==this.focus.key&&"element"===this.focus.type}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return Bc(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||n!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new Dc(this.tableKey,Dn(this.anchor.key,this.anchor.offset,this.anchor.type),Dn(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;return this.getNodes().filter(Cc).forEach((e=>{const n=e.getFirstChild();no(n)&&(t|=n.getTextFormat())})),!!(t&B[e])}insertNodes(e){const t=this.focus.getNode();Kr(t)||Sc(151),ae(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=zc(this),n=Ic(e);null===n&&Sc(153);const r=Ic(t);null===r&&Sc(155);const o=Math.min(n.columnIndex,r.columnIndex),i=Math.max(n.columnIndex+n.colSpan-1,r.columnIndex+r.colSpan-1),s=Math.min(n.rowIndex,r.rowIndex),l=Math.max(n.rowIndex+n.rowSpan-1,r.rowIndex+r.rowSpan-1);return{fromX:Math.min(o,i),fromY:Math.min(s,l),toX:Math.max(o,i),toY:Math.max(s,l)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(null!==e)return e;const{anchorTable:t,anchorCell:n,focusCell:r}=zc(this),o=r.getParents()[1];if(o!==t){if(t.isParentOf(r)){const e=o.getParent();null==e&&Sc(159),this.set(this.tableKey,r.getKey(),e.getKey())}else{const e=t.getParent();null==e&&Sc(158),this.set(this.tableKey,e.getKey(),r.getKey())}return this.getNodes()}const[i,s,l]=Lc(t,n,r),{minColumn:a,maxColumn:c,minRow:u,maxRow:d}=Mc(i,s,l),f=new Map([[t.getKey(),t]]);let g=null;for(let e=u;e<=d;e++)for(let t=a;t<=c;t++){const{cell:n}=i[e][t],r=n.getParent();Tc(r)||Sc(160),r!==g&&(f.set(r.getKey(),r),g=r),f.has(n.getKey())||jc(n,(e=>{f.set(e.getKey(),e)}))}const h=Array.from(f.values());return xr()||(this._cachedNodes=h),h}getTextContent(){const e=this.getNodes().filter((e=>Cc(e)));let t="";for(let n=0;n<e.length;n++){const r=e[n],o=r.__parent,i=(e[n+1]||{}).__parent;t+=r.getTextContent()+(i!==o?"\n":"\t")}return t}}function Bc(e){return e instanceof Dc}function $c(){const e=Dn("root",0,"element"),t=Dn("root",0,"element");return new Dc("root",e,t)}function jc(e,t){const n=[[e]];for(let e=n.at(-1);void 0!==e&&n.length>0;e=n.at(-1)){const r=e.pop();void 0===r?n.pop():!1!==t(r)&&Kr(r)&&n.push(r.getChildren())}}function Kc(e,t=Ni()){const n=To(e);Tu(n)||Sc(231,e);const r=Vc(n,t.getElementByKey(e));return null===r&&Sc(232,e),{tableElement:r,tableNode:n}}class Hc{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach((e=>e())),this.listenersToRemove.clear()}$lookup(){return Kc(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver((e=>{this.editor.getEditorState().read((()=>{let t=!1;for(let n=0;n<e.length;n++){const r=e[n].target.nodeName;if("TABLE"===r||"TBODY"===r||"THEAD"===r||"TR"===r){t=!0;break}}if(!t)return;const{tableNode:n,tableElement:r}=this.$lookup();this.table=nu(n,r)}),{editor:this.editor})}));this.editor.getEditorState().read((()=>{const{tableNode:t,tableElement:n}=this.$lookup();this.table=nu(t,n),e.observe(n,{attributes:!0,childList:!0,subtree:!0})}),{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:t,tableElement:n}=this.$lookup();ru(e,nu(t,n),null),null!==ir()&&(Io(null),e.dispatchCommand(We,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:t}=this.$lookup();js(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();$s(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(null!==e){e.tableKey!==this.tableNodeKey&&Sc(233,e.tableKey,this.tableNodeKey);const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),ru(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return null!==e&&(this.nextFocus=null),e}updateDOMSelection(){if(null!==this.anchorCell&&null!==this.focusCell){const e=_i(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e,t=!1){const n=this.editor,{tableNode:r}=this.$lookup(),o=e.x,i=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===o&&this.anchorY===i&&!t){if(o===this.focusX&&i===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=o,this.focusY=i,this.isHighlightingCells){const t=xu(r,e.elem);if(null!=this.tableSelection&&null!=this.anchorCellNodeKey&&null!==t)return this.focusCellNodeKey=t.getKey(),this.tableSelection=function(e,t,n){e.getKey(),t.getKey(),n.getKey();const r=ir(),o=Bc(r)?r.clone():$c();return o.set(e.getKey(),t.getKey(),n.getKey()),o}(r,this.$getAnchorTableCellOrThrow(),t),Io(this.tableSelection),n.dispatchCommand(We,void 0),ru(n,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?To(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return null===e&&Sc(234),e}$getFocusTableCell(){return this.focusCellNodeKey?To(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return null===e&&Sc(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;const{tableNode:t}=this.$lookup(),n=xu(t,e.elem);if(null!==n){const e=n.getKey();this.tableSelection=null!=this.tableSelection?this.tableSelection.clone():$c(),this.anchorCellNodeKey=e}}$formatCells(e){const t=ir();Bc(t)||Sc(236);const n=nr(),r=n.anchor,o=n.focus,i=t.getNodes().filter(Cc);i.length>0||Sc(237);const s=i[0].getFirstChild(),l=no(s)?s.getFormatFlags(e,null):null;i.forEach((t=>{r.set(t.getKey(),0,"element"),o.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e,l)})),Io(t),this.editor.dispatchCommand(We,void 0)}$clearText(){const{editor:e}=this,t=To(this.tableNodeKey);if(!Tu(t))throw new Error("Expected TableNode.");const n=ir();Bc(n)||Sc(253);const r=n.getNodes().filter(Cc);if(r.length===this.table.columns*this.table.rows){t.selectPrevious();const n=t.getParent();return t.remove(),void(Vr(n)&&n.isEmpty()&&e.dispatchCommand(Ze,void 0))}r.forEach((e=>{if(Kr(e)){const t=to(),n=An();t.append(n),e.append(t),e.getChildren().forEach((e=>{e!==t&&e.remove()}))}})),ru(e,this.table,null),Io(null),e.dispatchCommand(We,void 0)}}const Wc="__lexicalTableSelection",Uc=e=>!(1&~e.buttons);function Jc(e){return vi(e)&&"TABLE"===e.nodeName}function Vc(e,t){if(!t)return t;const n=Jc(t)?t:e.getDOMSlot(t).element;return"TABLE"!==n.nodeName&&Sc(245,t.nodeName),n}function qc(e){return e._window}function Zc(e,t){for(let n=t,r=null;null!==n;n=n.getParent()){if(e.is(n))return r;Cc(n)&&(r=n)}return null}const Yc=[[ut,"down"],[ct,"up"],[lt,"backward"],[it,"forward"]],Gc=[Qe,et,Ve],Xc=[gt,pt];function Qc(e){return e[Wc]||null}function eu(e){let t=e;for(;null!=t;){const e=t.nodeName;if("TD"===e||"TH"===e){const e=t._cell;return void 0===e?null:e}t=t.parentNode}return null}function tu(e,t){if(!e.contains(t))return null;let n=null;for(let r=t;null!=r;r=r.parentNode){if(r===e)return n;const t=r.nodeName;"TD"!==t&&"TH"!==t||(n=r._cell||null)}return null}function nu(e,t){const n=[],r={columns:0,domRows:n,rows:0};let o=Vc(e,t).querySelector("tr"),i=0,s=0;for(n.length=0;null!=o;){const e=o.nodeName;if("TD"===e||"TH"===e){const e={elem:o,hasBackgroundColor:""!==o.style.backgroundColor,highlighted:!1,x:i,y:s};o._cell=e;let t=n[s];void 0===t&&(t=n[s]=[]),t[i]=e}else{const e=o.firstChild;if(null!=e){o=e;continue}}const t=o.nextSibling;if(null!=t){i++,o=t;continue}const r=o.parentNode;if(null!=r){const e=r.nextSibling;if(null==e)break;s++,i=0,o=e}}return r.columns=i+1,r.rows=s+1,r}function ru(e,t,n){const r=new Set(n?n.getNodes():[]);ou(t,((t,n)=>{const o=t.elem;r.has(n)?(t.highlighted=!0,fu(e,t)):(t.highlighted=!1,gu(e,t),o.getAttribute("style")||o.removeAttribute("style"))}))}function ou(e,t){const{domRows:n}=e;for(let e=0;e<n.length;e++){const r=n[e];if(r)for(let n=0;n<r.length;n++){const o=r[n];if(!o)continue;const i=Ao(o.elem);null!==i&&t(o,i,{x:n,y:e})}}}function iu(e,t){t.$disableHighlightStyle(),ou(t.table,(t=>{t.highlighted=!0,fu(e,t)}))}const su=(e,t,n,r,o)=>{const i="forward"===o;switch(o){case"backward":case"forward":return n!==(i?e.table.columns-1:0)?du(t.getCellNodeFromCordsOrThrow(n+(i?1:-1),r,e.table),i):r!==(i?e.table.rows-1:0)?du(t.getCellNodeFromCordsOrThrow(i?0:e.table.columns-1,r+(i?1:-1),e.table),i):i?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==r?du(t.getCellNodeFromCordsOrThrow(n,r-1,e.table),!1):t.selectPrevious(),!0;case"down":return r!==e.table.rows-1?du(t.getCellNodeFromCordsOrThrow(n,r+1,e.table),!0):t.selectNext(),!0;default:return!1}};function lu(e,t){let n,r;if(t.startColumn===e.minColumn)n="minColumn";else{if(t.startColumn+t.cell.__colSpan-1!==e.maxColumn)return null;n="maxColumn"}if(t.startRow===e.minRow)r="minRow";else{if(t.startRow+t.cell.__rowSpan-1!==e.maxRow)return null;r="maxRow"}return[n,r]}function au([e,t]){return["minColumn"===e?"maxColumn":"minColumn","minRow"===t?"maxRow":"minRow"]}function cu(e,t,[n,r]){const o=t[r],i=e[o];void 0===i&&Sc(250,r,String(o));const s=t[n],l=i[s];return void 0===l&&Sc(250,n,String(s)),l}function uu(e,t){if(Kn(e)||Bc(e)){const n=t.isParentOf(e.anchor.getNode()),r=t.isParentOf(e.focus.getNode());return n&&r}return!1}function du(e,t){t?e.selectStart():e.selectEnd()}function fu(e,t){const n=t.elem,r=e._config.theme;Cc(Ao(n))||Sc(131),$s(n,r.tableCellSelected)}function gu(e,t){const n=t.elem;Cc(Ao(n))||Sc(131),js(n,e._config.theme.tableCellSelected)}function hu(e){const t=Us(e,Cc);return Cc(t)?t:null}function pu(e){const t=Us(e,Tu);return Tu(t)?t:null}function mu(e,t,n,r,o){if(("up"===n||"down"===n)&&function(e){const t=e.getRootElement();return!!t&&t.hasAttribute("aria-controls")&&"typeahead-menu"===t.getAttribute("aria-controls")}(e))return!1;const i=ir();if(!uu(i,r)){if(Kn(i)){if("backward"===n){if(i.focus.offset>0)return!1;const e=function(e){for(let t=e,n=e;null!==n;t=n,n=n.getParent())if(Kr(n)){if(n!==t&&n.getFirstChild()!==t)return null;if(!n.isInline())return n}return null}(i.focus.getNode());if(!e)return!1;const n=e.getPreviousSibling();return!!Tu(n)&&(yu(t),t.shiftKey?i.focus.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent(),"element"):n.selectEnd(),!0)}if(t.shiftKey&&("up"===n||"down"===n)){const e=i.focus.getNode();if(!i.isCollapsed()&&("up"===n&&!i.isBackward()||"down"===n&&i.isBackward())){let o=Us(e,(e=>Tu(e)));if(Cc(o)&&(o=Us(o,Tu)),o!==r)return!1;if(!o)return!1;const s="down"===n?o.getNextSibling():o.getPreviousSibling();if(!s)return!1;let l=0;"up"===n&&Kr(s)&&(l=s.getChildrenSize());let a=s;"up"===n&&Kr(s)&&(a=s.getLastChild()||s,l=Ln(a)?a.getTextContentSize():0);const c=i.clone();return c.focus.set(a.getKey(),l,Ln(a)?"text":"element"),Io(c),yu(t),!0}if(fi(e)){const e="up"===n?i.getNodes()[i.getNodes().length-1]:i.getNodes()[0];if(e&&null!==Zc(r,e)){const e=r.getFirstDescendant(),t=r.getLastDescendant();if(!e||!t)return!1;const[n]=Rc(e),[i]=Rc(t),s=r.getCordsFromCellNode(n,o.table),l=r.getCordsFromCellNode(i,o.table),a=r.getDOMCellFromCordsOrThrow(s.x,s.y,o.table),c=r.getDOMCellFromCordsOrThrow(l.x,l.y,o.table);return o.$setAnchorCellForSelection(a),o.$setFocusCellForSelection(c,!0),!0}return!1}{let r=Us(e,(e=>Kr(e)&&!e.isInline()));if(Cc(r)&&(r=Us(r,Tu)),!r)return!1;const s="down"===n?r.getNextSibling():r.getPreviousSibling();if(Tu(s)&&o.tableNodeKey===s.getKey()){const e=s.getFirstDescendant(),r=s.getLastDescendant();if(!e||!r)return!1;const[o]=Rc(e),[l]=Rc(r),a=i.clone();return a.focus.set(("up"===n?o:l).getKey(),"up"===n?0:l.getChildrenSize(),"element"),yu(t),Io(a),!0}}}}return"down"===n&&Su(e)&&o.setShouldCheckSelection(),!1}if(Kn(i)){if("backward"===n||"forward"===n)return function(e,t,n,r,o,i,s){const l=ds(n.focus,o?"previous":"next");if(vs(l))return!1;let a=l;for(const e of ns(l).iterNodeCarets("shadowRoot")){if(!Hi(e)||!Kr(e.origin))return!1;a=e}const c=a.getParentAtCaret();if(!Cc(c))return!1;const u=c,d=function(e){for(const t of ns(e).iterNodeCarets("root")){const{origin:n}=t;if(Cc(n)){if(Wi(t))return Xi(n,e.direction)}else if(!Tc(n))break}return null}(qi(u,a.direction)),f=Us(u,Tu);if(!f||!f.is(i))return!1;const g=e.getElementByKey(u.getKey()),h=eu(g);if(!g||!h)return!1;const p=function(e,t){const n=e.getElementByKey(t.getKey());return null===n&&Sc(230),nu(t,n)}(e,f);if(s.table=p,d)if("extend"===r){const t=eu(e.getElementByKey(d.origin.getKey()));if(!t)return!1;s.$setAnchorCellForSelection(h),s.$setFocusCellForSelection(t,!0)}else{const e=bs(d);fs(n.anchor,e),fs(n.focus,e)}else if("extend"===r)s.$setAnchorCellForSelection(h),s.$setFocusCellForSelection(h,!0);else{const e=function(e){const t=Qi(e);return Wi(t)?bs(t):e}(qi(f,l.direction));fs(n.anchor,e),fs(n.focus,e)}return yu(t),!0}(e,t,i,t.shiftKey?"extend":"move","backward"===n,r,o);if(i.isCollapsed()){const{anchor:s,focus:l}=i,a=Us(s.getNode(),Cc),c=Us(l.getNode(),Cc);if(!Cc(a)||!a.is(c))return!1;const u=pu(a);if(u!==r&&null!=u){const r=Vc(u,e.getElementByKey(u.getKey()));if(null!=r)return o.table=nu(u,r),mu(e,t,n,u,o)}const d=e.getElementByKey(a.__key),f=e.getElementByKey(s.key);if(null==f||null==d)return!1;let g;if("element"===s.type)g=f.getBoundingClientRect();else{const t=_i(qc(e));if(null===t||0===t.rangeCount)return!1;g=t.getRangeAt(0).getBoundingClientRect()}const h="up"===n?a.getFirstChild():a.getLastChild();if(null==h)return!1;const p=e.getElementByKey(h.__key);if(null==p)return!1;const m=p.getBoundingClientRect();if("up"===n?m.top>g.top-g.height:g.bottom+g.height>m.bottom){yu(t);const e=r.getCordsFromCellNode(a,o.table);if(!t.shiftKey)return su(o,r,e.x,e.y,n);{const t=r.getDOMCellFromCordsOrThrow(e.x,e.y,o.table);o.$setAnchorCellForSelection(t),o.$setFocusCellForSelection(t,!0)}return!0}}}else if(Bc(i)){const{anchor:s,focus:l}=i,a=Us(s.getNode(),Cc),c=Us(l.getNode(),Cc),[u]=i.getNodes();Tu(u)||Sc(251);const d=Vc(u,e.getElementByKey(u.getKey()));if(!Cc(a)||!Cc(c)||!Tu(u)||null==d)return!1;o.$updateTableTableSelection(i);const f=nu(u,d),g=r.getCordsFromCellNode(a,f),h=r.getDOMCellFromCordsOrThrow(g.x,g.y,f);if(o.$setAnchorCellForSelection(h),yu(t),t.shiftKey){const[e,t,i]=Lc(r,a,c);return function(e,t,n,r,o){const i=Mc(t,n,r),s=function(e,t){const{minColumn:n,maxColumn:r,minRow:o,maxRow:i}=t;let s=1,l=1,a=1,c=1;const u=e[o],d=e[i];for(let e=n;e<=r;e++)s=Math.max(s,u[e].cell.__rowSpan),c=Math.max(c,d[e].cell.__rowSpan);for(let t=o;t<=i;t++)l=Math.max(l,e[t][n].cell.__colSpan),a=Math.max(a,e[t][r].cell.__colSpan);return{bottomSpan:c,leftSpan:l,rightSpan:a,topSpan:s}}(t,i),{topSpan:l,leftSpan:a,bottomSpan:c,rightSpan:u}=s,d=function(e,t){const n=lu(e,t);return null===n&&Sc(249,t.cell.getKey()),n}(i,n),[f,g]=au(d);let h=i[f],p=i[g];"forward"===o?h+="maxColumn"===f?1:a:"backward"===o?h-="minColumn"===f?1:u:"down"===o?p+="maxRow"===g?1:l:"up"===o&&(p-="minRow"===g?1:c);const m=t[p];if(void 0===m)return!1;const y=m[h];if(void 0===y)return!1;const[_,b]=function(e,t,n){const r=Mc(e,t,n),o=lu(r,t);if(o)return[cu(e,r,o),cu(e,r,au(o))];const i=lu(r,n);if(i)return[cu(e,r,au(i)),cu(e,r,i)];const s=["minColumn","minRow"];return[cu(e,r,s),cu(e,r,au(s))]}(t,n,y),v=vu(e,_.cell),x=vu(e,b.cell);return e.$setAnchorCellForSelection(v),e.$setFocusCellForSelection(x,!0),!0}(o,e,t,i,n)}return c.selectEnd(),!0}return!1}function yu(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function _u(e,t,n){const r=to();"first"===e?t.insertBefore(r):t.insertAfter(r),r.append(...n||[]),r.selectEnd()}function bu(e,t,n){const r=n.getParent();if(!r)return;const o=_i(qc(e));if(!o)return;const i=o.anchorNode,s=e.getElementByKey(r.getKey()),l=Vc(n,e.getElementByKey(n.getKey()));if(!i||!s||!l||!s.contains(i)||l.contains(i))return;const a=Us(t.anchor.getNode(),(e=>Cc(e)));if(!a)return;const c=Us(a,(e=>Tu(e)));if(!Tu(c)||!c.is(n))return;const[u,d]=Lc(n,a,a),f=u[0][0],g=u[u.length-1][u[0].length-1],{startRow:h,startColumn:p}=d,m=h===f.startRow&&p===f.startColumn,y=h===g.startRow&&p===g.startColumn;return m?"first":y?"last":void 0}function vu(e,t){const{tableNode:n}=e.$lookup(),r=n.getCordsFromCellNode(t,e.table);return n.getDOMCellFromCordsOrThrow(r.x,r.y,e.table)}function xu(e,t,n){return Zc(e,Ao(t,n))}function Cu(e,t,n){if(!t.theme.tableAlignment)return;const r=[],o=[];for(const e of["center","right"]){const i=t.theme.tableAlignment[e];i&&(e===n?o:r).push(i)}js(e,...r),$s(e,...o)}const wu=new WeakSet;function Su(e=Ni()){return wu.has(e)}class Eu extends jr{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new Eu(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:ku,priority:1})}}static importJSON(e){return Nu().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,n){return"html"===n}getDOMSlot(e){const t=Jc(e)?e:e.querySelector("table");return Jc(t)||Sc(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const n=document.createElement("table");this.__style&&(n.style.cssText=this.__style);const r=document.createElement("colgroup");if(n.appendChild(r),function(e){e.__lexicalUnmanaged=!0}(r),$s(n,e.theme.table),this.updateTableElement(null,n,e),Su(t)){const t=document.createElement("div"),r=e.theme.tableScrollableWrapper;return r?$s(t,r):t.style.cssText="overflow-x: auto;",t.appendChild(n),this.updateTableWrapper(null,t,n,e),t}return n}updateTableWrapper(e,t,n,r){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(e,t,n,r){r>0?($s(e,n.theme.tableFrozenColumn),t.setAttribute("data-lexical-frozen-column","true")):(js(e,n.theme.tableFrozenColumn),t.removeAttribute("data-lexical-frozen-column"))}(t,n,r,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(e,t,n,r){r>0?($s(e,n.theme.tableFrozenRow),t.setAttribute("data-lexical-frozen-row","true")):(js(e,n.theme.tableFrozenRow),t.removeAttribute("data-lexical-frozen-row"))}(t,n,r,this.__frozenRowCount)}updateTableElement(e,t,n){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(e,t,n){n?($s(e,t.theme.tableRowStriping),e.setAttribute("data-lexical-row-striping","true")):(js(e,t.theme.tableRowStriping),e.removeAttribute("data-lexical-row-striping"))}(t,n,this.__rowStriping),function(e,t,n,r){const o=e.querySelector("colgroup");if(!o)return;const i=[];for(let e=0;e<n;e++){const t=document.createElement("col"),n=r&&r[e];n&&(t.style.width=`${n}px`),i.push(t)}o.replaceChildren(...i)}(t,0,this.getColumnCount(),this.getColWidths()),Cu(t,n,this.getFormatType())}updateDOM(e,t,n){const r=this.getDOMSlot(t).element;var o;return vi(o=t)&&"DIV"===o.nodeName&&this.updateTableWrapper(e,t,r,n),this.updateTableElement(e,this.getDOMSlot(t).element,n),!1}exportDOM(e){const t=super.exportDOM(e),{element:n}=t;return{after:n=>{if(t.after&&(n=t.after(n)),!Jc(n)&&vi(n)&&(n=n.querySelector("table")),!Jc(n))return null;Cu(n,e._config,this.getFormatType());const[r]=Pc(this,null,null),o=new Map;for(const e of r)for(const t of e){const e=t.cell.getKey();o.has(e)||o.set(e,{colSpan:t.cell.getColSpan(),startColumn:t.startColumn})}const i=new Set;for(const e of n.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const t=e.getAttribute("data-temporary-table-cell-lexical-key");if(t){const n=o.get(t);if(e.removeAttribute("data-temporary-table-cell-lexical-key"),n){o.delete(t);for(let e=0;e<n.colSpan;e++)i.add(e+n.startColumn)}}}const s=n.querySelector(":scope > colgroup");if(s){const e=Array.from(n.querySelectorAll(":scope > colgroup > col")).filter(((e,t)=>i.has(t)));s.replaceChildren(...e)}const l=n.querySelectorAll(":scope > tr");if(l.length>0){const e=document.createElement("tbody");for(const t of l)e.appendChild(t);n.append(e)}return n},element:!Jc(n)&&vi(n)?n.querySelector("table"):n}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:n,domRows:r}=t;for(let t=0;t<n;t++){const n=r[t];if(null!=n)for(let r=0;r<n.length;r++){const o=n[r];if(null==o)continue;const{elem:i}=o,s=xu(this,i);if(null!==s&&e.is(s))return{x:r,y:t}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,n){const{domRows:r}=n,o=r[t];if(null==o)return null;const i=o[e<o.length?e:o.length-1];return null==i?null:i}getDOMCellFromCordsOrThrow(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(!r)throw new Error("Cell not found at cords.");return r}getCellNodeFromCords(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(null==r)return null;const o=Ao(r.elem);return Cc(o)?o:null}getCellNodeFromCordsOrThrow(e,t,n){const r=this.getCellNodeFromCords(e,t,n);if(!r)throw new Error("Node at cords not TableCellNode.");return r}getRowStriping(){return Boolean(this.getLatest().__rowStriping)}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach((e=>{Cc(e)&&(t+=e.getColSpan())})),t}}function ku(e){const t=Nu();e.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0);const n=e.querySelector(":scope > colgroup");if(n){let e=[];for(const t of n.querySelectorAll(":scope > col")){let n=t.style.width||"";if(!mc.test(n)&&(n=t.getAttribute("width")||"",!/^\d+$/.test(n))){e=void 0;break}e.push(parseFloat(n))}e&&t.setColWidths(e)}return{after:e=>Xs(e,Tc),node:t}}function Nu(){return hi(new Eu)}function Tu(e){return e instanceof Eu}function Ou({rows:e,columns:t,includeHeaders:n}){const r=ir()||sr();if(!r||!Kn(r))return!1;if(pu(r.anchor.getNode()))return!1;const o=function(e,t,n=!0){const r=Nu();for(let o=0;o<e;o++){const e=Nc();for(let r=0;r<t;r++){let t=yc.NO_STATUS;"object"==typeof n?(0===o&&n.rows&&(t|=yc.ROW),0===r&&n.columns&&(t|=yc.COLUMN)):n&&(0===o&&(t|=yc.ROW),0===r&&(t|=yc.COLUMN));const i=xc(t),s=to();s.append(An()),i.append(s),e.append(i)}r.append(e)}return r}(Number(e),Number(t),n);Js(o);const i=o.getFirstDescendant();return Ln(i)&&i.select(),!0}function Fu(e){Tc(e.getParent())?e.isEmpty()&&e.append(to()):e.remove()}function Au(e){Tu(e.getParent())?Ys(e,Cc):e.remove()}function Lu(e){Ys(e,Tc);const[t]=Pc(e,null,null),n=t.reduce(((e,t)=>Math.max(e,t.length)),0),r=e.getChildren();for(let e=0;e<t.length;++e){const o=r[e];if(!o)continue;Tc(o)||Sc(254,o.constructor.name,o.getType());const i=t[e].reduce(((e,t)=>t?1+e:e),0);if(i!==n)for(let e=i;e<n;++e){const e=xc();e.append(to()),o.append(e)}}}function Pu(e){if(e.detail<3||!xi(e.target))return!1;const t=Ao(e.target);if(null===t)return!1;const n=Us(t,(e=>Kr(e)&&!e.isInline()));return null!==n&&!!Cc(n.getParent())&&(n.select(0),!0)}function Ru({hasCellMerge:t=!0,hasCellBackgroundColor:n=!0,hasTabHandler:o=!0,hasHorizontalScroll:i=!1}){const[s]=r();return(0,e.useEffect)((()=>{var e;e=s,i?wu.add(e):wu.delete(e)}),[s,i]),(0,e.useEffect)((()=>{return(e=s).hasNodes([Eu])||Sc(255),Bs(e.registerCommand(wc,Ou,ro),e.registerCommand(Ue,(({nodes:e,selection:t})=>!!Kn(t)&&null!==pu(t.anchor.getNode())&&e.some(Tu)),ro),e.registerCommand(Je,Pu,ro),e.registerNodeTransform(Eu,Lu),e.registerNodeTransform(Ec,Au),e.registerNodeTransform(_c,Fu));var e}),[s]),(0,e.useEffect)((()=>function(e,t=!0){const n=new Map,r=(r,o,i)=>{const s=Vc(r,i),l=function(e,t,n,r){const o=n.getRootElement(),i=qc(n);null!==o&&null!==i||Sc(246);const s=new Hc(n,e.getKey()),l=Vc(e,t);!function(e,t){null!==Qc(e)&&Sc(205),e[Wc]=t}(l,s),s.listenersToRemove.add((()=>function(e,t){Qc(e)===t&&delete e[Wc]}(l,s)));const a=t=>{if(s.pointerType=t.pointerType,0!==t.button||!xi(t.target)||!i)return;const r=eu(t.target);null!==r&&n.update((()=>{const n=sr();if(Ac&&t.shiftKey&&uu(n,e)&&(Kn(n)||Bc(n))){const o=n.anchor.getNode(),i=Zc(e,n.anchor.getNode());i?(s.$setAnchorCellForSelection(vu(s,i)),s.$setFocusCellForSelection(r),yu(t)):(e.isBefore(o)?e.selectStart():e.selectEnd()).anchor.set(n.anchor.key,n.anchor.offset,n.anchor.type)}else s.$setAnchorCellForSelection(r)})),(()=>{if(s.isSelecting)return;const e=()=>{s.isSelecting=!1,i.removeEventListener("pointerup",e),i.removeEventListener("pointermove",t)},t=r=>{if(!Uc(r)&&s.isSelecting)return s.isSelecting=!1,i.removeEventListener("pointerup",e),void i.removeEventListener("pointermove",t);if(!xi(r.target))return;let o=null;const a=!(Ac||l.contains(r.target));if(a)o=tu(l,r.target);else for(const e of document.elementsFromPoint(r.clientX,r.clientY))if(o=tu(l,e),o)break;!o||null!==s.focusCell&&o.elem===s.focusCell.elem||(s.setNextFocus({focusCell:o,override:a}),n.dispatchCommand(We,void 0))};s.isSelecting=!0,i.addEventListener("pointerup",e,s.listenerOptions),i.addEventListener("pointermove",t,s.listenerOptions)})()};l.addEventListener("pointerdown",a,s.listenerOptions),s.listenersToRemove.add((()=>{l.removeEventListener("pointerdown",a)}));const c=e=>{e.detail>=3&&xi(e.target)&&null!==eu(e.target)&&e.preventDefault()};l.addEventListener("mousedown",c,s.listenerOptions),s.listenersToRemove.add((()=>{l.removeEventListener("mousedown",c)}));const u=e=>{const t=e.target;0===e.button&&xi(t)&&n.update((()=>{const e=ir();Bc(e)&&e.tableKey===s.tableNodeKey&&o.contains(t)&&s.$clearHighlight()}))};i.addEventListener("pointerdown",u,s.listenerOptions),s.listenersToRemove.add((()=>{i.removeEventListener("pointerdown",u)}));for(const[t,r]of Yc)s.listenersToRemove.add(n.registerCommand(t,(t=>mu(n,t,r,e,s)),io));s.listenersToRemove.add(n.registerCommand(ht,(t=>{const n=ir();if(Bc(n)){const r=Zc(e,n.focus.getNode());if(null!==r)return yu(t),r.selectEnd(),!0}return!1}),io));const d=t=>()=>{const n=ir();if(!uu(n,e))return!1;if(Bc(n))return s.$clearText(),!0;if(Kn(n)){if(!Cc(Zc(e,n.anchor.getNode())))return!1;const r=n.anchor.getNode(),o=n.focus.getNode(),i=e.isParentOf(r),l=e.isParentOf(o);if(i&&!l||l&&!i)return s.$clearText(),!0;const a=Us(n.anchor.getNode(),(e=>Kr(e))),c=a&&Us(a,(e=>Kr(e)&&Cc(e.getParent())));if(!Kr(c)||!Kr(a))return!1;if(t===et&&null===c.getPreviousSibling())return!0}return!1};for(const e of Gc)s.listenersToRemove.add(n.registerCommand(e,d(e),so));const f=t=>{const n=ir();if(!Bc(n)&&!Kn(n))return!1;const r=e.isParentOf(n.anchor.getNode());if(r!==e.isParentOf(n.focus.getNode())){const t=r?"anchor":"focus",o=r?"focus":"anchor",{key:i,offset:s,type:l}=n[o];return e[n[t].isBefore(n[o])?"selectPrevious":"selectNext"]()[o].set(i,s,l),!1}return!!uu(n,e)&&!!Bc(n)&&(t&&(t.preventDefault(),t.stopPropagation()),s.$clearText(),!0)};for(const e of Xc)s.listenersToRemove.add(n.registerCommand(e,f,so));return s.listenersToRemove.add(n.registerCommand(kt,(e=>{const t=ir();if(t){if(!Bc(t)&&!Kn(t))return!1;Sl(n,Vs(e,ClipboardEvent)?e:null,Nl(t));const r=f(e);return Kn(t)?(t.removeText(),!0):r}return!1}),so)),s.listenersToRemove.add(n.registerCommand(tt,(t=>{const n=ir();if(!uu(n,e))return!1;if(Bc(n))return s.$formatCells(t),!0;if(Kn(n)){const e=Us(n.anchor.getNode(),(e=>Cc(e)));if(!Cc(e))return!1}return!1}),so)),s.listenersToRemove.add(n.registerCommand(xt,(t=>{const n=ir();if(!Bc(n)||!uu(n,e))return!1;const r=n.anchor.getNode(),o=n.focus.getNode();if(!Cc(r)||!Cc(o))return!1;if(function(e,t){if(Bc(e)){const n=e.anchor.getNode(),r=e.focus.getNode();if(t&&n&&r){const[e]=Lc(t,n,r);return n.getKey()===e[0][0].cell.getKey()&&r.getKey()===e[e.length-1].at(-1).cell.getKey()}}return!1}(n,e))return e.setFormat(t),!0;const[i,s,l]=Lc(e,r,o),a=Math.max(s.startRow+s.cell.__rowSpan-1,l.startRow+l.cell.__rowSpan-1),c=Math.max(s.startColumn+s.cell.__colSpan-1,l.startColumn+l.cell.__colSpan-1),u=Math.min(s.startRow,l.startRow),d=Math.min(s.startColumn,l.startColumn),f=new Set;for(let e=u;e<=a;e++)for(let n=d;n<=c;n++){const r=i[e][n].cell;if(f.has(r))continue;f.add(r),r.setFormat(t);const o=r.getChildren();for(let e=0;e<o.length;e++){const n=o[e];Kr(n)&&!n.isInline()&&n.setFormat(t)}}return!0}),so)),s.listenersToRemove.add(n.registerCommand(Ye,(t=>{const r=ir();if(!uu(r,e))return!1;if(Bc(r))return s.$clearHighlight(),!1;if(Kn(r)){const o=Us(r.anchor.getNode(),(e=>Cc(e)));if(!Cc(o))return!1;if("string"==typeof t){const o=bu(n,r,e);if(o)return _u(o,e,[An(t)]),!0}}return!1}),so)),r&&s.listenersToRemove.add(n.registerCommand(mt,(t=>{const n=ir();if(!Kn(n)||!n.isCollapsed()||!uu(n,e))return!1;const r=hu(n.anchor.getNode());return!(null===r||!e.is(pu(r))||(yu(t),function(e,t){const n="next"===t?"getNextSibling":"getPreviousSibling",r="next"===t?"getFirstChild":"getLastChild",o=e[n]();if(Kr(o))return o.selectEnd();const i=Us(e,Tc);null===i&&Sc(247);for(let e=i[n]();Tc(e);e=e[n]()){const t=e[r]();if(Kr(t))return t.selectEnd()}const s=Us(i,Tu);null===s&&Sc(248),"next"===t?s.selectNext():s.selectPrevious()}(r,t.shiftKey?"previous":"next"),0))}),so)),s.listenersToRemove.add(n.registerCommand(Lt,(t=>e.isSelected()),io)),s.listenersToRemove.add(n.registerCommand(Ue,(e=>{const{nodes:t,selection:n}=e,r=n.getStartEndPoints(),o=Bc(n),i=Kn(n)&&null!==Us(n.anchor.getNode(),(e=>Cc(e)))&&null!==Us(n.focus.getNode(),(e=>Cc(e)))||o;if(1!==t.length||!Tu(t[0])||!i||null===r)return!1;const[s]=r,l=t[0],a=l.getChildren(),c=l.getFirstChildOrThrow().getChildrenSize(),u=l.getChildrenSize(),d=Us(s.getNode(),(e=>Cc(e))),f=d&&Us(d,(e=>Tc(e))),g=f&&Us(f,(e=>Tu(e)));if(!Cc(d)||!Tc(f)||!Tu(g))return!1;const h=f.getIndexWithinParent(),p=Math.min(g.getChildrenSize()-1,h+u-1),m=d.getIndexWithinParent(),y=Math.min(f.getChildrenSize()-1,m+c-1),_=Math.min(m,y),b=Math.min(h,p),v=Math.max(m,y),x=Math.max(h,p),C=g.getChildren();let w=0;for(let e=b;e<=x;e++){const t=C[e];if(!Tc(t))return!1;const n=a[w];if(!Tc(n))return!1;const r=t.getChildren(),o=n.getChildren();let i=0;for(let e=_;e<=v;e++){const t=r[e];if(!Cc(t))return!1;const n=o[i];if(!Cc(n))return!1;const s=t.getChildren();n.getChildren().forEach((e=>{Ln(e)?(to().append(e),t.append(e)):t.append(e)})),s.forEach((e=>e.remove())),i++}w++}return!0}),so)),s.listenersToRemove.add(n.registerCommand(We,(()=>{const t=ir(),r=sr(),o=s.getAndClearNextFocus();if(null!==o){const{focusCell:n}=o;if(Bc(t)&&t.tableKey===s.tableNodeKey)return(n.x!==s.focusX||n.y!==s.focusY)&&(s.$setFocusCellForSelection(n),!0);if(n!==s.anchorCell&&uu(t,e))return s.$setFocusCellForSelection(n),!0}if(s.getAndClearShouldCheckSelection()&&Kn(r)&&Kn(t)&&t.isCollapsed()){const n=t.anchor.getNode(),r=e.getFirstChild(),o=hu(n);if(null!==o&&Tc(r)){const t=r.getFirstChild();if(Cc(t)&&e.is(Us(o,(n=>n.is(e)||n.is(t)))))return t.selectStart(),!0}}if(Kn(t)){const{anchor:o,focus:i}=t,l=o.getNode(),a=i.getNode(),c=hu(l),u=hu(a),d=!(!c||!e.is(pu(c))),f=!(!u||!e.is(pu(u))),g=d!==f,h=d&&f,p=t.isBackward();if(g){const r=t.clone();if(f){const[t]=Lc(e,u,u),n=t[0][0].cell,o=t[t.length-1].at(-1).cell;r.focus.set(p?n.getKey():o.getKey(),p?n.getChildrenSize():o.getChildrenSize(),"element")}else if(d){const[t]=Lc(e,c,c),n=t[0][0].cell,o=t[t.length-1].at(-1).cell;r.anchor.set(p?o.getKey():n.getKey(),p?o.getChildrenSize():0,"element")}Io(r),iu(n,s)}else if(h&&(c.is(u)||(s.$setAnchorCellForSelection(vu(s,c)),s.$setFocusCellForSelection(vu(s,u),!0)),"touch"===s.pointerType&&t.isCollapsed()&&Kn(r)&&r.isCollapsed())){const e=hu(r.anchor.getNode());e&&!e.is(u)&&(s.$setAnchorCellForSelection(vu(s,e)),s.$setFocusCellForSelection(vu(s,u),!0),s.pointerType=null)}}else if(t&&Bc(t)&&t.is(r)&&t.tableKey===e.getKey()){const r=_i(i);if(r&&r.anchorNode&&r.focusNode){const o=Ao(r.focusNode),i=o&&!e.isParentOf(o),s=Ao(r.anchorNode),l=s&&e.isParentOf(s);if(i&&l&&r.rangeCount>0){const o=function(e,t){return or(null,e,t,null)}(r,n);o&&(o.anchor.set(e.getKey(),t.isBackward()?e.getChildrenSize():0,"element"),r.removeAllRanges(),Io(o))}}}return t&&!t.is(r)&&(Bc(t)||Bc(r))&&s.tableSelection&&!s.tableSelection.is(r)?(Bc(t)&&t.tableKey===s.tableNodeKey?s.$updateTableTableSelection(t):!Bc(t)&&Bc(r)&&r.tableKey===s.tableNodeKey&&s.$updateTableTableSelection(null),!1):(s.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.$enableHighlightStyle(),ou(t.table,(t=>{const n=t.elem;t.highlighted=!1,gu(e,t),n.getAttribute("style")||n.removeAttribute("style")}))}(n,s):!s.hasHijackedSelectionStyles&&e.isSelected()&&iu(n,s),!1)}),so)),s.listenersToRemove.add(n.registerCommand(Ze,(()=>{const t=ir();if(!Kn(t)||!t.isCollapsed()||!uu(t,e))return!1;const r=bu(n,t,e);return!!r&&(_u(r,e),!0)}),so)),s}(r,s,e,t);n.set(o,[l,s])},o=e.registerMutationListener(Eu,(t=>{e.getEditorState().read((()=>{for(const[e,o]of t){const t=n.get(e);if("created"===o||"updated"===o){const{tableNode:o,tableElement:i}=Kc(e);void 0===t?r(o,e,i):i!==t[1]&&(t[0].removeListeners(),n.delete(e),r(o,e,i))}else"destroyed"===o&&void 0!==t&&(t[0].removeListeners(),n.delete(e))}}),{editor:e})}),{skipInitialization:!1});return()=>{o();for(const[,[e]]of n)e.removeListeners()}}(s,o)),[s,o]),(0,e.useEffect)((()=>{if(!t)return s.registerNodeTransform(_c,(e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=Rc(e),[n]=Lc(t,e,e),r=n.length,o=n[0].length;let i=t.getFirstChild();Tc(i)||Sc(175);const s=[];for(let e=0;e<r;e++){0!==e&&(i=i.getNextSibling(),Tc(i)||Sc(175));let t=null;for(let r=0;r<o;r++){const o=n[e][r],l=o.cell;if(o.startRow===e&&o.startColumn===r)t=l,s.push(l);else if(l.getColSpan()>1||l.getRowSpan()>1){Cc(l)||Sc(176);const e=xc(l.__headerState);null!==t?t.insertAfter(e):qs(i,e)}}}for(const e of s)e.setColSpan(1),e.setRowSpan(1)}}))}),[s,t]),(0,e.useEffect)((()=>{if(!n)return s.registerNodeTransform(_c,(e=>{null!==e.getBackgroundColor()&&e.setBackgroundColor(null)}))}),[s,n,t]),null}function Mu(e,t){return e.getEditorState().read((()=>{const e=To(t);return null!==e&&e.isSelected()}))}const Iu={};function zu({nodeKey:t}){const[n]=r(),[o,i,s]=function(t){const[n]=r(),[o,i]=(0,e.useState)((()=>Mu(n,t)));return(0,e.useEffect)((()=>{let e=!0;const r=n.registerUpdateListener((()=>{e&&i(Mu(n,t))}));return()=>{e=!1,r()}}),[n,t]),[o,(0,e.useCallback)((e=>{n.update((()=>{let n=ir();Wn(n)||(n=rr(),Io(n)),Wn(n)&&(e?n.add(t):n.delete(t))}))}),[n,t]),(0,e.useCallback)((()=>{n.update((()=>{const e=ir();Wn(e)&&e.clear()}))}),[n])]}(t);return(0,e.useEffect)((()=>Bs(n.registerCommand(Je,(e=>{const r=n.getElementByKey(t);return e.target===r&&(e.shiftKey||s(),i(!o),!0)}),oo))),[s,n,o,t,i]),(0,e.useEffect)((()=>{const e=n.getElementByKey(t),r=n._config.theme.hrSelected??"selected";null!==e&&(o?$s(e,r):js(e,r))}),[n,o,t]),null}class Du extends Wr{static getType(){return"horizontalrule"}static clone(e){return new Du(e.__key)}static importJSON(e){return $u().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:Bu,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const t=document.createElement("hr");return $s(t,e.theme.hr),t}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}decorate(){return(0,ks.jsx)(zu,{nodeKey:this.__key})}}function Bu(){return{node:$u()}}function $u(){return hi(new Du)}function ju(){const[t]=r();return(0,e.useEffect)((()=>t.registerCommand(Iu,(e=>{const t=ir();return!!Kn(t)&&(null!==t.focus.getNode()&&Js($u()),!0)}),ro)),[t]),null}const Ku={text:{bold:"tde-textBold",italic:"tde-textItalic",underline:"tde-textUnderline",strikethrough:"tde-textStrikethrough",code:"tde-textCode",subscript:"tde-textSubscript",superscript:"tde-textSuperscript",highlight:"tde-textHighlight",uppercase:"tde-textUppercase",lowercase:"tde-textLowercase",capitalize:"tde-textCapitalize"},paragraph:"tde-paragraph",heading:{h1:"tde-heading tde-headingH1",h2:"tde-heading tde-headingH2",h3:"tde-heading tde-headingH3",h4:"tde-heading tde-headingH4",h5:"tde-heading tde-headingH5",h6:"tde-heading tde-headingH6"},list:{listitem:"tde-listItem",nested:{listitem:"tde-listItem tde-listItemNested"},ol:"tde-list tde-listOrdered",ul:"tde-list tde-listUnordered",checklist:"tde-list tde-listChecklist",listitemChecked:"tde-listItem-Checked",listitemUnchecked:"tde-listItem-Unchecked",olDepth:["tde-listOrdered__ol1","tde-listOrdered__ol2","tde-listOrdered__ol3","tde-listOrdered__ol4","tde-listOrdered__ol5"]},quote:"tde-quote",link:"tde-link",linkHighlight:"tde-linkHighlight",linkInsert:"tde-linkInsert",table:"tde-table",tableCell:"tde-tableCell",tableCellHeader:"tde-tableCell tde-tableCellHeader",tableRow:"tde-tableRow",code:"tde-codeBlock",codeHighlight:{atrule:"tde-codeAtrule",attr:"tde-codeAttr",boolean:"tde-codeBoolean",builtin:"tde-codeBuiltin",cdata:"tde-codeCdata",char:"tde-codeChar",class:"tde-codeClass",comment:"tde-codeComment",constant:"tde-codeConstant",deleted:"tde-codeDeleted",doctype:"tde-codeDoctype",entity:"tde-codeEntity",function:"tde-codeFunction",important:"tde-codeImportant",inserted:"tde-codeInserted",keyword:"tde-codeKeyword",namespace:"tde-codeNamespace",number:"tde-codeNumber",operator:"tde-codeOperator",prolog:"tde-codeProlog",property:"tde-codeProperty",punctuation:"tde-codePunctuation",regex:"tde-codeRegex",selector:"tde-codeSelector",string:"tde-codeString",symbol:"tde-codeSymbol",tag:"tde-codeTag",url:"tde-codeUrl",variable:"tde-codeVariable"},horizontalRule:"tde-hr",ltr:"tde-ltr",rtl:"tde-rtl",blockCursor:"tde-cursorBlock",textFormatting:"tde-textFormatting",tableCellSelected:"tde-tableCellSelected",tableCellEditing:"tde-tableCellEditing",tableAddColumns:"tde-tableAddColumns",tableAddRows:"tde-tableAddRows",embedBlock:"tde-embed",image:"tde-image",tweet:"tde-tweet",video:"tde-video",hashtag:"tde-hashtag",mention:"tde-mention"},Hu={small:"p-1",medium:"p-2",large:"p-3"},Wu={neutral:"text-gray-700 hover:bg-gray-200",primary:"text-white bg-blue-600 hover:bg-blue-700",danger:"text-white bg-red-600 hover:bg-red-700"},Uu=e=>{let{variant:n="neutral",type:r="plain",ds:o="1.0",icon:i,size:s="medium",tooltip:l,disabled:a=!1,onClick:c,"aria-label":u,isActivated:d}=e;return t().createElement("button",{type:"button",onClick:c,disabled:a,className:`rounded transition flex items-center justify-center ${Hu[s]||""} ${Wu[n]||""} ${a?"opacity-50 cursor-not-allowed":""}`,"aria-label":u,title:l},i)};function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ju.apply(null,arguments)}const Vu={small:"text-sm px-3 py-1",medium:"text-base px-4 py-2",large:"text-lg px-5 py-3"},qu={neutral:"bg-gray-100 text-gray-800 hover:bg-gray-200",primary:"bg-blue-600 text-white hover:bg-blue-700",danger:"bg-red-600 text-white hover:bg-red-700"},Zu={plain:"border border-transparent shadow-none",outlined:"border border-gray-300",filled:""},Yu=e=>{let{variant:n="neutral",type:r="plain",dsVersion:o="1.0",size:i="medium",onClick:s,disabled:l=!1,className:a="",children:c,...u}=e;return t().createElement("button",Ju({type:"button",onClick:s,disabled:l,className:`\n        rounded transition font-medium\n        ${Vu[i]||""}\n        ${qu[n]||""}\n        ${Zu[r]||""}\n        ${l?"opacity-50 cursor-not-allowed":""}\n        ${a}\n      `},u),c)},Gu=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Xu=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim(),Qu=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var ed={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const td=(0,e.forwardRef)((({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:i="",children:s,iconNode:l,...a},c)=>(0,e.createElement)("svg",{ref:c,...ed,width:n,height:n,stroke:t,strokeWidth:o?24*Number(r)/Number(n):r,className:Xu("lucide",i),...!s&&!Qu(a)&&{"aria-hidden":"true"},...a},[...l.map((([t,n])=>(0,e.createElement)(t,n))),...Array.isArray(s)?s:[s]]))),nd=(t,n)=>{const r=(0,e.forwardRef)((({className:r,...o},i)=>{return(0,e.createElement)(td,{ref:i,iconNode:n,className:Xu(`lucide-${s=Gu(t),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,r),...o});var s}));return r.displayName=Gu(t),r},rd=nd("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),od=nd("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),id=nd("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),sd=nd("align-justify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]),ld=nd("indent-decrease",[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m7 8-4 4 4 4",key:"o5hrat"}]]),ad=nd("indent-increase",[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m3 8 4 4-4 4",key:"1a3j6y"}]]),cd=nd("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ud=nd("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),dd=nd("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),fd=nd("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);o(467),o(624),o(723),o(312),o(545),o(271),o(113),o(596),o(966),o(905),o(342),o(961),o(793),o(587),o(976),o(415);const gd=globalThis.Prism||window.Prism,hd=e=>{try{return!!e&&gd.languages.hasOwnProperty(e)}catch(e){return!1}};function pd(e,t){for(const n of e.childNodes){if(vi(n)&&n.tagName===t)return!0;pd(n,t)}return!1}const md="data-language",yd="data-highlight-language";class _d extends jr{static getType(){return"code"}static clone(e){return new _d(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=hd(e)}createDOM(e){const t=document.createElement("code");$s(t,e.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(md,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(yd,n)),t}updateDOM(e,t,n){const r=this.__language,o=e.__language;return r?r!==o&&(t.setAttribute(md,r),this.__isSyntaxHighlightSupported&&t.setAttribute(yd,r)):o&&(t.removeAttribute(md),e.__isSyntaxHighlightSupported&&t.removeAttribute(yd)),!1}exportDOM(e){const t=document.createElement("pre");$s(t,e._config.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(md,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(yd,n)),{element:t}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||pd(e,"BR"))?{conversion:xd,priority:1}:null,div:()=>({conversion:Cd,priority:1}),pre:()=>({conversion:xd,priority:0}),table:e=>kd(e)?{conversion:wd,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")||n&&kd(n)?{conversion:Sd,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&kd(t)?{conversion:Sd,priority:3}:null}}}static importJSON(e){return bd().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e,t=!0){const n=this.getChildren(),r=n.length;if(r>=2&&"\n"===n[r-1].getTextContent()&&"\n"===n[r-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r){n[r-1].remove(),n[r-2].remove();const e=to();return this.insertAfter(e,t),e}const{anchor:o,focus:i}=e,s=(o.isBefore(i)?o:i).getNode();if(Ln(s)){let e=function(e){return function(e,t){let n=e;for(let r=qi(e,t);r&&(Fd(r.origin)||In(r.origin));r=Ks(r))n=r.origin;return n}(e,"previous")}(s);const t=[];for(;;)if(In(e))t.push(Mn()),e=e.getNextSibling();else{if(!Fd(e))break;{let n=0;const r=e.getTextContent(),o=e.getTextContentSize();for(;n<o&&" "===r[n];)n++;if(0!==n&&t.push(Od(" ".repeat(n))),n!==o)break;e=e.getNextSibling()}}const n=s.splitText(o.offset)[0],r=0===o.offset?0:1,i=n.getIndexWithinParent()+r,l=s.getParentOrThrow(),a=[gn(),...t];l.splice(i,0,a);const c=t[t.length-1];c?c.select():0===o.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if(vd(s)){const{offset:t}=e.anchor;s.splice(t,0,[gn()]),s.select(t+1,t+1)}return null}canIndent(){return!1}collapseAtStart(){const e=to();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=hd(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}}function bd(e){return hi(new _d(e))}function vd(e){return e instanceof _d}function xd(e){return{node:bd(e.getAttribute(md))}}function Cd(e){const t=e,n=Ed(t);return n||function(e){let t=e.parentElement;for(;null!==t;){if(Ed(t))return!0;t=t.parentElement}return!1}(t)?{node:n?bd():null}:{node:null}}function wd(){return{node:bd()}}function Sd(){return{node:null}}function Ed(e){return null!==e.style.fontFamily.match("monospace")}function kd(e){return e.classList.contains("js-file-line-container")}class Nd extends Cn{constructor(e="",t,n){super(e,n),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new Nd(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e);return $s(t,Td(e.theme,this.__highlightType)),t}updateDOM(e,t,n){const r=super.updateDOM(e,t,n),o=Td(n.theme,e.__highlightType),i=Td(n.theme,this.__highlightType);return o!==i&&(o&&js(t,o),i&&$s(t,i)),r}static importJSON(e){return Od().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return bd()}}function Td(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function Od(e="",t){return hi(new Nd(e,t))}function Fd(e){return e instanceof Nd}new Set;const Ad=nd("text",[["path",{d:"M15 18H3",key:"olowqp"}],["path",{d:"M17 6H3",key:"16j9eg"}],["path",{d:"M21 12H3",key:"2avoz0"}]]),Ld=nd("heading-1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),Pd=nd("heading-2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),Rd=nd("heading-3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),Md=nd("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Id=nd("list-ordered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),zd=nd("list-check",[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]]),Dd={paragraph:{label:"Paragraph",key:"paragraph",jsx:t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(Ad,null)),t().createElement("span",{className:"text"},"Paragraph"))},h3:{label:"Heading 1",key:"h3",jsx:t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(Ld,null)),t().createElement("span",{className:"text"},"Heading 1"))},h4:{label:"Heading 2",key:"h4",jsx:t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(Pd,null)),t().createElement("span",{className:"text"},"Heading 2"))},h5:{label:"Heading 3",key:"h5",jsx:t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(Rd,null)),t().createElement("span",{className:"text"},"Heading 3"))},bullet:{label:"Bullet list",key:"bullet",jsx:t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(Md,null)),t().createElement("span",{className:"text"},"Bullet List"))},number:{label:"Numbered list",key:"number",jsx:t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(Id,null)),t().createElement("span",{className:"text"},"Numbered List"))},check:{label:"Check list",key:"check",jsx:t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(zd,null)),t().createElement("span",{className:"text"},"Check List"))}};class Bd extends Wr{constructor(e,t){super(t),this.__format=e||""}exportJSON(){return{...super.exportJSON(),format:this.__format||""}}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format||"")}canIndent(){return!1}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(e){const t=this.getWritable();return t.__format=e,t}isInline(){return!1}}const $d=(e,t)=>{e.update((()=>{const e=ir();if(Kn(e)||Bc(e)){const n=e.anchor,r=e.focus,o=e.getNodes(),i=e.extract();if(n.key===r.key&&n.offset===r.offset)return;const s=!Array.isArray(t);o.forEach(((e,l)=>{if(Ln(e)){let a=e;0===l&&0!==n.offset&&(a=a.splitText(n.offset)[1]||a),l===o.length-1&&(a=a.splitText(r.offset)[0]||a);const c=i[0];if(1===o.length&&Ln(c)&&(a=c),s)""!==a.__style&&a.setStyle(""),0!==a.__format&&a.setFormat(0);else if(a.__style){const e=Object.fromEntries(a.__style.split(";").map((e=>{const[t,n]=e.split(":").map((e=>e?.trim()));return[t,n]})).filter((e=>{let[t]=e;return t})));t.forEach((t=>{delete e[t]}));const n=Object.entries(e).map((e=>{let[t,n]=e;return`${t}: ${n}`})).join("; ");a.setStyle(n)}const u=Ws(a);s&&(0!==u.__format&&u.setFormat(""),0!==u.__indent&&u.setIndent(0))}else Ul(e)||Bl(e)?s&&e.replace(to(),!0):e instanceof Bd&&s&&e.setFormat("")}))}}))};function jd(e){const t=e.anchor,n=e.focus,r=e.anchor.getNode(),o=e.focus.getNode();return r===o?r:e.isBackward()?sl(n)?r:o:sl(t)?r:o}const Kd=e=>(window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}),Hd=(e,t)=>{switch(t){case"paragraph":(e=>{e.update((()=>{dl(ir(),(()=>to()))}))})(e);break;case"h3":case"h4":case"h5":((e,t)=>{e.update((()=>{dl(ir(),(()=>Wl(t)))}))})(e,t);break;case"bullet":e.dispatchCommand(Wa,void 0);break;case"number":e.dispatchCommand(Ua,void 0);break;case"check":e.dispatchCommand(Ja,void 0)}},Wd=[[{label:"black",color:"#000000"},{label:"dark gray 4",color:"#494949"},{label:"dark gray 3",color:"#616161"},{label:"dark gray 2",color:"#808080"},{label:"dark gray 1",color:"#a6a6a6"},{label:"gray",color:"#bfbfbf"},{label:"light gray 1",color:"#d9d9d9"},{label:"light gray 2",color:"#e6e6e6",border:!0},{label:"light gray 3",color:"#f2f2f2",border:!0},{label:"white",color:"#ffffff",border:!0}],[{label:"red",color:"#ff0000"},{label:"orange",color:"#ff9900"},{label:"yellow",color:"#ffff00"},{label:"light green",color:"#00ff00"},{label:"green",color:"#00b050"},{label:"light blue",color:"#00b0f0"},{label:"blue",color:"#0070c0"},{label:"dark blue",color:"#002060"},{label:"purple",color:"#7030a0"},{label:"pink",color:"#ff00ff"}],[{label:"light red",color:"#e06666"},{label:"light orange",color:"#f6b26b"},{label:"light yellow",color:"#ffd966"},{label:"light green",color:"#b6d7a8"},{label:"light green",color:"#c9daf8"},{label:"light blue",color:"#a4c2f4"},{label:"light blue",color:"#b4a7d6"},{label:"light blue",color:"#d5a6bd"},{label:"light purple",color:"#d9d2e9"},{label:"light pink",color:"#f4cccc"}],[{label:"dark red",color:"#990000"},{label:"dark orange",color:"#b45f06"},{label:"dark yellow",color:"#b1a200"},{label:"dark green",color:"#38761d"},{label:"dark green",color:"#274e13"},{label:"dark blue",color:"#0b5394"},{label:"dark blue",color:"#073763"},{label:"dark blue",color:"#20124d"},{label:"dark purple",color:"#4c1130"},{label:"dark pink",color:"#99004d"}]],Ud=n=>{const[r,o]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),l=(0,e.useRef)(!1),a=(0,e.useRef)(null),c=(0,e.useRef)(null),[u,d]=(0,e.useState)({x:0,y:0,minWidth:0}),f=(0,e.useCallback)((e=>{const t=e.target;c.current&&c.current.contains(t)||a.current&&a.current.contains(t)||r&&!i&&(s(!0),setTimeout((()=>{o(!1),s(!1)}),300))}),[i,r]);(0,e.useEffect)((()=>(document.addEventListener("click",f),()=>{document.removeEventListener("click",f)})),[r,i,f]);const g=(0,e.useCallback)((()=>{if(r)return s(!0),void setTimeout((()=>{o(!1),s(!1)}),300);o(!0);const e=a.current;if(!e)return;const t=e.getBoundingClientRect();d({x:t.left,y:t.bottom+8,minWidth:t.width})}),[r]),h=()=>{const e=a.current,t=c.current;if(!e||!t)return;const n=e.getBoundingClientRect();d((e=>({...e,x:n.left})))},p=e=>{l.current=e};(0,e.useEffect)((()=>(h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)})),[r]);const m=(0,e.useCallback)((()=>{r&&!1===l.current&&g()}),[r,g]);return(0,e.useEffect)((()=>(window.addEventListener("keydown",m),()=>{window.removeEventListener("keydown",m)})),[r,m]),t().createElement(t().Fragment,null,t().createElement("div",{onClick:g,ref:a},n.trigger({isVisible:r})),r&&(0,el.createPortal)(t().createElement("div",{className:`tde-dropdown ${i?"fade-out":"fade-in"} ${n.className}`,ref:c,"data-id":"dropdown-parent",style:{position:"absolute",left:`${u.x}px`,top:`${u.y}px`,minWidth:`${u.minWidth}px`}},t().Children.map(n.children,(e=>t().isValidElement(e)?t().cloneElement(e,{isVisible:r,handleClick:g,handleFixed:p}):e))),document.body))},Jd=(0,e.memo)(Ud);function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vd.apply(null,arguments)}const qd=e.forwardRef(((t,n)=>e.createElement("svg",Vd({width:16,height:16,fill:"#333333",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"currentColor",d:"M8.5 2a.5.5 0 00-1 0v5.5H2a.5.5 0 000 1h5.5V14a.5.5 0 001 0V8.5H14a.5.5 0 000-1H8.5V2z"}))));qd.displayName="AddOutlined";const Zd=e.memo(qd);function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yd.apply(null,arguments)}const Gd=e.forwardRef(((t,n)=>e.createElement("svg",Yd({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n,color:"#707070"},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.646 2.146A.5.5 0 017.5 2.5v3h1A6.5 6.5 0 0115 12a.5.5 0 01-1 0 1.5 1.5 0 00-1.5-1.5h-5v3a.5.5 0 01-.854.354l-5.5-5.5a.5.5 0 010-.708l5.5-5.5zM6.51 9.9A.501.501 0 006.5 10v2.293L2.207 8 6.5 3.707V6a.5.5 0 00.5.5h1.5a5.5 5.5 0 015.001 3.209A2.491 2.491 0 0012.5 9.5H7a.5.5 0 00-.49.4z",clipRule:"evenodd"}))));Gd.displayName="BackArrowOutlined";const Xd=e.memo(Gd);function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qd.apply(null,arguments)}function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ef.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Qd({width:16,height:17,fill:"none",viewBox:"0 0 16 17",ref:n},t),e.createElement("path",{fill:"#707070",d:"M7.646 7.885a.5.5 0 00.708 0l2.793-2.793a.5.5 0 00-.354-.853H5.207a.5.5 0 00-.353.853l2.792 2.793zM7.646 9.592a.5.5 0 01.708 0l2.793 2.793a.5.5 0 01-.354.854H5.207a.5.5 0 01-.353-.854l2.792-2.793z"})))).displayName="CaretOpenedFilled";function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",ef({width:16,height:17,fill:"none",viewBox:"0 0 16 17",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M4 3.239a1.5 1.5 0 00-1.5 1.5v6a1.5 1.5 0 001.5 1.5h1.796a1.5 1.5 0 011.13.512L8 13.979l1.075-1.228a1.5 1.5 0 011.129-.512H12a1.5 1.5 0 001.5-1.5v-2a.5.5 0 011 0v2a2.5 2.5 0 01-2.5 2.5h-1.796a.5.5 0 00-.377.17l-1.45 1.659a.5.5 0 01-.753 0l-1.451-1.659a.5.5 0 00-.377-.17H4a2.5 2.5 0 01-2.5-2.5v-6a2.5 2.5 0 012.5-2.5h3a.5.5 0 010 1H4zm5.5-1a.5.5 0 00-.5.5v1.5a.5.5 0 00.5.5h1v.5a.5.5 0 01-.5.5h-.5a.5.5 0 000 1h.5a1.5 1.5 0 001.5-1.5v-2.5a.5.5 0 00-.5-.5H9.5zm3.5 0a.5.5 0 00-.5.5v1.5a.5.5 0 00.5.5h1v.5a.5.5 0 01-.5.5H13a.5.5 0 000 1h.5a1.5 1.5 0 001.5-1.5v-2.5a.5.5 0 00-.5-.5H13z",clipRule:"evenodd"})))).displayName="ChatQuoteOutlined";function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",tf({width:16,height:17,fill:"none",viewBox:"0 0 16 17",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M9.603 3.96a.37.37 0 01.22.474L6.87 12.557a.37.37 0 01-.694-.252L9.13 4.182a.37.37 0 01.473-.221zM5.33 6.288a.37.37 0 01-.047.52L3.408 8.369l1.875 1.563a.37.37 0 01-.473.567L2.594 8.653a.37.37 0 010-.567L4.81 6.24a.37.37 0 01.52.047zm5.34 0a.37.37 0 01.52-.047l2.216 1.846a.37.37 0 010 .567l-2.216 1.846a.37.37 0 11-.473-.567l1.875-1.563-1.875-1.562a.37.37 0 01-.047-.52z",clipRule:"evenodd"})))).displayName="CodeOutlined";function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",nf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M8 2a6 6 0 00-5.456 8.5.5.5 0 01.04.285l-.487 3.127 3.232-.449a.5.5 0 01.27.037A6 6 0 108 2zM1 8a7 7 0 114.33 6.473l-3.095.43a1 1 0 01-1.126-1.144l.464-2.982A6.979 6.979 0 011 8z",clipRule:"evenodd"})))).displayName="CommentCircleLeftOutlined";function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},of.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",rf({width:16,height:17,fill:"none",viewBox:"0 0 16 17",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M3 15.239h10a1.5 1.5 0 001.5-1.5v-10a1.5 1.5 0 00-1.5-1.5H3a1.5 1.5 0 00-1.5 1.5v10a1.5 1.5 0 001.5 1.5zm3.5-1v-11h3v11h-3zm-1 0H3a.5.5 0 01-.5-.5v-10a.5.5 0 01.5-.5h2.5v11zm5-11v11H13a.5.5 0 00.5-.5v-10a.5.5 0 00-.5-.5h-2.5z",clipRule:"evenodd"})))).displayName="ConfigureColumnsOutlined";const sf=e.forwardRef(((t,n)=>e.createElement("svg",of({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n,color:"#707070"},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.354 2.146A.5.5 0 008.5 2.5v3h-1A6.5 6.5 0 001 12a.5.5 0 001 0 1.5 1.5 0 011.5-1.5h5v3a.5.5 0 00.854.354l5.5-5.5a.5.5 0 000-.708l-5.5-5.5zM9.49 9.9A.501.501 0 019.5 10v2.293L13.793 8 9.5 3.707V6a.5.5 0 01-.5.5H7.5a5.5 5.5 0 00-5.001 3.209A2.492 2.492 0 013.5 9.5H9a.5.5 0 01.49.4z",clipRule:"evenodd"}))));sf.displayName="ForwardArrowOutlined";const lf=e.memo(sf);function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},af.apply(null,arguments)}const cf=e.forwardRef(((t,n)=>e.createElement("svg",af({width:16,height:16,fill:"#333333",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"currentColor",d:"M9.025 9.154L7.29 7.42l-3.294 3.294a.192.192 0 00-.058.141c0 .056.02.103.058.141l1.45 1.452a.192.192 0 00.142.057c.055 0 .102-.019.14-.057l3.296-3.295zm-1.02-2.446L9.737 8.44l3.303-3.304a.2.2 0 00.058-.147.2.2 0 00-.058-.148l-1.438-1.438a.2.2 0 00-.147-.058.2.2 0 00-.148.058L8.004 6.708zM6.95 6.356l3.139 3.139-3.657 3.656a1.156 1.156 0 01-.843.362c-.322 0-.603-.12-.844-.362l-.084-.084-.25.248a1.201 1.201 0 01-.85.352H2.195c-.138 0-.232-.062-.281-.184-.05-.123-.025-.233.073-.332l1.38-1.38-.072-.071a1.156 1.156 0 01-.362-.844c0-.32.121-.602.362-.843L6.95 6.356zm0 0l3.662-3.661c.24-.241.522-.362.844-.362.32 0 .602.12.843.362l1.451 1.451c.241.241.362.522.362.844 0 .321-.12.602-.362.843L10.09 9.495 6.95 6.356z"}))));cf.displayName="HighlighterOutlined";const uf=e.memo(cf);function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},df.apply(null,arguments)}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ff.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",df({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M1.5 4A2.5 2.5 0 014 1.5h8A2.5 2.5 0 0114.5 4v8a2.5 2.5 0 01-2.5 2.5H4A2.5 2.5 0 011.5 12V4zm1 6.207V12A1.5 1.5 0 004 13.5h7.793L6.56 8.268a1.5 1.5 0 00-2.122 0L2.5 10.208zm10.404 2.99L7.268 7.561a2.5 2.5 0 00-3.536 0L2.5 8.793V4A1.5 1.5 0 014 2.5h8A1.5 1.5 0 0113.5 4v8c0 .489-.234.923-.596 1.197zM8.5 5.75a1.75 1.75 0 113.5 0 1.75 1.75 0 01-3.5 0zM10.25 5a.75.75 0 100 1.5.75.75 0 000-1.5z",clipRule:"evenodd"})))).displayName="ImageSquareOutlined";function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",ff({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M7.875 2c0-.345.28-.625.625-.625h4a.625.625 0 110 1.25h-1.583l-4.48 10.75H7.5a.625.625 0 110 1.25h-4a.625.625 0 110-1.25h1.583l4.48-10.75H8.5A.625.625 0 017.875 2z",clipRule:"evenodd"})))).displayName="ItalicsOutlined";function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",gf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M9.354 3.354a2.328 2.328 0 013.293 3.292l-1.88 1.88a2.5 2.5 0 01-3.535 0l-.378-.38a.5.5 0 10-.707.708l.378.378a3.5 3.5 0 004.95 0l1.879-1.878a3.328 3.328 0 00-4.707-4.708l-1.5 1.5a.5.5 0 10.707.708l1.5-1.5z"}),e.createElement("path",{fill:"#707070",d:"M5.232 7.475a2.5 2.5 0 013.536 0l.379.379a.5.5 0 00.707-.708l-.379-.378a3.5 3.5 0 00-4.95 0L2.647 8.646a3.328 3.328 0 104.707 4.707l1.5-1.5a.5.5 0 10-.707-.707l-1.5 1.5a2.328 2.328 0 01-3.293-3.292l1.878-1.88z"})))).displayName="LinkOutlined";function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",hf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M2.5 2a1 1 0 100 2 1 1 0 000-2zM6 2.5a.5.5 0 000 1h8a.5.5 0 000-1H6zM6 7.5a.5.5 0 000 1h8a.5.5 0 000-1H6zM5.5 13a.5.5 0 01.5-.5h8a.5.5 0 010 1H6a.5.5 0 01-.5-.5zM1.5 8a1 1 0 112 0 1 1 0 01-2 0zM2.5 12a1 1 0 100 2 1 1 0 000-2z"})))).displayName="ListBulletsOutlined";function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",pf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("g",{fill:"#707070",clipPath:"url(#ListNumberedOutlined_svg__clip0_47_1321)"},e.createElement("path",{d:"M2.89 1.684a1.13 1.13 0 01.301-.161.698.698 0 01.238-.049c.06 0 .133.01.217.028a.573.573 0 01.238.119c.08.056.145.138.196.245.051.107.077.252.077.434v3.612c0 .14-.023.254-.07.343a.554.554 0 01-.154.196.47.47 0 01-.196.091.627.627 0 01-.168.028.704.704 0 01-.175-.028.471.471 0 01-.189-.091.626.626 0 01-.161-.196.804.804 0 01-.063-.343V2.86l-.532.413a.576.576 0 01-.196.105.574.574 0 01-.168.028.499.499 0 01-.357-.14.516.516 0 01-.077-.602.75.75 0 01.224-.238l1.015-.742zM2.155 14c-.163 0-.296-.019-.399-.056a.643.643 0 01-.224-.147.51.51 0 01-.105-.189.82.82 0 01-.021-.168c0-.047.005-.096.014-.147a.604.604 0 01.056-.161 1.5 1.5 0 01.329-.406l1.603-1.456c.121-.112.22-.229.294-.35a.796.796 0 00.112-.413.564.564 0 00-.168-.427.605.605 0 00-.448-.168.63.63 0 00-.364.105.793.793 0 00-.245.266.912.912 0 01-.231.273.5.5 0 01-.322.112.508.508 0 01-.385-.154.527.527 0 01-.147-.378c0-.06.01-.121.028-.182.023-.065.047-.119.07-.161.163-.275.39-.49.679-.644.29-.159.616-.238.98-.238.229 0 .45.03.665.091.215.06.406.154.574.28a1.4 1.4 0 01.553 1.148c0 .177-.023.338-.07.483-.047.14-.112.27-.196.392-.08.121-.173.236-.28.343-.103.103-.21.205-.322.308l-1.148 1.022h1.526a.66.66 0 01.294.056c.075.037.13.084.168.14.042.051.07.107.084.168a.617.617 0 01.021.147.705.705 0 01-.021.154.473.473 0 01-.252.301.66.66 0 01-.294.056H2.155zM6 3a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7A.5.5 0 016 3zM6 8a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7A.5.5 0 016 8zM6 13a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7A.5.5 0 016 13z"})),e.createElement("defs",null,e.createElement("clipPath",{id:"ListNumberedOutlined_svg__clip0_47_1321"},e.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))).displayName="ListNumberedOutlined";function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",mf({width:16,height:17,fill:"none",viewBox:"0 0 16 17",ref:n},t),e.createElement("g",{fill:"#707070",clipPath:"url(#ListTickOutlined_svg__clip0_47_6856)"},e.createElement("path",{d:"M1.5 3.239a.5.5 0 000 1h13a.5.5 0 000-1h-13zM14.845 12.1a.5.5 0 10-.69-.723l-2.805 2.671-1.005-.957a.5.5 0 10-.69.724l1.35 1.286a.5.5 0 00.69 0l3.15-3zM1 8.739a.5.5 0 01.5-.5h13a.5.5 0 010 1h-13a.5.5 0 01-.5-.5zM1.5 13.239a.5.5 0 100 1h6a.5.5 0 000-1h-6z"})),e.createElement("defs",null,e.createElement("clipPath",{id:"ListTickOutlined_svg__clip0_47_6856"},e.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z",transform:"translate(0 .739)"})))))).displayName="ListTickOutlined";const _f=e.forwardRef(((t,n)=>e.createElement("svg",yf({width:16,height:16,fill:"#1C1B1F",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"currentColor",d:"M4.5 8.5v-1h7v1h-7z"}))));_f.displayName="MinusOutlined";const bf=e.memo(_f);function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vf.apply(null,arguments)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",vf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M8.375 3.5a.375.375 0 10-.75 0v4.125H3.5a.375.375 0 100 .75h4.125V12.5a.375.375 0 00.75 0V8.375H12.5a.375.375 0 000-.75H8.375V3.5z"})))).displayName="PlusOutlined";function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",xf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M8.14 2.838a.5.5 0 01.472-.338H14a.5.5 0 010 1H8.97l-3.313 9.662a.5.5 0 01-.945.005L3.062 8.5H2a.5.5 0 010-1h1.415a.5.5 0 01.471.333l1.29 3.647L8.14 2.838z"}),e.createElement("path",{fill:"#707070",d:"M13.854 6.646a.5.5 0 010 .708L12.207 9l1.647 1.646a.5.5 0 01-.708.708L11.5 9.707l-1.646 1.647a.5.5 0 01-.708-.708L10.793 9 9.146 7.354a.5.5 0 11.708-.708L11.5 8.293l1.646-1.647a.5.5 0 01.708 0z"})))).displayName="RootCrossOutlined";function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Cf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M10.475 10.475a.5.5 0 00-.707-.707 2.5 2.5 0 01-3.536 0 .5.5 0 10-.707.707 3.5 3.5 0 004.95 0zM10.25 7.5a.75.75 0 100-1.5.75.75 0 000 1.5zM6.5 6.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M8 1a7 7 0 100 14A7 7 0 008 1zM2 8a6 6 0 1112 0A6 6 0 012 8z",clipRule:"evenodd"})))).displayName="SmileySatisfiedEyesOutlined";function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",wf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("rect",{width:12,height:12,x:2,y:2,fill:"#333",rx:2.5})))).displayName="SvgSquareFilled";const Ef=e.forwardRef(((t,n)=>e.createElement("svg",Sf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M7.832 2.4c-1.718 0-3.11 1.381-3.11 3.085 0 .418.084.817.236 1.18h1.316a1.926 1.926 0 01-.402-1.18c0-1.074.877-1.944 1.96-1.944h2.791a.573.573 0 00.575-.57.573.573 0 00-.575-.571H7.832zM9.36 8.572c-.469 0-.857 0-1.272-.002 1.083 0 1.96.87 1.96 1.945a1.952 1.952 0 01-1.96 1.944H5.297a.573.573 0 00-.575.57c0 .316.257.571.575.571h2.791c1.718 0 3.11-1.381 3.11-3.085 0-.737-.26-1.413-.694-1.943H9.36z",clipRule:"evenodd"}),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M3.2 8.001c0-.315.257-.57.575-.57h8.37c.318 0 .575.255.575.57 0 .315-.257.57-.575.57H3.774a.573.573 0 01-.574-.57z",clipRule:"evenodd"}))));Ef.displayName="SvgStrikethroughOutlined";const kf=e.memo(Ef);function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(null,arguments)}const Tf=e.forwardRef(((t,n)=>e.createElement("svg",Nf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M9.657 12.165a.498.498 0 10.71-.7L6.96 8.005l3.52-3.469a.49.49 0 10-.688-.698l-3.52 3.47-3.468-3.523a.498.498 0 10-.71.7l3.468 3.522-3.457 3.408a.49.49 0 00.688.698L6.25 8.705l3.407 3.46zM11.773 10.058a.49.49 0 00-.493.486.49.49 0 00.493.486h1.116c.202 0 .366.161.366.36 0 .2-.164.36-.366.36h-.247c-.752 0-1.362.6-1.362 1.341 0 .74.61 1.341 1.362 1.341h1.107a.49.49 0 00.493-.486.49.49 0 00-.493-.486h-1.107a.372.372 0 01-.375-.369c0-.203.168-.368.375-.368h.247c.747 0 1.354-.597 1.354-1.333s-.607-1.332-1.354-1.332h-1.116z"}))));Tf.displayName="SvgSubscriptOutlined";const Of=e.memo(Tf);function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ff.apply(null,arguments)}const Af=e.forwardRef(((t,n)=>e.createElement("svg",Ff({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M11.772 1.599a.492.492 0 00-.494.49c0 .27.221.49.494.49h1.115c.202 0 .366.163.366.364 0 .2-.164.363-.366.363h-.247c-.752 0-1.362.606-1.362 1.353s.61 1.353 1.362 1.353h1.107c.273 0 .494-.22.494-.49 0-.272-.221-.491-.494-.491H12.64a.373.373 0 01-.374-.372c0-.205.168-.372.374-.372h.247c.748 0 1.354-.602 1.354-1.344 0-.743-.606-1.344-1.354-1.344h-1.115zM2.101 11.493a.492.492 0 00.695.698L6.25 8.755l3.404 3.489a.498.498 0 10.714-.697L6.958 8.052l3.524-3.504a.492.492 0 00-.694-.698L6.27 7.348 2.804 3.796a.498.498 0 00-.713.696l3.472 3.559-3.462 3.442z"}))));Af.displayName="SvgSuperscriptOutlined";const Lf=e.memo(Af);function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pf.apply(null,arguments)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Pf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M4 1.5A2.5 2.5 0 001.5 4v8A2.5 2.5 0 004 14.5h8a2.5 2.5 0 002.5-2.5V4A2.5 2.5 0 0012 1.5H4zm9.5 8v-3h-5v3h5zm-5 1h5V12a1.5 1.5 0 01-1.5 1.5H8.5v-3zm-1-1v-3h-5v3h5zm-5 1h5v3H4A1.5 1.5 0 012.5 12v-1.5zm0-5h5v-3H4A1.5 1.5 0 002.5 4v1.5zm6 0h5V4A1.5 1.5 0 0012 2.5H8.5v3z",clipRule:"evenodd"})))).displayName="SvgTableOutlined";function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Rf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M2 3a.5.5 0 000 1h12a.5.5 0 000-1H2zM2 9a.5.5 0 000 1h12a.5.5 0 000-1H2zM3.5 6.5A.5.5 0 014 6h8a.5.5 0 010 1H4a.5.5 0 01-.5-.5zM4 12a.5.5 0 000 1h8a.5.5 0 000-1H4z"})))).displayName="SvgTextAlignCenterOutlined";function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},If.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Mf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M2 3a.5.5 0 000 1h12a.5.5 0 000-1H2zM2 9a.5.5 0 000 1h12a.5.5 0 000-1H2zM1.5 6.5A.5.5 0 012 6h12a.5.5 0 010 1H2a.5.5 0 01-.5-.5zM2 12a.5.5 0 000 1h12a.5.5 0 000-1H2z"})))).displayName="SvgTextAlignJustifiedOutlined";function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",If({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M2 3a.5.5 0 000 1h12a.5.5 0 000-1H2zM2 9a.5.5 0 000 1h12a.5.5 0 000-1H2zM1.5 6.5A.5.5 0 012 6h8a.5.5 0 010 1H2a.5.5 0 01-.5-.5zM2 12a.5.5 0 000 1h8a.5.5 0 000-1H2z"})))).displayName="SvgTextAlignLeftOutlined";function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",zf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M2 3a.5.5 0 000 1h12a.5.5 0 000-1H2zM2 9a.5.5 0 000 1h12a.5.5 0 000-1H2zM5.5 6.5A.5.5 0 016 6h8a.5.5 0 010 1H6a.5.5 0 01-.5-.5zM6 12a.5.5 0 000 1h8a.5.5 0 000-1H6z"})))).displayName="SvgTextAlignRightOutlined";function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Df({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M3 1.75a.75.75 0 00-.75.75v11c0 .414.336.75.75.75h7.25a3.5 3.5 0 001.573-6.627A3.5 3.5 0 009.25 1.75H3zm6.25 5.5a2 2 0 100-4h-5.5v4h5.5zm-5.5 1.5v4h6.5a2 2 0 100-4h-6.5z",clipRule:"evenodd"})))).displayName="SvgTextBoldOutlined";const $f=e.forwardRef(((t,n)=>e.createElement("svg",Bf({width:16,height:16,fill:"#333333",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.028 3.243a.498.498 0 01.26.267l3.519 7.904a.5.5 0 01-.914.407L6.726 9.2H2.924l-1.167 2.62a.5.5 0 01-.914-.407l3.52-7.904a.498.498 0 01.665-.267zM6.281 8.2L4.825 4.93 3.369 8.2H6.28zM8.466 9.2a3 3 0 015.192-2.048V6.7a.5.5 0 111 0v5a.5.5 0 11-1 0v-.452A3 3 0 018.466 9.2zm3-2a2 2 0 100 4 2 2 0 000-4z",clipRule:"evenodd"}))));$f.displayName="SvgTextCaseOutlined";const jf=e.memo($f);function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(null,arguments)}const Hf=e.forwardRef(((t,n)=>e.createElement("svg",Kf({width:16,height:16,fill:"#333333",viewBox:"0 0 16 14",ref:n},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.952 12.453a.5.5 0 01-.242-.664L7.542 3.57a.5.5 0 01.455-.29.5.5 0 01.455.29l3.832 8.218a.5.5 0 11-.906.422l-.77-1.652H5.386l-.77 1.652a.5.5 0 01-.664.242zm6.19-2.893l-2.145-4.6-2.144 4.6h4.289z",clipRule:"evenodd"}))));Hf.displayName="SvgTextColorOutlined";const Wf=e.memo(Hf);function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uf.apply(null,arguments)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Uf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round",d:"M2.5 8L5 5.5 2.5 3"}),e.createElement("path",{stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M7.5 3h6M7.5 8h6M2.5 13h11"})))).displayName="SvgTextIndent";const Vf=e.forwardRef(((t,n)=>e.createElement("svg",Jf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M2.259 8.916c0-1.507 1.205-2.728 2.693-2.728 1.487 0 2.693 1.221 2.693 2.728 0 1.506-1.206 2.728-2.693 2.728-1.488 0-2.693-1.222-2.693-2.728zm2.693-3.75c-2.045 0-3.702 1.679-3.702 3.75 0 2.07 1.657 3.75 3.702 3.75a3.67 3.67 0 002.704-1.19v.598c0 .276.226.5.504.5a.502.502 0 00.505-.5V5.82c0-.276-.226-.5-.505-.5a.502.502 0 00-.504.5v.534a3.67 3.67 0 00-2.704-1.19zm6.913 7.232a.5.5 0 00.726 0l2.017-2.125a.52.52 0 00-.012-.726.498.498 0 00-.713.012l-1.15 1.212V5.878a.509.509 0 00-.505-.513.509.509 0 00-.505.513v4.893l-1.15-1.212a.498.498 0 00-.713-.012.52.52 0 00-.012.726l2.017 2.125z",clipRule:"evenodd"}))));Vf.displayName="SvgTextLowercaseOutlined";const qf=e.memo(Vf);function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf.apply(null,arguments)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Zf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M7.5 3h6M7.5 8h6M2.5 13h11"}),e.createElement("path",{stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round",d:"M5 8L2.5 5.5 5 3"})))).displayName="SvgTextOutdent";function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Yf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M1 2a.5.5 0 01.5-.5h10.833a.5.5 0 110 1H7.417V14a.5.5 0 01-1 0V2.5H1.5A.5.5 0 011 2z"}),e.createElement("path",{fill:"#707070",d:"M14.5 8.045a.5.5 0 110 1h-2.208V14a.5.5 0 11-1 0V9.045H9.083a.5.5 0 010-1H14.5z"})))).displayName="SvgTextTOutlined";function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",Gf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M4 2a.5.5 0 00-1 0v5.5a5 5 0 0010 0V2a.5.5 0 00-1 0v5.5a4 4 0 01-8 0V2zM2.5 14a.5.5 0 000 1h11a.5.5 0 000-1h-11z"})))).displayName="SvgTextUnderlinedOutlined";const Qf=e.forwardRef(((t,n)=>e.createElement("svg",Xf({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M6.229 3.467a.5.5 0 01.259.268l3.519 7.943a.504.504 0 01-.254.664.499.499 0 01-.66-.255L7.926 9.453H4.124l-1.167 2.634a.499.499 0 01-.66.255.503.503 0 01-.254-.664l3.52-7.943a.5.5 0 01.666-.268zM7.48 8.448L6.025 5.162 4.57 8.448h2.912zM12 5.389c.136 0 .265.055.36.153l2 2.08c.191.199.186.517-.012.71a.498.498 0 01-.708-.012L12.5 7.134v4.787a.501.501 0 01-.5.503.501.501 0 01-.5-.503V7.134L10.36 8.32a.498.498 0 01-.708.012.504.504 0 01-.011-.71l2-2.08A.499.499 0 0112 5.389z",clipRule:"evenodd"}))));Qf.displayName="SvgTextUppercaseOutlined";const eg=e.memo(Qf);function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tg.apply(null,arguments)}const ng=e.forwardRef(((t,n)=>e.createElement("svg",tg({width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n},t),e.createElement("path",{fill:"#707070",d:"M1.5 6a.5.5 0 000 1h13a.5.5 0 000-1h-13zM1.5 9a.5.5 0 000 1h6a.5.5 0 000-1h-6z"}))));ng.displayName="SvgTwoLinesOutlined";const rg=e.memo(ng);function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},og.apply(null,arguments)}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ig.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",og({width:16,height:17,fill:"none",viewBox:"0 0 16 17",ref:n},t),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M3.5 3.739a2.5 2.5 0 00-2.5 2.5v5a2.5 2.5 0 002.5 2.5h6a2.5 2.5 0 002.5-2.5v-.793l1.293 1.293c.63.63 1.707.183 1.707-.707V6.306a1 1 0 00-1.64-.768L12 6.671V6.24a2.5 2.5 0 00-2.5-2.5h-6zM12 7.973v1.059l2 2V6.306l-2 1.667zm-1-1.734a1.5 1.5 0 00-1.5-1.5h-6a1.5 1.5 0 00-1.5 1.5v5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5v-5z",clipRule:"evenodd"})))).displayName="SvgVideoOutlined";function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg.apply(null,arguments)}e.forwardRef(((t,n)=>e.createElement("svg",ig({width:16,height:17,fill:"none",viewBox:"0 0 16 17",ref:n},t),e.createElement("path",{fill:"#707070",d:"M7.8 8.339a.5.5 0 00-.8.4v3a.5.5 0 00.8.4l2-1.5a.5.5 0 000-.8l-2-1.5z"}),e.createElement("path",{fill:"#707070",fillRule:"evenodd",d:"M4 2.239a2.5 2.5 0 00-2.5 2.5v8a2.5 2.5 0 002.5 2.5h8a2.5 2.5 0 002.5-2.5v-8a2.5 2.5 0 00-2.5-2.5H4zm1.5 1H4a1.5 1.5 0 00-1.5 1.5v.5h3v-2zm1 2v-2h3v2h-3zm-4 1v6.5a1.5 1.5 0 001.5 1.5h8a1.5 1.5 0 001.5-1.5v-6.5h-11zm8-3v2h3v-.5a1.5 1.5 0 00-1.5-1.5h-1.5z",clipRule:"evenodd"})))).displayName="SvgVideosOutlined";const lg=e.forwardRef(((t,n)=>e.createElement("svg",sg({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 20 20",fill:"none",ref:n,color:"#707070"},t),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.875 5C1.875 3.27411 3.27411 1.875 5 1.875H15C16.7259 1.875 18.125 3.27411 18.125 5V15C18.125 16.7259 16.7259 18.125 15 18.125H5C3.27411 18.125 1.875 16.7259 1.875 15V5ZM5 3.125C3.96447 3.125 3.125 3.96447 3.125 5V15C3.125 16.0355 3.96447 16.875 5 16.875H15C16.0355 16.875 16.875 16.0355 16.875 15V5C16.875 3.96447 16.0355 3.125 15 3.125H5Z",fill:"currentColor"}),e.createElement("path",{d:"M6.25 9.375C5.90482 9.375 5.625 9.65482 5.625 10C5.625 10.3452 5.90482 10.625 6.25 10.625H13.75C14.0952 10.625 14.375 10.3452 14.375 10C14.375 9.65482 14.0952 9.375 13.75 9.375H6.25Z",fill:"currentColor"}))));lg.displayName="MinusSquareOutlined";const ag=e.memo(lg),cg="#000000",ug=()=>{const[n]=r(),[o,i]=(0,e.useState)(cg),s=(0,e.useRef)(null),l=(0,e.useCallback)((e=>{i(e),s.current=e,n.update((()=>{const t=ir();Kn(t)&&cl(t,{color:`${e}`}),n.focus()}))}),[n]),a=(0,e.useCallback)((()=>{n.getEditorState().read((()=>{const e=ir();if(Kn(e)){const t=e.getNodes().map((e=>{const t=e.getStyle?.();return(e=>{if(!e)return cg;const t=e.match(/color:\s*(#[0-9a-fA-F]{3,6})\s*;/);return t?t[1]:cg})(t)})).filter((e=>void 0!==e));if(t.length){const e=1===t.length?t[0]:cg;i(e),s.current=e}}}))}),[n]);(0,e.useEffect)((()=>{const e=n.registerUpdateListener((()=>{a()}));return()=>e()}),[n,a]);const c=e=>t().createElement("div",{className:"tde-dropdownOverlay"},t().createElement("div",{className:"tde-padding-x tde-padding-t tde-default-list-col"},t().createElement("div",{className:"color-grid-wrapper"},Wd.map(((n,r)=>t().createElement("div",{className:"color-grid",key:r},n.map(((n,o)=>t().createElement("button",{className:"color-grid-cell",key:`${r}-${o}`,style:{backgroundColor:n.color,border:n.border?"1px solid #e5e7eb":"none"},onClick:t=>{t.stopPropagation(),l(n.color),e.handleClick()}})))))))),t().createElement("span",{className:"tde-hr"}),t().createElement("div",{className:"tde-padding-x tde-padding-b tde-default-list-col"},t().createElement("button",{type:"button",onClick:()=>{$d(n,["color"]),e.handleClick()},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement(ag,{width:20,height:20}),t().createElement("span",{className:"text",style:{marginTop:2}},"Clear")))));return t().createElement(Jd,{trigger:()=>t().createElement("button",{className:" tde-font-color-trigger-parent "},t().createElement("div",{className:"tde-font-color-trigger"},t().createElement("div",{className:"icon"},t().createElement(Wf,null),t().createElement("span",{className:"underline",style:{"--font-color":o}})),t().createElement(cd,null)))},t().createElement(c,null))},dg=72,fg=(e,t)=>{if(!t)return e;let n=e;switch(t){case 2:switch(!0){case e>dg:n=dg;break;case e>=48:n-=12;break;case e>=24:n-=4;break;case e>=14:n-=2;break;case e>=9:n-=1;break;default:n=6}break;case 1:switch(!0){case e<6:n=6;break;case e<12:n+=1;break;case e<20:n+=2;break;case e<36:n+=4;break;case e<=60:n+=12;break;default:n=dg}}return n},gg=(e,t,n)=>{const r=e=>(e||(e="16px"),e=e.slice(0,-2),`${fg(Number(e),n)}px`);e.update((()=>{if(e.isEditable()){const e=ir();null!==e&&cl(e,{"font-size":t||r})}}))},hg=(e,t,n)=>{if(""!==n){const r=fg(Number(n),t);gg(e,String(r)+"px",null)}else gg(e,null,t)},pg=["6","8","10","12","16","20","24","28","32","36","48","62","72"],mg=()=>{const[n]=r(),[o,i]=t().useState(16),[s,l]=t().useState(!1),a=(0,e.useCallback)((()=>{hg(n,1,o)}),[n,o]),c=(0,e.useCallback)((()=>{hg(n,2,o)}),[n,o]),u=e=>{const t=Number(o);if("Tab"!==e.key){if(["e","E","+","-"].includes(e.key)||isNaN(t))return e.preventDefault(),void i("");l(!0),"Enter"!==e.key&&"Escape"!==e.key||(e.preventDefault(),f(t))}},d=()=>{if(""!==o&&s){const e=Number(o);f(e)}},f=e=>{let t=e;e>dg?t=dg:e<6&&(t=6),i(String(t)),gg(n,String(t)+"px",null),l(!1)};(0,e.useEffect)((()=>Kd((e=>{e.metaKey&&e.shiftKey&&","===e.key?c():e.metaKey&&e.shiftKey&&"."===e.key&&a()}))),[n,c,a]);const g=(0,e.useCallback)((()=>{const e=ir();if(Kn(e)){let t=function(e,t,n=""){let r=null;const o=e.getNodes(),i=e.anchor,s=e.focus,l=e.isBackward(),a=l?s.offset:i.offset,c=l?s.getNode():i.getNode();if(Kn(e)&&e.isCollapsed()&&""!==e.style){const n=ol(e.style);if(null!==n&&t in n)return n[t]}for(let e=0;e<o.length;e++){const i=o[e];if((0===e||0!==a||!i.is(c))&&Ln(i)){const e=hl(i,t,n);if(null===r)r=e;else if(r!==e){r="";break}}}return null===r?n:r}(e,"font-size","16px");""!==t?(t=Number(t.replaceAll("px","")),i(t)):i(t)}}),[]),h=e=>t().createElement("div",{className:"font-size-options-wrapper no-scrollbar"},pg.map(((n,r)=>t().createElement("button",{key:r,type:"button",onClick:()=>{f(n),e.handleClick()},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded font-size-options"},n))));return(0,e.useEffect)((()=>Bs(n.registerCommand(We,(()=>(g(),!1)),so),n.registerUpdateListener((e=>{let{editorState:t}=e;t.read((()=>{g()}))})))),[n,g]),t().createElement("div",{className:"tde-font-size-control-wrapper"},t().createElement("button",{type:"button",onClick:()=>{hg(n,2,o)},disabled:""!==o&&Number(o)<=6,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded control-btn-wrapper"},t().createElement("span",{className:"controls"},t().createElement(bf,null))),t().createElement(Jd,{className:"font-size-dropdown",trigger:()=>t().createElement("input",{className:"font-counter",title:"Font size",value:o,min:6,max:dg,onChange:e=>i(e.target.value),onKeyDown:u,onBlur:d})},t().createElement(h,null)),t().createElement("button",{type:"button",onClick:a,disabled:""!==o&&Number(o)>=dg,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded control-btn-wrapper"},t().createElement("span",{className:"controls"},t().createElement(Zd,{width:12,height:12}))))},yg=nd("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),_g=()=>{const[n,o]=(0,e.useState)(!1),[i]=r();(0,e.useEffect)((()=>i.registerUpdateListener((e=>{let{editorState:t}=e;t.read((()=>{const e=ir();if(!e)return o(!1);const t=function(e){const t=e.anchor,n=e.focus,r=e.anchor.getNode(),o=e.focus.getNode();return r===o?r:e.isBackward()?sl(n)?r:o:sl(t)?o:r}(e);ec(t.getParent())||ec(t)?o(!0):o(!1)}))}))),[i]);const s=(0,e.useCallback)((()=>{i.read((()=>{if(n)i.dispatchCommand(oc,null);else{const e=ir();i.dispatchCommand(oc,e.getTextContent())}}))}),[i,n]);return(0,e.useEffect)((()=>Kd((e=>{e.metaKey&&e.shiftKey&&"l"===e.key&&s()}))),[i,s]),t().createElement(t().Fragment,null,t().createElement(Uu,{variant:"neutral",type:"plain",dsVersion:"2.0",icon:t().createElement(yg,null),onClick:s,isActivated:n,size:"small",tooltip:"Strikethrough text"}))},bg=()=>{const[n,o]=(0,e.useState)(!1),[i]=r();return(0,e.useEffect)((()=>i.registerCommand(At,(e=>(o(e),!1)),1)),[i]),t().createElement(Uu,{variant:"neutral",type:"plain",dsVersion:"2.0",icon:t().createElement(Xd,{color:n?"#333333":"#979797"}),size:"small",tooltip:"Undo",disabled:!n,onClick:()=>{i.dispatchCommand(nt,void 0)},"aria-label":"undo"})},vg=()=>{const[n,o]=(0,e.useState)(!1),[i]=r();return(0,e.useEffect)((()=>i.registerCommand(Ft,(e=>(o(e),!1)),1)),[i]),t().createElement(Uu,{variant:"neutral",type:"plain",dsVersion:"2.0",icon:t().createElement(lf,{color:n?"#333333":"#979797"}),size:"small",tooltip:"Undo",disabled:!n,onClick:()=>{i.dispatchCommand(rt,void 0)},"aria-label":"undo"})},xg=nd("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Cg=()=>{const[n]=r(),[o,i]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=n.registerUpdateListener((e=>{let{editorState:t}=e;t.read((()=>{const e=ir();Kn(e)&&(e.hasFormat("uppercase")?i("uppercase"):e.hasFormat("lowercase")?i("lowercase"):e.hasFormat("capitalize")?i("capitalize"):e.hasFormat("strikethrough")?i("strikethrough"):e.hasFormat("subscript")?i("subscript"):e.hasFormat("superscript")?i("superscript"):i(null))}))}));return()=>{e()}}),[n]);const s=()=>t().createElement("div",{className:"tde-dropdownOverlay"},t().createElement("div",{className:"tde-toolbar-dropdown-nb"},t().createElement("button",{type:"button",onClick:()=>{n.dispatchCommand(tt,"lowercase")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement(qf,null),t().createElement("span",{className:"text"},"Lowercase"))),t().createElement("button",{type:"button",onClick:()=>{n.dispatchCommand(tt,"uppercase")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement(eg,null),t().createElement("span",{className:"text"},"Uppercase"))),t().createElement("button",{type:"button",isActivated:"capitalize"===o,onClick:()=>{n.dispatchCommand(tt,"capitalize")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement(jf,null),t().createElement("span",{className:"text"},"Capitalize"))),t().createElement("button",{type:"button",onClick:()=>{n.dispatchCommand(tt,"strikethrough")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement(kf,null),t().createElement("span",{className:"text"},"Strikethrough"))),t().createElement("button",{type:"button",onClick:()=>{n.dispatchCommand(tt,"subscript")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement(Of,null),t().createElement("span",{className:"text"},"Subscript"))),t().createElement("button",{type:"button",onClick:()=>{n.dispatchCommand(tt,"superscript")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement(Lf,null),t().createElement("span",{className:"text"},"Superscript")))),t().createElement("span",{className:"tde-hr"}),t().createElement("div",{className:"tde-toolbar-dropdown-nt"},t().createElement("button",{type:"button",onClick:()=>{$d(n,void 0)},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(xg,null)),t().createElement("span",{className:"text"},"Clear formatting")))));return t().createElement(Jd,{trigger:()=>t().createElement("button",{type:"button"},t().createElement("div",{className:"tde-dropdown-btn"},t().createElement(jf,null),t().createElement(cd,null)))},t().createElement(s,null))},wg=[[{label:"blue",color:"#BFFBFB",border:"#008394"},{label:"pink",color:"#FFDAE4",border:"#A61C58"},{label:"violet",color:"#E3E3FF",border:"#4242C3"},{label:"teal",color:"#C0F3E9",border:"#00644D"},{label:"yellow",color:"#FFEEBF",border:"#954300"}],[{label:"gray",color:"#E6E6E6",border:"#000000"},{label:"orange",color:"#FFE0D6",border:"#9F3C19"},{label:"purple",color:"#F3DCFF",border:"#832DAD"},{label:"green",color:"#E3F1C3",border:"#3E6100"},{label:"dakr pink",color:"#dae5fb",border:"#2468ff"}]],Sg="rgb(255,196,0)",Eg=()=>{const[n]=r(),[o,i]=(0,e.useState)(Sg),s=(0,e.useRef)(null),l=(0,e.useCallback)((e=>{i(e),s.current=e,n.update((()=>{const t=ir();Kn(t)&&cl(t,{background:`${e}`}),n.focus()}))}),[n]),a=(0,e.useCallback)((()=>{n.getEditorState().read((()=>{const e=ir();if(Kn(e)){const t=e.getNodes().map((e=>{const t=e.getStyle?.();return(e=>{if(!e)return Sg;const t=e.match(/background:\s*(#[0-9a-fA-F]{3,6})\s*;/);return t?t[1]:Sg})(t)})).filter((e=>void 0!==e));if(t.length){const e=1===t.length?t[0]:Sg;i(e),s.current=e}}}))}),[n]);(0,e.useEffect)((()=>{const e=n.registerUpdateListener((()=>{a()}));return()=>e()}),[n,a]);const c=e=>t().createElement("div",{className:"tde-dropdownOverlay-small"},t().createElement("div",{className:"tde-padding-x tde-padding-t tde-default-list-col"},wg.map(((n,r)=>t().createElement("div",{className:"color-grid",key:r},n.map(((n,o)=>t().createElement("button",{className:"color-grid-cell",key:`${r}-${o}`,style:{backgroundColor:n.color,border:n.border?"1px solid"+n.border:"none"},onClick:t=>{t.stopPropagation(),l(n.color),e.handleClick()}}))))))),t().createElement("span",{className:"tde-hr"}),t().createElement("div",{className:"tde-padding-x tde-padding-b tde-default-list-col"},t().createElement("button",{type:"button",onClick:()=>{$d(n,["background"]),e.handleClick()},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement(ag,{width:20,height:20}),t().createElement("span",{className:"text",style:{marginTop:2}},"Clear")))));return t().createElement(Jd,{trigger:()=>t().createElement("button",{className:"tde-font-highlight-trigger-parent"},t().createElement("div",{className:"tde-font-highlight-trigger"},t().createElement("div",{className:"icon"},t().createElement(uf,null),t().createElement("span",{className:"underline",style:{"--font-color":o}})),t().createElement(cd,null)))},t().createElement(c,null))},kg=()=>t().createElement("div",{className:"tde-divider"});function Ng(n){let{className:o=""}=n;const[i]=r(),[s,l]=(0,e.useState)("paragraph"),[a,c]=(0,e.useState)("left"),[u,d]=(0,e.useState)({isBold:!1,isItalic:!1,isUnderline:!1}),f=(0,e.useCallback)((()=>{i.getEditorState().read((()=>{const e=ir();if(Kn(e)){d({isBold:e.hasFormat("bold"),isItalic:e.hasFormat("italic"),isUnderline:e.hasFormat("underline"),isHighlight:e.hasFormat("highlight")});const t=e.anchor.getNode();let n="root"===t.getKey()?t:Us(t,(e=>{const t=e.getParent();return null!==t&&fi(t)}));null===n&&(n=t.getTopLevelElementOrThrow()),c(Kr(n)&&""!==n.getFormatType()?n.getFormatType():"left");let r="paragraph";Ha(n)?r=n.getListType():Ul(n)?r=n.getTag():vd(n)&&(r="code"),l(r)}}))}),[i]);(0,e.useEffect)((()=>i.registerCommand(We,(()=>(setTimeout((()=>{f()}),0),!1)),4)),[i,f]);const g=e=>{"bold"===e?d((e=>({...e,isBold:!e.isBold}))):"italic"===e?d((e=>({...e,isItalic:!e.isItalic}))):"underline"===e&&d((e=>({...e,isUnderline:!e.isUnderline}))),i.dispatchCommand(tt,e)},h=()=>t().createElement("div",{className:"tde-dropdownOverlay"},t().createElement("div",{className:"tde-toolbar-dropdown-default"},Object.entries(Dd).map((e=>t().createElement(Yu,{key:e[0],variant:"neutral",type:"plain",dsVersion:"2.0",size:"small",onClick:()=>{Hd(i,e[0])},className:"list-item"},e[1].jsx))))),p=()=>t().createElement("div",{className:"tde-dropdownOverlay"},t().createElement("div",{className:"tde-toolbar-dropdown-default"},t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small",onClick:()=>{i.dispatchCommand(Iu,void 0)},className:"list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(rg,null)),t().createElement("span",{className:"text"},"Divider"))))),m=()=>t().createElement("div",{className:"tde-dropdownOverlay"},t().createElement("div",{className:"tde-toolbar-dropdown-nb"},t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small",onClick:()=>{i.dispatchCommand(xt,"left"),c("left")},isActivated:"left"===a,className:"list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(rd,null)),t().createElement("span",{className:"text"},"Left align"))),t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small",onClick:()=>{i.dispatchCommand(xt,"center"),c("center")},isActivated:"center"===a,className:"list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(od,null)),t().createElement("span",{className:"text"},"Center align"))),t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small",onClick:()=>{i.dispatchCommand(xt,"right"),c("right")},isActivated:"right"===a,className:"list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(id,null)),t().createElement("span",{className:"text"},"Right align"))),t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small",onClick:()=>{i.dispatchCommand(xt,"justify"),c("justify")},isActivated:"justify"===a,className:"list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(sd,null)),t().createElement("span",{className:"text"},"Justify align")))),t().createElement("span",{className:"tde-hr"}),t().createElement("div",{className:"tde-toolbar-dropdown-nt"},t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small",onClick:()=>{i.dispatchCommand(bt,void 0)},className:"list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(ld,null)),t().createElement("span",{className:"text"},"Outdent"))),t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small",onClick:()=>{i.dispatchCommand(_t,void 0)},className:"list-item"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(ad,null)),t().createElement("span",{className:"text"},"Indent")))));return t().createElement("div",{className:`tde-toolbar ${o}`},t().createElement(bg,null),t().createElement(vg,null),t().createElement(kg,null),t().createElement(Jd,{trigger:()=>t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small"},t().createElement("div",{className:"tde-dropdown-btn"},t().createElement("div",{className:"tde-toolbar-heading-block"},t().createElement("span",{className:"icon"},t().createElement(Zd,null)),t().createElement("span",{className:"text"},"Insert")),t().createElement(cd,null)))},t().createElement(p,null)),t().createElement(Jd,{trigger:()=>t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small"},t().createElement("div",{className:"tde-dropdown-btn"},Dd[s]?.jsx??s,t().createElement(cd,null)))},t().createElement(h,null)),t().createElement(kg,null),t().createElement(Jd,{trigger:()=>t().createElement(Yu,{variant:"neutral",type:"plain",dsVersion:"2.0",size:"small"},t().createElement("div",{className:"tde-dropdown-btn"},{left:t().createElement(rd,null),center:t().createElement(od,null),right:t().createElement(id,null),justify:t().createElement(sd,null)}[a]??t().createElement(rd,null),t().createElement(cd,null)))},t().createElement(m,null)),t().createElement(Cg,null),t().createElement(kg,null),t().createElement(mg,null),t().createElement(kg,null),t().createElement(Uu,{variant:"neutral",type:"plain",dsVersion:"2.0",icon:t().createElement(ud,null),onClick:()=>g("bold"),isActivated:u.isBold,size:"small",tooltip:"Bold"}),t().createElement(Uu,{variant:"neutral",type:"plain",dsVersion:"2.0",icon:t().createElement(dd,null),onClick:()=>g("italic"),isActivated:u.isItalic,size:"small",tooltip:"Italic"}),t().createElement(Uu,{variant:"neutral",type:"plain",dsVersion:"2.0",icon:t().createElement(fd,null),onClick:()=>g("underline"),isActivated:u.isUnderline,size:"small",tooltip:"Underline"}),t().createElement(_g,null),t().createElement(kg,null),t().createElement(ug,null),t().createElement(Eg,null))}const Tg=nd("clipboard-copy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]),Og=nd("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Fg=nd("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ag=nd("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),Lg=/^https?:\/\//,Pg=()=>{const[n]=r(),[o,i]=(0,e.useState)(!1),s=(0,e.useRef)(null),l=(0,e.useRef)(null),[a,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(""),[f,g]=(0,e.useState)(!1),[h,p]=(0,e.useState)(null),[m,y]=(0,e.useState)({}),[_,b]=(0,e.useState)(""),v=(0,e.useRef)(null),x=(0,e.useCallback)((()=>{const e=ir();if(Kn(e)){const t=jd(e),r=t.getParent();let o=null;ec(r)?(o=r,c(r.getURL()),b(r.getURL()),d(r.getTextContent())):ec(t)?(o=t,c(t.getURL()),b(t.getURL()),d(t.getTextContent())):(c(""),b(""),d(""));const i=s.current;if(!i)return;if(o){const t=n.getElementByKey(o.getKey());null!=t&&(!function(e,t){null===t||t.left<=0||t.top<=0?(e.style.opacity="0",e.style.top="-1000px",e.style.left="-1000px"):(e.style.opacity="1",e.style.top=`${t.top+t.height+window.pageYOffset+10}px`,e.style.left=`${t.left+window.pageXOffset}px`)}(i,t.getBoundingClientRect()),p(e))}}}),[n]);(0,e.useEffect)((()=>n.registerUpdateListener((e=>{let{editorState:t}=e;t.read((()=>x()))}))),[n,x,o]),(0,e.useEffect)((()=>{n.getEditorState().read((()=>x()))}),[n,x]),(0,e.useEffect)((()=>{f&&l.current&&l.current.focus()}),[f]),(0,e.useEffect)((()=>{_&&async function(e){if("string"!=typeof e||!e)return;const t=`https://api.microlink.io/?url=${encodeURIComponent(e)}`;try{const e=await fetch(t),{data:n}=await e.json();return n}catch(e){return console.error("Error:",e),null}}(_).then((e=>{e&&y(e)}))}),[_]);const C=(e,t)=>{null!==h&&""!==e&&(n.dispatchCommand(oc,e),n.update((()=>{const e=ir();if(!Kn(e))return;const n=e.getNodes();for(const e of n)ec(e.getParent())&&e instanceof Cn&&e.setTextContent(t);Io(null)}))),g(!1)};return(0,e.useEffect)((()=>n.registerUpdateListener((e=>{let{editorState:t}=e;t.read((()=>{const e=ir();if(!e)return v.current=!1,i(!1);const t=jd(e);ec(t.getParent())||ec(t)?(v.current=!0,i(!0)):(v.current=!1,i(!1))}))}))),[n]),t().createElement(t().Fragment,null,o?t().createElement("div",{ref:s,className:"link-editor"},f?t().createElement("div",{className:"link-edit"},t().createElement("div",{className:"inputs"},t().createElement("span",null,"Text"),t().createElement("input",{ref:l,value:u,onChange:e=>d(e.target.value)})),t().createElement("div",{className:"inputs"},t().createElement("span",null,"Url"),t().createElement("input",{ref:l,value:a,onChange:e=>c(e.target.value)})),t().createElement("div",{className:"flex-end"},t().createElement("button",{className:"link-btn-primary",onClick:()=>C(a,u),style:{fontSize:"14px"}},"Save"))):t().createElement("div",{className:"flex-column"},t().createElement("div",{className:"link-input"},t().createElement("div",{className:"flex-row"},t().createElement("img",{src:m?.logo?.url??"#",alt:"logo",className:"logo",style:{borderRadius:"5px"}}),t().createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"external-link"},a)),t().createElement("div",{className:"control-panel"},t().createElement(Uu,{dsVersion:"2.0",icon:t().createElement(Tg,null),onClick:()=>{window.navigator.clipboard.writeText(a)},onMouseDown:e=>e.preventDefault(),tooltip:"Copy link",size:"small",variant:"neutral",type:"plain"}),t().createElement(Uu,{dsVersion:"2.0",icon:t().createElement(Og,null),onClick:()=>g(!0),onMouseDown:e=>e.preventDefault(),tooltip:"Edit link",size:"small",variant:"neutral",type:"plain"}),t().createElement(Uu,{dsVersion:"2.0",icon:t().createElement(Fg,null),onClick:()=>n.dispatchCommand(oc,null),onMouseDown:e=>e.preventDefault(),tooltip:"Remove link",size:"small",variant:"neutral",type:"plain"}))),m?.title&&Lg.test(u)&&t().createElement("div",{className:"flex-column"},t().createElement("div",{className:"flex-row"},t().createElement("span",{className:"icon-square-20"},t().createElement(Ag,null)),t().createElement("span",{className:"suggestion-title"},m.title)),t().createElement("div",{className:"suggestion-block"},t().createElement("span",null,"Replace url with above text?"),t().createElement("button",{className:"link-btn-primary",onClick:()=>C(a,m.title),style:{fontSize:"14px"}},"Yes"))))):null)};function Rg(e,t){const n={};for(const r of e){const e=t(r);e&&(n[e]?n[e].push(r):n[e]=[r])}return n}function Mg(e){const t=Rg(e,(e=>e.type));return{element:t.element||[],multilineElement:t["multiline-element"]||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}const Ig=/[!-/:-@[-`{-~\s]/,zg=/^\s{0,3}$/;function Dg(e){if(!no(e))return!1;const t=e.getFirstChild();return null==t||1===e.getChildrenSize()&&Ln(t)&&zg.test(t.getTextContent())}function Bg(e,t,n,r){for(const o of t){if(!o.export)continue;const t=o.export(e,(e=>$g(e,n,r)));if(null!=t)return t}return Kr(e)?$g(e,n,r):Ur(e)?e.getTextContent():null}function $g(e,t,n,r,o){const i=[],s=e.getChildren();r||(r=[]),o||(o=[]);e:for(const e of s){for(const s of n){if(!s.export)continue;const l=s.export(e,(e=>$g(e,t,n,r,[...o,...r])),((e,n)=>jg(e,n,t,r,o)));if(null!=l){i.push(l);continue e}}hn(e)?i.push("\n"):Ln(e)?i.push(jg(e,e.getTextContent(),t,r,o)):Kr(e)?i.push($g(e,t,n,r,o)):Ur(e)&&i.push(e.getTextContent())}return i.join("")}function jg(e,t,n,r,o){const i=t.trim();let s=i;e.hasFormat("code")||(s=s.replace(/([*_`~\\])/g,"\\$1"));let l="",a="",c="";const u=Kg(e,!0),d=Kg(e,!1),f=new Set;for(const t of n){const n=t.format[0],o=t.tag;Hg(e,n)&&!f.has(n)&&(f.add(n),Hg(u,n)&&r.find((e=>e.tag===o))||(r.push({format:n,tag:o}),l+=o))}for(let t=0;t<r.length;t++){const n=Hg(e,r[t].format),i=Hg(d,r[t].format);if(n&&i)continue;const s=[...r];for(;s.length>t;){const e=s.pop();o&&e&&o.find((t=>t.tag===e.tag))||(e&&"string"==typeof e.tag&&(n?i||(c+=e.tag):a+=e.tag),r.pop())}break}return s=l+s+c,a+t.replace(i,(()=>s))}function Kg(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();if(!n){const r=e.getParentOrThrow();r.isInline()&&(n=t?r.getPreviousSibling():r.getNextSibling())}for(;n;){if(Kr(n)){if(!n.isInline())break;const e=t?n.getLastDescendant():n.getFirstDescendant();if(Ln(e))return e;n=t?n.getPreviousSibling():n.getNextSibling()}if(Ln(n))return n;if(!Kr(n))return null}return null}function Hg(e,t){return Ln(e)&&e.hasFormat(t)}function Wg(e){return Ln(e)&&!e.hasFormat("code")}function Ug(e,t,n){let r=function(e,t){const n=function(e,t){const n=e.match(t.openTagsRegExp);if(null==n)return null;for(const r of n){const n=r.replace(/^\s/,""),o=t.fullMatchRegExpByTag[n];if(null==o)continue;const i=e.match(o),s=t.transformersByTag[n];if(null!=i&&null!=s){if(!1!==s.intraword)return i;const{index:t=0}=i,n=e[t-1],r=e[t+i[0].length];if((!n||Ig.test(n))&&(!r||Ig.test(r)))return i}}return null}(e.getTextContent(),t);if(!n)return null;const r=n.index||0;return{endIndex:r+n[0].length,match:n,startIndex:r,transformer:t.transformersByTag[n[1]]}}(e,t),o=function(e,t){const n=e;let r,o,i,s;for(const e of t){if(!e.replace||!e.importRegExp)continue;const t=n.getTextContent().match(e.importRegExp);if(!t)continue;const l=t.index||0,a=e.getEndIndex?e.getEndIndex(n,t):l+t[0].length;!1!==a&&(void 0===r||void 0===o||l<r&&a>o)&&(r=l,o=a,i=e,s=t)}return void 0===r||void 0===o||void 0===i||void 0===s?null:{endIndex:o,match:s,startIndex:r,transformer:i}}(e,n);if(r&&o&&(r.startIndex<=o.startIndex&&r.endIndex>=o.endIndex?o=null:r=null),r){const o=function(e,t,n,r,o){const i=e.getTextContent();let s,l,a;if(o[0]===i?s=e:0===t?[s,l]=e.splitText(n):[a,s,l]=e.splitText(t,n),s.setTextContent(o[2]),r)for(const e of r.format)s.hasFormat(e)||s.toggleFormat(e);return{nodeAfter:l,nodeBefore:a,transformedNode:s}}(e,r.startIndex,r.endIndex,r.transformer,r.match);Wg(o.nodeAfter)&&Ug(o.nodeAfter,t,n),Wg(o.nodeBefore)&&Ug(o.nodeBefore,t,n),Wg(o.transformedNode)&&Ug(o.transformedNode,t,n)}else if(o){const r=function(e,t,n,r,o){let i,s,l;return 0===t?[i,s]=e.splitText(n):[l,i,s]=e.splitText(t,n),r.replace?{nodeAfter:s,nodeBefore:l,transformedNode:r.replace(i,o)||void 0}:null}(e,o.startIndex,o.endIndex,o.transformer,o.match);if(!r)return;Wg(r.nodeAfter)&&Ug(r.nodeAfter,t,n),Wg(r.nodeBefore)&&Ug(r.nodeBefore,t,n),Wg(r.transformedNode)&&Ug(r.transformedNode,t,n)}const i=e.getTextContent().replace(/\\([*_`~])/g,"$1");e.setTextContent(i)}function Jg(e,t,n,r){for(const o of n){const{handleImportAfterStartMatch:n,regExpEnd:i,regExpStart:s,replace:l}=o,a=e[t].match(s);if(!a)continue;if(n){const i=n({lines:e,rootNode:r,startLineIndex:t,startMatch:a,transformer:o});if(null===i)continue;if(i)return i}const c="object"==typeof i&&"regExp"in i?i.regExp:i,u=i&&"object"==typeof i&&"optional"in i?i.optional:!i;let d=t;const f=e.length;for(;d<f;){const n=c?e[d].match(c):null;if(!n&&(!u||u&&d<f-1)){d++;continue}if(n&&t===d&&n.index===a.index){d++;continue}const o=[];if(n&&t===d)o.push(e[t].slice(a[0].length,-n[0].length));else for(let r=t;r<=d;r++)if(r===t){const t=e[r].slice(a[0].length);o.push(t)}else if(r===d&&n){const t=e[r].slice(0,-n[0].length);o.push(t)}else o.push(e[r]);if(!1!==l(r,null,a,n,o,!0))return[!0,d];break}}return[!1,t]}function Vg(e,t,n,r,o){const i=An(e),s=to();s.append(i),t.append(s);for(const{regExp:t,replace:r}of n){const n=e.match(t);if(n&&(i.setTextContent(e.slice(n[0].length)),!1!==r(s,[i],n,!0)))break}if(Ug(i,r,o),s.isAttached()&&e.length>0){const e=s.getPreviousSibling();if(no(e)||Bl(e)||Ha(e)){let t=e;if(Ha(e)){const n=e.getLastDescendant();t=null==n?null:Us(n,Ia)}null!=t&&t.getTextContentSize()>0&&(t.splice(t.getChildrenSize(),0,[gn(),...s.getChildren()]),s.remove())}}}function qg(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Zg(e,t,n){const r=n.length;for(let o=t;o>=r;o--){const t=o-r;if(Yg(e,t,n,0,r)&&" "!==e[t+r])return t}return-1}function Yg(e,t,n,r,o){for(let i=0;i<o;i++)if(e[t+i]!==n[r+i])return!1;return!0}const Gg=/^(\s*)(\d{1,})\.\s/,Xg=/^(\s*)[-*+]\s/,Qg=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,eh=/^(#{1,6})\s/,th=/^>\s/,nh=/^[ \t]*```(\w+)?/,rh=/[ \t]*```$/,oh=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,ih=/^(?:\|)(.+)(?:\|)\s?$/,sh=/^(\| ?:?-*:? ?)+\|\s?$/,lh=e=>(t,n,r)=>{const o=e(r);o.append(...n),t.replace(o),o.select(0,0)},ah=e=>(t,n,r)=>{const o=t.getPreviousSibling(),i=t.getNextSibling(),s=Ma("check"===e?"x"===r[3]:void 0);if(Ha(i)&&i.getListType()===e){const e=i.getFirstChild();null!==e?e.insertBefore(s):i.append(s),t.remove()}else if(Ha(o)&&o.getListType()===e)o.append(s),t.remove();else{const n=Ka(e,"number"===e?Number(r[2]):void 0);n.append(s),t.replace(n)}s.append(...n),s.select(0,0);const l=function(e){const t=e.match(/\t/g),n=e.match(/ /g);let r=0;return t&&(r+=t.length),n&&(r+=Math.floor(n.length/4)),r}(r[1]);l&&s.setIndent(l)},ch=(e,t,n)=>{const r=[],o=e.getChildren();let i=0;for(const s of o)if(Ia(s)){if(1===s.getChildrenSize()){const e=s.getFirstChild();if(Ha(e)){r.push(ch(e,t,n+1));continue}}const o=" ".repeat(4*n),l=e.getListType(),a="number"===l?`${e.getStart()+i}. `:"check"===l?`- [${s.getChecked()?"x":" "}] `:"- ";r.push(o+a+t(s)),i++}return r.join("\n")},uh={dependencies:[$l],export:(e,t)=>{if(!Ul(e))return null;const n=Number(e.getTag().slice(1));return"#".repeat(n)+" "+t(e)},regExp:eh,replace:lh((e=>Wl("h"+e[1].length))),type:"element"},dh={dependencies:[zl],export:(e,t)=>{if(!Bl(e))return null;const n=t(e).split("\n"),r=[];for(const e of n)r.push("> "+e);return r.join("\n")},regExp:th,replace:(e,t,n,r)=>{if(r){const n=e.getPreviousSibling();if(Bl(n))return n.splice(n.getChildrenSize(),0,[gn(),...t]),n.select(0,0),void e.remove()}const o=Dl();o.append(...t),e.replace(o),o.select(0,0)},type:"element"},fh={dependencies:[_d],export:e=>{if(!vd(e))return null;const t=e.getTextContent();return"```"+(e.getLanguage()||"")+(t?"\n"+t:"")+"\n```"},regExpEnd:{optional:!0,regExp:rh},regExpStart:nh,replace:(e,t,n,r,o,i)=>{let s,l;if(!t&&o){if(1===o.length)r?(s=bd(),l=n[1]+o[0]):(s=bd(n[1]),l=o[0].startsWith(" ")?o[0].slice(1):o[0]);else{if(s=bd(n[1]),0===o[0].trim().length)for(;o.length>0&&!o[0].length;)o.shift();else o[0]=o[0].startsWith(" ")?o[0].slice(1):o[0];for(;o.length>0&&!o[o.length-1].length;)o.pop();l=o.join("\n")}const t=An(l);s.append(t),e.append(s)}else t&&lh((e=>bd(e?e[1]:void 0)))(e,t,n,i)},type:"multiline-element"},gh={dependencies:[za,Fa],export:(e,t)=>Ha(e)?ch(e,t,0):null,regExp:Xg,replace:ah("bullet"),type:"element"},hh={dependencies:[za,Fa],export:(e,t)=>Ha(e)?ch(e,t,0):null,regExp:Qg,replace:ah("check"),type:"element"},ph={dependencies:[za,Fa],export:(e,t)=>Ha(e)?ch(e,t,0):null,regExp:Gg,replace:ah("number"),type:"element"},mh={dependencies:[Ga],export:(e,t,n)=>{if(!ec(e))return null;const r=e.getTitle(),o=t(e);return r?`[${o}](${e.getURL()} "${r}")`:`[${o}](${e.getURL()})`},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(e,t)=>{const[,n,r,o]=t,i=Qa(r,{title:o}),s=An(n);return s.setFormat(e.getFormat()),i.append(s),e.replace(i),s},trigger:")",type:"text-match"},yh=[uh,dh,gh,ph,fh,{format:["code"],tag:"`",type:"text-format"},{format:["bold","italic"],tag:"***",type:"text-format"},{format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},{format:["bold"],tag:"**",type:"text-format"},{format:["bold"],intraword:!1,tag:"__",type:"text-format"},{format:["highlight"],tag:"==",type:"text-format"},{format:["italic"],tag:"*",type:"text-format"},{format:["italic"],intraword:!1,tag:"_",type:"text-format"},{format:["strikethrough"],tag:"~~",type:"text-format"},mh];const _h={dependencies:[Ga],export:(e,t)=>{if(!ec(e))return null;const n=e.getURL(),r=t(e);return n===r?n:`[${r}](${n})`},importRegExp:/((?:https?:\/\/|www\.)[^\s"'>]+)\s/,regExp:/((?:https?:\/\/|www\.)[^\s"'>]+)\s/,replace:(e,t)=>{const[,n]=t,r=Qa(n),o=An(n);o.setFormat(e.getFormat()),r.append(o),e.replace(r);const i=An(" ");return r.insertAfter(i),i},trigger:" ",type:"text-match"},bh=[...yh,_h,mh,hh];function vh(t){let{value:n,onChange:o}=t;const[i]=r();return(0,e.useEffect)((()=>{n&&i.update((()=>{const e=Ro();e.clear();const t=function(e,t=yh,n,r=!1,o=!1){const i=r?e:function(e,t=!1){const n=e.split("\n");let r=!1;const o=[];for(let e=0;e<n.length;e++){const i=n[e],s=o[o.length-1];oh.test(i)?o.push(i):nh.test(i)||rh.test(i)?(r=!r,o.push(i)):r||""===i||""===s||!s||eh.test(s)||eh.test(i)||th.test(i)||Gg.test(i)||Xg.test(i)||Qg.test(i)||ih.test(i)||sh.test(i)||!t?o.push(i):o[o.length-1]=s+i}return o.join("\n")}(e,o);return function(e,t=!1){const n=Mg(e),r=function(e){const t={},n={},r=[];for(const o of e){const{tag:e}=o;t[e]=o;const i=e.replace(/(\*|\^|\+)/g,"\\$1");r.push(i),1===e.length?n[e]=new RegExp(`(?<![\\\\${i}])(${i})((\\\\${i})?.*?[^${i}\\s](\\\\${i})?)((?<!\\\\)|(?<=\\\\\\\\))(${i})(?![\\\\${i}])`):n[e]=new RegExp(`(?<!\\\\)(${i})((\\\\${i})?.*?[^\\s](\\\\${i})?)((?<!\\\\)|(?<=\\\\\\\\))(${i})(?!\\\\)`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp(`(?<![\\\\])(${r.join("|")})`,"g"),transformersByTag:t}}(n.textFormat);return(e,o)=>{const i=e.split("\n"),s=i.length,l=o||Ro();l.clear();for(let e=0;e<s;e++){const t=i[e],[o,s]=Jg(i,e,n.multilineElement,l);o?e=s:Vg(t,l,n.element,r,n.textMatch)}const a=l.getChildren();for(const e of a)!t&&Dg(e)&&l.getChildrenSize()>1&&e.remove();null!==ir()&&l.selectStart()}}(t,r)(i,n)}(n,bh);e.append(...t)}))}),[n,i]),(0,e.useEffect)((()=>i.registerUpdateListener((e=>{let{editorState:t}=e;t.read((()=>{const e=function(e=yh,t,n=!1){return function(e,t=!1){const n=Mg(e),r=[...n.multilineElement,...n.element],o=!t,i=n.textFormat.filter((e=>1===e.format.length)).sort(((e,t)=>Number(e.format.includes("code"))-Number(t.format.includes("code"))));return e=>{const t=[],s=(e||Ro()).getChildren();for(let e=0;e<s.length;e++){const l=s[e],a=Bg(l,r,i,n.textMatch);null!=a&&t.push(o&&e>0&&!Dg(l)&&!Dg(s[e-1])?"\n".concat(a):a)}return t.join("\n")}}(e,n)(t)}(bh);o?.(e)}))}))),[i,o]),null}const xh=[{dependencies:[Du],export:e=>function(e){return e instanceof Du}(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,r)=>{const o=$u();r||null!=e.getNextSibling()?e.replace(o):e.insertBefore(o),o.selectNext()},type:"element"},...yh];function Ch({transformers:t=xh}){const[n]=r();return(0,e.useEffect)((()=>function(e,t=yh){const n=Mg(t),r=Rg(n.textFormat,(({tag:e})=>e[e.length-1])),o=Rg(n.textMatch,(({trigger:e})=>e));for(const n of t){const t=n.type;if("element"===t||"text-match"===t||"multiline-element"===t){const t=n.dependencies;for(const n of t)e.hasNode(n)||qg(173,n.getType())}}const i=(e,t,i)=>{(function(e,t,n,r){if(!fi(e.getParent())||e.getFirstChild()!==t)return!1;const o=t.getTextContent();if(" "!==o[n-1])return!1;for(const{regExp:i,replace:s}of r){const r=o.match(i);if(r&&r[0].length===(r[0].endsWith(" ")?n:n-1)){const o=t.getNextSiblings(),[i,l]=t.splitText(n);if(i.remove(),!1!==s(e,l?[l,...o]:o,r,!1))return!0}}return!1})(e,t,i,n.element)||function(e,t,n,r){if(!fi(e.getParent())||e.getFirstChild()!==t)return!1;const o=t.getTextContent();if(" "!==o[n-1])return!1;for(const{regExpStart:i,replace:s,regExpEnd:l}of r){if(l&&!("optional"in l)||l&&"optional"in l&&!l.optional)continue;const r=o.match(i);if(r&&r[0].length===(r[0].endsWith(" ")?n:n-1)){const o=t.getNextSiblings(),[i,l]=t.splitText(n);if(i.remove(),!1!==s(e,l?[l,...o]:o,r,null,null,!1))return!0}}return!1}(e,t,i,n.multilineElement)||function(e,t,n){let r=e.getTextContent();const o=n[r[t-1]];if(null==o)return!1;t<r.length&&(r=r.slice(0,t));for(const t of o){if(!t.replace||!t.regExp)continue;const n=r.match(t.regExp);if(null===n)continue;const o=n.index||0,i=o+n[0].length;let s;return 0===o?[s]=e.splitText(i):[,s]=e.splitText(o,i),s.selectNext(0,0),t.replace(s,n),!0}return!1}(t,i,o)||function(e,t,n){const r=e.getTextContent(),o=t-1,i=r[o],s=n[i];if(!s)return!1;for(const t of s){const{tag:n}=t,s=n.length,l=o-s+1;if(s>1&&!Yg(r,l,n,0,s))continue;if(" "===r[l-1])continue;const a=r[o+1];if(!1===t.intraword&&a&&!Ig.test(a))continue;const c=e;let u=c,d=Zg(r,l,n),f=u;for(;d<0&&(f=f.getPreviousSibling())&&!hn(f);)if(Ln(f)){const e=f.getTextContent();u=f,d=Zg(e,e.length,n)}if(d<0)continue;if(u===c&&d+s===l)continue;const g=u.getTextContent();if(d>0&&g[d-1]===i)continue;const h=g[d-1];if(!1===t.intraword&&h&&!Ig.test(h))continue;const p=c.getTextContent(),m=p.slice(0,l)+p.slice(o+1);c.setTextContent(m);const y=u===c?m:g;u.setTextContent(y.slice(0,d)+y.slice(d+s));const _=ir(),b=nr();Io(b);const v=o-s*(u===c?2:1)+1;b.anchor.set(u.__key,d,"text"),b.focus.set(c.__key,v,"text");for(const e of t.format)b.hasFormat(e)||b.formatText(e);b.anchor.set(b.focus.key,b.focus.offset,b.focus.type);for(const e of t.format)b.hasFormat(e)&&b.toggleFormat(e);return Kn(_)&&(b.format=_.format),!0}}(t,i,r)};return e.registerUpdateListener((({tags:t,dirtyLeaves:n,editorState:r,prevEditorState:o})=>{if(t.has("collaboration")||t.has("historic"))return;if(e.isComposing())return;const s=r.read(ir),l=o.read(ir);if(!Kn(l)||!Kn(s)||!s.isCollapsed()||s.is(l))return;const a=s.anchor.key,c=s.anchor.offset,u=r._nodeMap.get(a);!Ln(u)||!n.has(a)||1!==c&&c>l.anchor.offset+1||e.update((()=>{if(!Wg(u))return;const e=u.getParent();null===e||vd(e)||i(e,u,s.anchor.offset)}))}))}(n,t)),[n,t]),null}class wh extends Cn{static getType(){return"hashtag"}static clone(e){return new wh(e.__text,e.__key)}createDOM(e){const t=super.createDOM(e);return $s(t,e.theme.hashtag),t}static importJSON(e){return function(e=""){return hi(new wh(e))}().updateFromJSON(e)}canInsertTextBefore(){return!1}isTextEntity(){return!0}}const Sh=[];class Eh extends jr{static getType(){return"mark"}static clone(e){return new Eh(e.__ids,e.__key)}static importDOM(){return null}static importJSON(e){return kh().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIDs(e.ids)}exportJSON(){return{...super.exportJSON(),ids:this.getIDs()}}constructor(e=Sh,t){super(t),this.__ids=e}createDOM(e){const t=document.createElement("mark");return $s(t,e.theme.mark),this.__ids.length>1&&$s(t,e.theme.markOverlap),t}updateDOM(e,t,n){const r=e.__ids,o=this.__ids,i=r.length,s=o.length,l=n.theme.markOverlap;return i!==s&&(1===i?2===s&&$s(t,l):1===s&&js(t,l)),!1}hasID(e){return this.getIDs().includes(e)}getIDs(){return Array.from(this.getLatest().__ids)}setIDs(e){const t=this.getWritable();return t.__ids=e,t}addID(e){const t=this.getWritable();return t.__ids.includes(e)?t:t.setIDs([...t.__ids,e])}deleteID(e){const t=this.getWritable(),n=t.__ids.indexOf(e);if(-1===n)return t;const r=Array.from(t.__ids);return r.splice(n,1),t.setIDs(r)}insertNewAfter(e,t=!0){const n=kh(this.__ids);return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!Kn(t)||"html"===n)return!1;const r=t.anchor,o=t.focus,i=r.getNode(),s=o.getNode(),l=t.isBackward()?r.offset-o.offset:o.offset-r.offset;return this.isParentOf(i)&&this.isParentOf(s)&&this.getTextContent().length===l}excludeFromCopy(e){return"clone"!==e}}function kh(e=Sh){return hi(new Eh(e))}class Nh extends jr{static getType(){return"overflow"}static clone(e){return new Nh(e.__key)}static importJSON(e){return hi(new Nh).updateFromJSON(e)}static importDOM(){return null}createDOM(e){const t=document.createElement("span"),n=e.theme.characterLimit;return"string"==typeof n&&(t.className=n),t}updateDOM(e,t){return!1}insertNewAfter(e,t=!0){return this.getParentOrThrow().insertNewAfter(e,t)}excludeFromCopy(){return!0}static transform(){return e=>{(function(e){return e instanceof Nh})(e)||function(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(204),e.isEmpty()&&e.remove()}}}const Th=[$l,za,Fa,zl,_d,Eu,_c,Ec,wh,Nd,tc,Ga,Nh,Du,Eh];function Oh(e,t){return Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oh(e,t)}var Fh={error:null},Ah=function(t){var n,r;function o(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state=Fh,e.resetErrorBoundary=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==e.props.onReset||(t=e.props).onReset.apply(t,r),e.reset()},e}r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,Oh(n,r),o.getDerivedStateFromError=function(e){return{error:e}};var i=o.prototype;return i.reset=function(){this.setState(Fh)},i.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},i.componentDidUpdate=function(e,t){var n,r,o,i,s=this.state.error,l=this.props.resetKeys;null!==s&&null!==t.error&&(void 0===(o=e.resetKeys)&&(o=[]),void 0===(i=l)&&(i=[]),o.length!==i.length||o.some((function(e,t){return!Object.is(e,i[t])})))&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,l),this.reset())},i.render=function(){var t=this.state.error,n=this.props,r=n.fallbackRender,o=n.FallbackComponent,i=n.fallback;if(null!==t){var s={error:t,resetErrorBoundary:this.resetErrorBoundary};if(e.isValidElement(i))return i;if("function"==typeof r)return r(s);if(o)return e.createElement(o,s);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},o}(e.Component);function Lh({children:e,onError:t}){return(0,ks.jsx)(Ah,{fallback:(0,ks.jsx)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:e})}const Ph=6,Rh=t=>{let{maxIndent:n=Ph}=t;const[o]=r();function i(e){const t=ir();if(!Kn(t))return!1;const n=new Set,r=t.getNodes();for(let t=0;t<r.length;t++){const o=r[t],i=o.getKey();if(!n.has(i))try{const t=Ws(o),r=t.getKey();t.canIndent()&&!n.has(r)&&(n.add(r),e(t))}catch(e){}}return n.size>0}return(0,e.useEffect)((()=>{const e=e=>{const t=e.getIndent();t<n&&e.setIndent(t+1)},t=e=>{const t=e.getIndent();t>0&&e.setIndent(t-1)};return Bs(o.registerCommand(_t,(()=>i(e)),io),o.registerCommand(bt,(()=>i(t)),io))}),[o,n]),null},Mh=e=>{console.error(e)},Ih=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{namespace:"ProfessionalEditor",theme:Ku,nodes:[...Th,...e.nodes||[]],onError:e.onError||Mh,editable:!1!==e.editable}};function zh(n){let{initialConfig:r={},children:o,customClass:i={editorContainerClass:"",toolbarClass:"",scrollableContainerClass:"",contentEditableWrapperClass:"",contentEditableClass:""},value:s="",onChange:l}=n;const a=Ih(r),c=(0,e.useRef)(null);return t().createElement(Fs,{initialConfig:a},t().createElement("div",{className:`tde-editorContainer ${i?.editorContainerClass??""}`},t().createElement(Ng,{className:i?.toolbarClass??""}),t().createElement("div",{className:`tde-scrollable-container ${i?.scrollableContainerClass??""}`},t().createElement("div",{ref:c,className:"tde-anchor-element"},t().createElement(Xl,{contentEditable:t().createElement("div",{ref:c,className:`tde-contentEditable-wrapper ${i?.contentEditableWrapperClass??""}`},t().createElement(ra,{className:`tde-contentEditable ${i?.contentEditableClass??""}`})),ErrorBoundary:Lh}))),t().createElement(vh,{value:s,onChange:l}),t().createElement(pa,null),t().createElement(ha,null),t().createElement(Za,null),t().createElement(ac,null),t().createElement(cc,null),t().createElement(pc,null),t().createElement(Ru,null),t().createElement(ju,null),t().createElement(Pg,null),t().createElement(Rh,{maxIndent:10}),t().createElement(Ch,{transformers:bh}),t().createElement(cc,null),o))}})(),i})()));
//# sourceMappingURL=main.js.map